# Руководство пользователя

**Версия:** 2.0.0
**Дата обновления:** 26 декабря 2025 г.

## Введение

Система планирования судов - это современная веб-платформа для управления морскими грузоперевозками. Она помогает планировать рейсы, отслеживать загрузку причалов, оптимизировать маршруты и рассчитывать экономическую эффективность перевозок.

### Основные возможности

-  Автоматическая генерация расписаний для флота
-  Интерактивные диаграммы Ганта
-  Управление грузами, судами и маршрутами
-  Финансовый анализ и отчетность
-  Визуализация сети маршрутов
-  Экспорт данных в Excel
-  Современный веб-интерфейс на базе Vue.js

Программа работает в вашем браузере (рекомендуется Chrome, Edge или Firefox). Все данные хранятся локально на вашем компьютере. Интернет требуется только для первоначальной загрузки.

## Системные требования

- **Операционная система:** Windows 10/11, macOS, Linux
- **Python:** версия 3.8 или выше
- **Node.js:** версия 16 или выше (для разработки)
- **Браузер:** Chrome 90+, Firefox 88+, Edge 90+ или Safari 14+
- **Оперативная память:** минимум 4 ГБ
- **Место на диске:** минимум 500 МБ

## Установка и первый запуск

### Шаг 1: Установка зависимостей

Если вы запускаете программу впервые, выполните следующие действия:

1. Убедитесь, что на компьютере установлен **Python 3.8+**.
   - Проверить версию: откройте командную строку и введите `python --version`
   
2. Откройте папку с программой.

3. Запустите файл **`install.bat`** (для Windows) двойным щелчком мыши.
   - Откроется окно командной строки
   - Будет происходить установка необходимых Python-пакетов и Node.js-зависимостей
   - Дождитесь сообщения "Установка завершена"
   - Нажмите любую клавишу для закрытия окна

**Для пользователей Linux/macOS:**
```bash
pip install -r requirements.txt
npm install
```

### Шаг 2: Запуск программы

Для начала работы:

1. Запустите файл **`start.bat`** (двойным щелчком).
   
2. Откроется окно сервера (не закрывайте его во время работы).
   - В окне будут отображаться сообщения о работе сервера
   - Сообщение "Running on http://127.0.0.1:5000" означает успешный запуск

3. Автоматически откроется ваш браузер с новым интерфейсом программы.

**Если браузер не открылся автоматически:**

Откройте браузер вручную и введите один из адресов:

- **Новый интерфейс (Vue.js):** `http://localhost:5173` (разработка) или `http://localhost:5000` (продакшн)
- **Классический интерфейс:** `http://localhost:5000/vessel_scheduler_complete.html`

**Для пользователей Linux/macOS:**
```bash
# В одном терминале
python api_server_enhanced.py

# В другом терминале (для разработки)
npm run dev
```

### Остановка программы

- Закройте окно браузера
- В окне сервера нажмите `Ctrl+C` для остановки
- Или просто закройте окно сервера

## Работа с программой

### Обзор интерфейса

Новый интерфейс программы построен на современной архитектуре Vue.js и включает:

- **Боковое меню навигации** - быстрый доступ к основным разделам
- **Верхнее меню** - действия и настройки
- **Основная область** - содержимое активного раздела
- **Панель уведомлений** - важные сообщения и предупреждения

### Основные разделы

####  Главная панель (Dashboard)

Стартовая страница с обзором системы:

- **Статистика** - общее количество судов, грузов, маршрутов
- **Активные рейсы** - текущие операции
- **Уведомления** - важные события и задачи
- **Быстрые действия** - кнопки для частых операций

**Как использовать:**
- При первом входе вы увидите пустую панель
- После добавления данных здесь появится статистика
- Нажмите на карточки для перехода в соответствующий раздел

---

####  Управление судами

Раздел для работы с флотом.

**Просмотр списка судов:**
1. Откройте раздел "Суда" в меню
2. Вы увидите таблицу со всеми судами флота
3. Используйте поиск и фильтры для быстрого поиска

**Добавление нового судна:**
1. Нажмите кнопку "+ Добавить судно"
2. Заполните форму:
   - **ID судна** - уникальный идентификатор
   - **Название** - название судна
   - **Тип** - тип судна (танкер, балкер и т.д.)
   - **Дедвейт (DWT)** - грузоподъемность в тоннах
   - **Скорость** - крейсерская скорость в узлах
   - **Расход топлива** - потребление в тоннах/день
3. Нажмите "Сохранить"

**Редактирование:**
- Нажмите на судно в списке для просмотра деталей
- Нажмите "Редактировать" для изменения параметров
- Внесите изменения и сохраните

---

####  Управление грузами

Работа с грузовыми обязательствами.

**Добавление груза:**
1. Откройте "Грузы" → "+ Добавить груз"
2. Заполните обязательные поля:
   - **Cargo ID** - идентификатор груза
   - **Товар** - тип груза (уголь, зерно, руда и т.д.)
   - **Количество (MT)** - объем в метрических тоннах
   - **Порт погрузки** - откуда
   - **Порт выгрузки** - куда
   - **Laycan Start** - начало окна погрузки
   - **Laycan End** - конец окна погрузки
3. Дополнительно:
   - **Фрахтовая ставка** - цена за тонну
   - **Примечания** - дополнительная информация
4. Нажмите "Создать груз"

**Статусы грузов:**
-  **Pending** - ожидает назначения
-  **Assigned** - назначен на судно
-  **Completed** - перевезен
- ⭕ **Cancelled** - отменен

---

####  Управление маршрутами

Настройка морских путей между портами.

**Создание маршрута:**
1. Откройте "Маршруты" → "+ Новый маршрут"
2. Укажите:
   - **Порт отправления**
   - **Порт назначения**
   - **Расстояние (мили)** - морское расстояние
   - **Проливы/каналы** - если есть
   - **Ограничения** - максимальная осадка, ширина и т.д.
3. Сохраните маршрут

**Визуализация сети:**
- Перейдите во вкладку "Визуализация сети"
- Вы увидите интерактивную карту маршрутов
- Наведите курсор на узлы и связи для деталей

---

####  Генерация расписания

Главный инструмент для планирования рейсов.

**Создание расписания:**
1. Откройте "Конструктор рейсов"
2. Выберите режим:
   - **Balakovo** - для речных перевозок
   - **Deepsea** - для морских рейсов
   - **Olya** - специализированные маршруты
3. Нажмите "Сгенерировать расписание"
4. Подождите, пока система рассчитает оптимальное распределение
5. Результат отобразится в диаграмме Ганта

**Диаграмма Ганта:**

Интерактивный график операций флота по дням:

- **Цветовая легенда:**
  -  П - Погрузка (Loading)
  -  В - Выгрузка (Discharge)
  -  Т - Транзит (Transit)
  -  Б - Балласт (Ballast)
  -  К - Канал (Canal)
  -  Ф - Бункеровка (Bunker)

- **Управление:**
  - Измените **Timeline Days** для увеличения/уменьшения периода
  - Используйте **Voyage Filter** для фильтрации рейсов
  - Кнопка **Refresh** обновляет данные
  - Кнопка **Export** сохраняет в Excel
  - Наведите курсор на ячейку для деталей операции

---

####  Финансовый анализ

Расчет экономической эффективности.

**Просмотр анализа:**
1. Откройте "Финансы"
2. Выберите период анализа
3. Система покажет:
   - **Общий доход** - сумма фрахтов
   - **Расходы** - бункер, портовые сборы
   - **Прибыль** - итоговый результат
   - **Эффективность флота** - загрузка судов

**Экспорт отчета:**
- Нажмите "Скачать отчет"
- Файл Excel будет сохранен в папку загрузок

---

####  Отчеты и экспорт

**Доступные отчеты:**

1. **График Ганта** - визуализация расписания
2. **Сводка по рейсам** - таблица всех операций
3. **Загрузка флота** - анализ использования судов
4. **Финансовый отчет** - доходы и расходы
5. **Загрузка причалов** - использование портовых мощностей

**Как экспортировать:**
1. Откройте нужный отчет
2. Нажмите кнопку "Экспорт в Excel" или "Скачать"
3. Выберите формат (Excel, CSV, PDF)
4. Файл сохранится в папку загрузок браузера

---

### Работа с данными

#### Импорт данных из файлов

Система поддерживает импорт из CSV и Excel файлов.

**Шаблоны файлов находятся в папке `input/`:**

- `input/deepsea/vessels.csv` - суда
- `input/deepsea/ports_deepsea.csv` - порты
- `input/deepsea/routes_deepsea.csv` - маршруты
- `input/deepsea/voyage_plan.csv` - план рейсов
- `sample_data/CargoCommitments.csv` - грузы

**Процесс импорта:**

1. Подготовьте файл по шаблону
2. В программе выберите "Импорт данных"
3. Нажмите "Выбрать файл" и укажите ваш файл
4. Данные автоматически загрузятся и валидируются
5. Если есть ошибки, система покажет их список

**Форматы дат:**
- Используйте формат YYYY-MM-DD (например, 2025-01-15)
- Или DD.MM.YYYY (например, 15.01.2025)

#### Резервное копирование

**Создание резервной копии:**
1. Откройте "Настройки" → "Резервное копирование"
2. Нажмите "Создать копию"
3. Все данные будут экспортированы в ZIP-архив

**Восстановление из копии:**
1. Откройте "Настройки" → "Восстановление"
2. Выберите файл резервной копии
3. Подтвердите восстановление
