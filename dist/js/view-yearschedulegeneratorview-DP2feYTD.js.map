{"version":3,"file":"view-yearschedulegeneratorview-DP2feYTD.js","sources":["../../src/components/schedule/ScheduleConfigForm.vue","../../src/components/schedule/ResourceAllocationGrid.vue","../../src/components/schedule/ConflictDetector.vue","../../src/components/schedule/TemplateSelector.vue","../../src/views/YearScheduleGeneratorView.vue"],"sourcesContent":["<template>\n  <div class=\"schedule-config-form\">\n    <h3>Schedule Configuration</h3>\n\n    <div class=\"form-group\">\n      <label for=\"year\">Year</label>\n      <input\n        id=\"year\"\n        v-model.number=\"localConfig.year\"\n        type=\"number\"\n        min=\"2020\"\n        :max=\"maxYear\"\n        class=\"form-control\"\n        @input=\"emitUpdate\"\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"module\">Module</label>\n      <select\n        id=\"module\"\n        v-model=\"localConfig.module\"\n        class=\"form-control\"\n        @change=\"emitUpdate\"\n      >\n        <option value=\"deepsea\">Deep Sea</option>\n        <option value=\"olya\">Olya</option>\n        <option value=\"balakovo\">Balakovo</option>\n      </select>\n    </div>\n\n    <div class=\"form-group\">\n      <label>Vessels</label>\n      <MultiSelect\n        v-model=\"localConfig.vessels\"\n        :options=\"vesselOptions\"\n        placeholder=\"Select vessels...\"\n        @update:model-value=\"emitUpdate\"\n      />\n      <small class=\"form-text\">\n        {{ localConfig.vessels.length }} vessel(s) selected\n      </small>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"goal\">Optimization Goal</label>\n      <select\n        id=\"goal\"\n        v-model=\"localConfig.optimizationGoal\"\n        class=\"form-control\"\n        @change=\"emitUpdate\"\n      >\n        <option value=\"maximize-revenue\">Maximize Revenue</option>\n        <option value=\"minimize-cost\">Minimize Cost</option>\n        <option value=\"balance-utilization\">Balance Utilization</option>\n      </select>\n    </div>\n\n    <div class=\"form-group\">\n      <label class=\"checkbox-label\">\n        <input\n          v-model=\"localConfig.loadCargoCommitments\"\n          type=\"checkbox\"\n          @change=\"emitUpdate\"\n        />\n        <span>Load Cargo Commitments</span>\n      </label>\n      <small class=\"form-text\">\n        Include existing cargo commitments in schedule generation\n      </small>\n    </div>\n\n    <div class=\"form-group\">\n      <label class=\"checkbox-label\">\n        <input\n          v-model=\"localConfig.useTemplates\"\n          type=\"checkbox\"\n          @change=\"emitUpdate\"\n        />\n        <span>Use Voyage Templates</span>\n      </label>\n      <small class=\"form-text\">\n        Apply predefined voyage patterns to the schedule\n      </small>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted } from 'vue';\nimport { useVesselStore } from '@/stores/vessel';\nimport type { YearScheduleConfig } from '@/types/schedule.types';\nimport MultiSelect from '@/components/shared/MultiSelect.vue';\n\ninterface Props {\n  config: YearScheduleConfig;\n  loading?: boolean;\n}\n\ninterface Emits {\n  (e: 'update:config', config: YearScheduleConfig): void;\n  (e: 'submit'): void;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false,\n});\n\nconst emit = defineEmits<Emits>();\n\nconst vesselStore = useVesselStore();\n\n// Local state\nconst localConfig = ref<YearScheduleConfig>({ ...props.config });\n\n// Computed\nconst maxYear = computed(() => new Date().getFullYear() + 5);\n\nconst vesselOptions = computed(() => {\n  return vesselStore.vessels.map(v => ({\n    value: v.id,\n    label: v.name,\n  }));\n});\n\n// Methods\nfunction emitUpdate() {\n  emit('update:config', { ...localConfig.value });\n}\n\n// Watch for external config changes\nwatch(() => props.config, (newConfig) => {\n  localConfig.value = { ...newConfig };\n}, { deep: true });\n\n// Lifecycle\nonMounted(async () => {\n  if (vesselStore.vessels.length === 0) {\n    await vesselStore.fetchVessels();\n  }\n});\n</script>\n\n<style scoped>\n.schedule-config-form {\n  background: white;\n  border-radius: 0.5rem;\n  padding: 1.25rem;\n  border: 1px solid var(--border-color, #e5e7eb);\n}\n\n.schedule-config-form h3 {\n  margin: 0 0 1.25rem 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--text-primary, #111827);\n}\n\n.form-group {\n  margin-bottom: 1.25rem;\n}\n\n.form-group:last-child {\n  margin-bottom: 0;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  font-size: 0.875rem;\n  color: var(--text-primary, #111827);\n}\n\n.form-control {\n  width: 100%;\n  padding: 0.625rem 0.75rem;\n  border: 1px solid var(--border-color, #d1d5db);\n  border-radius: 0.375rem;\n  font-size: 0.875rem;\n  transition: border-color 0.15s, box-shadow 0.15s;\n}\n\n.form-control:focus {\n  outline: none;\n  border-color: var(--primary-color, #3b82f6);\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-weight: 500;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  width: 1rem;\n  height: 1rem;\n  cursor: pointer;\n}\n\n.checkbox-label span {\n  user-select: none;\n}\n\n.form-text {\n  display: block;\n  margin-top: 0.375rem;\n  font-size: 0.75rem;\n  color: var(--text-secondary, #6b7280);\n  line-height: 1.4;\n}\n</style>\n","<template>\n  <div class=\"resource-allocation-grid\">\n    <div class=\"grid-header\">\n      <h3>Resource Allocation Timeline - {{ year }}</h3>\n      <div class=\"view-controls\">\n        <button\n          :class=\"['view-btn', { active: viewMode === 'month' }]\"\n          @click=\"viewMode = 'month'\"\n        >\n          Monthly\n        </button>\n        <button\n          :class=\"['view-btn', { active: viewMode === 'quarter' }]\"\n          @click=\"viewMode = 'quarter'\"\n        >\n          Quarterly\n        </button>\n      </div>\n    </div>\n\n    <div class=\"grid-container\">\n      <!-- Timeline Header -->\n      <div class=\"timeline-header\">\n        <div class=\"vessel-col-header\">Vessel</div>\n        <div class=\"months-row\">\n          <div\n            v-for=\"month in displayMonths\"\n            :key=\"month.index\"\n            class=\"month-header\"\n            :style=\"{ width: month.width }\"\n          >\n            {{ month.name }}\n          </div>\n        </div>\n      </div>\n\n      <!-- Vessel Rows -->\n      <div class=\"vessel-rows\">\n        <div\n          v-for=\"vessel in vesselAllocations\"\n          :key=\"vessel.vesselId\"\n          class=\"vessel-row\"\n        >\n          <div class=\"vessel-info\">\n            <span class=\"vessel-name\">{{ vessel.vesselName }}</span>\n            <span class=\"utilization-badge\" :class=\"getUtilizationClass(vessel.utilizationRate)\">\n              {{ vessel.utilizationRate.toFixed(0) }}%\n            </span>\n          </div>\n          <div class=\"timeline-track\">\n            <div\n              v-for=\"allocation in getVesselMonthlyData(vessel.vesselId)\"\n              :key=\"`${vessel.vesselId}-${allocation.month}`\"\n              class=\"month-cell\"\n              :class=\"{ 'has-voyages': allocation.voyages > 0 }\"\n              :title=\"`${getMonthName(allocation.month)}: ${allocation.voyages} voyage(s)`\"\n              @click=\"handleCellClick(vessel.vesselId, allocation.month)\"\n            >\n              <div\n                v-if=\"allocation.voyages > 0\"\n                class=\"allocation-bar\"\n                :style=\"{ height: `${Math.min(allocation.utilization, 100)}%` }\"\n              >\n                <span class=\"voyage-count\">{{ allocation.voyages }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-if=\"vesselAllocations.length === 0\" class=\"empty-grid\">\n        <i class=\"icon-calendar\"></i>\n        <p>No resource allocations to display</p>\n      </div>\n    </div>\n\n    <!-- Details Panel -->\n    <div v-if=\"selectedCell\" class=\"details-panel\">\n      <div class=\"details-header\">\n        <h4>{{ selectedCell.vesselName }} - {{ getMonthName(selectedCell.month) }}</h4>\n        <button class=\"close-btn\" @click=\"selectedCell = null\">×</button>\n      </div>\n      <div class=\"details-content\">\n        <div class=\"detail-item\">\n          <span class=\"label\">Voyages:</span>\n          <span class=\"value\">{{ selectedCell.voyages.length }}</span>\n        </div>\n        <div class=\"detail-item\">\n          <span class=\"label\">Utilization:</span>\n          <span class=\"value\">{{ selectedCell.utilization.toFixed(1) }}%</span>\n        </div>\n        <div class=\"voyages-list\">\n          <h5>Scheduled Voyages</h5>\n          <div\n            v-for=\"voyage in selectedCell.voyages\"\n            :key=\"voyage\"\n            class=\"voyage-item\"\n          >\n            <span>{{ voyage }}</span>\n            <button class=\"btn-edit\" @click=\"handleEditVoyage(voyage)\">\n              Edit\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport type { ResourceAllocation } from '@/types/schedule.types';\n\ninterface Props {\n  allocations: ResourceAllocation[];\n  year: number;\n}\n\ninterface Emits {\n  (e: 'adjust', data: { vesselId: string; month: number; adjustments: any }): void;\n  (e: 'edit-voyage', voyageId: string): void;\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits<Emits>();\n\n// State\nconst viewMode = ref<'month' | 'quarter'>('month');\nconst selectedCell = ref<{\n  vesselId: string;\n  vesselName: string;\n  month: number;\n  voyages: string[];\n  utilization: number;\n} | null>(null);\n\n// Computed\nconst vesselAllocations = computed(() => {\n  const vesselMap = new Map();\n  \n  props.allocations.forEach(allocation => {\n    allocation.vessels.forEach(vessel => {\n      if (!vesselMap.has(vessel.vesselId)) {\n        vesselMap.set(vessel.vesselId, {\n          vesselId: vessel.vesselId,\n          vesselName: vessel.vesselName,\n          utilizationRate: 0,\n          totalVoyages: 0,\n        });\n      }\n      const v = vesselMap.get(vessel.vesselId);\n      v.utilizationRate += vessel.utilizationRate;\n      v.totalVoyages += vessel.assignedVoyages.length;\n    });\n  });\n\n  return Array.from(vesselMap.values()).map(v => ({\n    ...v,\n    utilizationRate: v.utilizationRate / 12, // Average across year\n  }));\n});\n\nconst displayMonths = computed(() => {\n  if (viewMode.value === 'quarter') {\n    return [\n      { index: 1, name: 'Q1', width: '25%' },\n      { index: 2, name: 'Q2', width: '25%' },\n      { index: 3, name: 'Q3', width: '25%' },\n      { index: 4, name: 'Q4', width: '25%' },\n    ];\n  }\n  return Array.from({ length: 12 }, (_, i) => ({\n    index: i + 1,\n    name: getMonthShortName(i + 1),\n    width: `${100 / 12}%`,\n  }));\n});\n\n// Methods\nfunction getVesselMonthlyData(vesselId: string) {\n  const monthlyData = [];\n  \n  for (let month = 1; month <= 12; month++) {\n    const allocation = props.allocations.find(a => a.month === month);\n    const vessel = allocation?.vessels.find(v => v.vesselId === vesselId);\n    \n    monthlyData.push({\n      month,\n      voyages: vessel?.assignedVoyages.length || 0,\n      utilization: vessel?.utilizationRate || 0,\n      voyageIds: vessel?.assignedVoyages || [],\n    });\n  }\n  \n  return monthlyData;\n}\n\nfunction handleCellClick(vesselId: string, month: number) {\n  const allocation = props.allocations.find(a => a.month === month);\n  const vessel = allocation?.vessels.find(v => v.vesselId === vesselId);\n  \n  if (vessel && vessel.assignedVoyages.length > 0) {\n    const vesselInfo = vesselAllocations.value.find(v => v.vesselId === vesselId);\n    selectedCell.value = {\n      vesselId,\n      vesselName: vesselInfo?.vesselName || '',\n      month,\n      voyages: vessel.assignedVoyages,\n      utilization: vessel.utilizationRate,\n    };\n  }\n}\n\nfunction handleEditVoyage(voyageId: string) {\n  emit('edit-voyage', voyageId);\n}\n\nfunction getUtilizationClass(rate: number): string {\n  if (rate >= 90) return 'high';\n  if (rate >= 70) return 'medium';\n  if (rate >= 50) return 'low';\n  return 'very-low';\n}\n\nfunction getMonthName(month: number): string {\n  const months = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n  ];\n  return months[month - 1];\n}\n\nfunction getMonthShortName(month: number): string {\n  return getMonthName(month).substring(0, 3);\n}\n</script>\n\n<style scoped>\n.resource-allocation-grid {\n  background: white;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.5rem;\n  overflow: hidden;\n}\n\n.grid-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid var(--border-color, #e5e7eb);\n  background: var(--bg-secondary, #f9fafb);\n}\n\n.grid-header h3 {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n}\n\n.view-controls {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.view-btn {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--border-color, #e5e7eb);\n  background: white;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.view-btn:hover {\n  background: var(--bg-secondary, #f9fafb);\n}\n\n.view-btn.active {\n  background: var(--primary-color, #3b82f6);\n  color: white;\n  border-color: var(--primary-color, #3b82f6);\n}\n\n.grid-container {\n  padding: 1rem;\n}\n\n.timeline-header {\n  display: flex;\n  margin-bottom: 0.5rem;\n}\n\n.vessel-col-header {\n  width: 200px;\n  flex-shrink: 0;\n  font-weight: 600;\n  padding: 0.5rem;\n  color: var(--text-secondary, #6b7280);\n  font-size: 0.875rem;\n}\n\n.months-row {\n  flex: 1;\n  display: flex;\n}\n\n.month-header {\n  text-align: center;\n  font-weight: 500;\n  font-size: 0.75rem;\n  color: var(--text-secondary, #6b7280);\n  padding: 0.5rem 0.25rem;\n  border-left: 1px solid var(--border-color, #e5e7eb);\n}\n\n.vessel-rows {\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.vessel-row {\n  display: flex;\n  border-bottom: 1px solid var(--border-color, #e5e7eb);\n  min-height: 60px;\n}\n\n.vessel-row:hover {\n  background: var(--bg-secondary, #f9fafb);\n}\n\n.vessel-info {\n  width: 200px;\n  flex-shrink: 0;\n  padding: 0.75rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.vessel-name {\n  font-weight: 500;\n  font-size: 0.875rem;\n}\n\n.utilization-badge {\n  display: inline-block;\n  padding: 0.125rem 0.5rem;\n  border-radius: 0.25rem;\n  font-size: 0.75rem;\n  font-weight: 500;\n  width: fit-content;\n}\n\n.utilization-badge.high {\n  background: #dcfce7;\n  color: #166534;\n}\n\n.utilization-badge.medium {\n  background: #fef3c7;\n  color: #92400e;\n}\n\n.utilization-badge.low {\n  background: #fee2e2;\n  color: #991b1b;\n}\n\n.utilization-badge.very-low {\n  background: #f3f4f6;\n  color: #6b7280;\n}\n\n.timeline-track {\n  flex: 1;\n  display: flex;\n  align-items: stretch;\n}\n\n.month-cell {\n  flex: 1;\n  border-left: 1px solid var(--border-color, #e5e7eb);\n  position: relative;\n  cursor: pointer;\n  transition: background 0.2s;\n  display: flex;\n  align-items: flex-end;\n  padding: 0.25rem;\n}\n\n.month-cell:hover {\n  background: rgba(59, 130, 246, 0.05);\n}\n\n.month-cell.has-voyages {\n  background: rgba(59, 130, 246, 0.02);\n}\n\n.allocation-bar {\n  width: 100%;\n  background: linear-gradient(to top, var(--primary-color, #3b82f6), rgba(59, 130, 246, 0.7));\n  border-radius: 0.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 20px;\n  position: relative;\n  transition: all 0.2s;\n}\n\n.month-cell:hover .allocation-bar {\n  background: var(--primary-color, #3b82f6);\n}\n\n.voyage-count {\n  color: white;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n}\n\n.empty-grid {\n  text-align: center;\n  padding: 3rem 1rem;\n  color: var(--text-secondary, #6b7280);\n}\n\n.empty-grid i {\n  font-size: 3rem;\n  opacity: 0.3;\n  margin-bottom: 1rem;\n}\n\n.details-panel {\n  border-top: 1px solid var(--border-color, #e5e7eb);\n  background: var(--bg-secondary, #f9fafb);\n  padding: 1rem;\n}\n\n.details-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.details-header h4 {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: var(--text-secondary, #6b7280);\n  padding: 0;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.close-btn:hover {\n  color: var(--text-primary, #111827);\n}\n\n.details-content {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.detail-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem;\n  background: white;\n  border-radius: 0.375rem;\n}\n\n.detail-item .label {\n  font-weight: 500;\n  color: var(--text-secondary, #6b7280);\n}\n\n.detail-item .value {\n  font-weight: 600;\n}\n\n.voyages-list h5 {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.875rem;\n  font-weight: 600;\n}\n\n.voyage-item {\n  background: white;\n  padding: 0.75rem;\n  border-radius: 0.375rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n\n.btn-edit {\n  padding: 0.25rem 0.75rem;\n  background: var(--primary-color, #3b82f6);\n  color: white;\n  border: none;\n  border-radius: 0.25rem;\n  cursor: pointer;\n  font-size: 0.75rem;\n  transition: background 0.2s;\n}\n\n.btn-edit:hover {\n  background: var(--primary-hover, #2563eb);\n}\n</style>\n","<template>\n  <div class=\"conflict-detector\">\n    <div class=\"detector-header\">\n      <h3>\n        <i class=\"icon-alert-triangle\"></i>\n        Conflicts & Issues\n      </h3>\n      <div class=\"conflict-summary\">\n        <span v-if=\"conflicts.length === 0\" class=\"no-conflicts\">\n          <i class=\"icon-check-circle\"></i>\n          No conflicts detected\n        </span>\n        <template v-else>\n          <span class=\"conflict-badge critical\">{{ criticalCount }} Critical</span>\n          <span class=\"conflict-badge high\">{{ highCount }} High</span>\n          <span class=\"conflict-badge medium\">{{ mediumCount }} Medium</span>\n          <span class=\"conflict-badge low\">{{ lowCount }} Low</span>\n        </template>\n      </div>\n    </div>\n\n    <div v-if=\"conflicts.length > 0\" class=\"conflicts-container\">\n      <!-- Filter Controls -->\n      <div class=\"filter-bar\">\n        <select v-model=\"filterSeverity\" class=\"filter-select\">\n          <option value=\"\">All Severities</option>\n          <option value=\"critical\">Critical</option>\n          <option value=\"high\">High</option>\n          <option value=\"medium\">Medium</option>\n          <option value=\"low\">Low</option>\n        </select>\n        <select v-model=\"filterType\" class=\"filter-select\">\n          <option value=\"\">All Types</option>\n          <option value=\"vessel-overlap\">Vessel Overlap</option>\n          <option value=\"port-capacity\">Port Capacity</option>\n          <option value=\"cargo-timing\">Cargo Timing</option>\n          <option value=\"resource-shortage\">Resource Shortage</option>\n        </select>\n      </div>\n\n      <!-- Conflicts List -->\n      <div class=\"conflicts-list\">\n        <div\n          v-for=\"conflict in filteredConflicts\"\n          :key=\"conflict.id\"\n          :class=\"['conflict-card', `severity-${conflict.severity}`]\"\n        >\n          <div class=\"conflict-header\">\n            <div class=\"conflict-title\">\n              <i :class=\"getConflictIcon(conflict.type)\"></i>\n              <span class=\"conflict-type\">{{ formatType(conflict.type) }}</span>\n              <span :class=\"['severity-tag', conflict.severity]\">\n                {{ conflict.severity.toUpperCase() }}\n              </span>\n            </div>\n            <button\n              v-if=\"!conflict.resolved\"\n              class=\"resolve-btn\"\n              @click=\"handleResolve(conflict)\"\n            >\n              Resolve\n            </button>\n          </div>\n\n          <p class=\"conflict-description\">{{ conflict.description }}</p>\n\n          <div class=\"affected-entities\">\n            <span class=\"label\">Affected:</span>\n            <div class=\"entities-list\">\n              <span\n                v-for=\"entity in conflict.affectedEntities\"\n                :key=\"entity\"\n                class=\"entity-tag\"\n              >\n                {{ entity }}\n              </span>\n            </div>\n          </div>\n\n          <div v-if=\"conflict.suggestedResolution\" class=\"suggested-resolution\">\n            <i class=\"icon-lightbulb\"></i>\n            <span>{{ conflict.suggestedResolution }}</span>\n          </div>\n\n          <!-- Resolution Options -->\n          <div v-if=\"resolvingConflict === conflict.id\" class=\"resolution-panel\">\n            <h5>Resolution Options</h5>\n            <div class=\"resolution-options\">\n              <button\n                class=\"resolution-option\"\n                @click=\"applyResolution(conflict.id, 'auto')\"\n              >\n                <i class=\"icon-wand\"></i>\n                Auto-resolve\n              </button>\n              <button\n                class=\"resolution-option\"\n                @click=\"applyResolution(conflict.id, 'manual')\"\n              >\n                <i class=\"icon-edit\"></i>\n                Manual adjustment\n              </button>\n              <button\n                class=\"resolution-option\"\n                @click=\"applyResolution(conflict.id, 'ignore')\"\n              >\n                <i class=\"icon-eye-off\"></i>\n                Ignore\n              </button>\n            </div>\n            <button class=\"cancel-btn\" @click=\"resolvingConflict = null\">\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div v-else class=\"no-conflicts-state\">\n      <i class=\"icon-check-circle\"></i>\n      <h4>All Clear!</h4>\n      <p>No scheduling conflicts detected. Your schedule is optimized.</p>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport type { ScheduleConflict } from '@/types/schedule.types';\n\ninterface Props {\n  conflicts: ScheduleConflict[];\n  scheduleId: string;\n}\n\ninterface Emits {\n  (e: 'resolve', conflictId: string, resolution: string): void;\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits<Emits>();\n\n// State\nconst filterSeverity = ref<string>('');\nconst filterType = ref<string>('');\nconst resolvingConflict = ref<string | null>(null);\n\n// Computed\nconst filteredConflicts = computed(() => {\n  return props.conflicts.filter(conflict => {\n    if (filterSeverity.value && conflict.severity !== filterSeverity.value) {\n      return false;\n    }\n    if (filterType.value && conflict.type !== filterType.value) {\n      return false;\n    }\n    return true;\n  });\n});\n\nconst criticalCount = computed(() => \n  props.conflicts.filter(c => c.severity === 'critical').length\n);\n\nconst highCount = computed(() => \n  props.conflicts.filter(c => c.severity === 'high').length\n);\n\nconst mediumCount = computed(() => \n  props.conflicts.filter(c => c.severity === 'medium').length\n);\n\nconst lowCount = computed(() => \n  props.conflicts.filter(c => c.severity === 'low').length\n);\n\n// Methods\nfunction handleResolve(conflict: ScheduleConflict) {\n  resolvingConflict.value = conflict.id;\n}\n\nfunction applyResolution(conflictId: string, resolution: string) {\n  emit('resolve', conflictId, resolution);\n  resolvingConflict.value = null;\n}\n\nfunction formatType(type: string): string {\n  return type\n    .split('-')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n}\n\nfunction getConflictIcon(type: string): string {\n  const icons: Record<string, string> = {\n    'vessel-overlap': 'icon-anchor',\n    'port-capacity': 'icon-box',\n    'cargo-timing': 'icon-clock',\n    'resource-shortage': 'icon-alert-circle',\n  };\n  return icons[type] || 'icon-alert-triangle';\n}\n</script>\n\n<style scoped>\n.conflict-detector {\n  background: white;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.5rem;\n  overflow: hidden;\n}\n\n.detector-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  background: var(--bg-secondary, #f9fafb);\n  border-bottom: 1px solid var(--border-color, #e5e7eb);\n}\n\n.detector-header h3 {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.conflict-summary {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n\n.no-conflicts {\n  color: var(--success-color, #10b981);\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  font-weight: 500;\n}\n\n.conflict-badge {\n  padding: 0.25rem 0.625rem;\n  border-radius: 0.25rem;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n\n.conflict-badge.critical {\n  background: #fee2e2;\n  color: #991b1b;\n}\n\n.conflict-badge.high {\n  background: #fed7aa;\n  color: #9a3412;\n}\n\n.conflict-badge.medium {\n  background: #fef3c7;\n  color: #92400e;\n}\n\n.conflict-badge.low {\n  background: #dbeafe;\n  color: #1e40af;\n}\n\n.conflicts-container {\n  padding: 1rem;\n}\n\n.filter-bar {\n  display: flex;\n  gap: 0.75rem;\n  margin-bottom: 1rem;\n}\n\n.filter-select {\n  padding: 0.5rem;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.375rem;\n  font-size: 0.875rem;\n  min-width: 150px;\n}\n\n.conflicts-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.conflict-card {\n  border: 2px solid;\n  border-radius: 0.5rem;\n  padding: 1rem;\n  transition: all 0.2s;\n}\n\n.conflict-card.severity-critical {\n  border-color: #fca5a5;\n  background: #fef2f2;\n}\n\n.conflict-card.severity-high {\n  border-color: #fdba74;\n  background: #fff7ed;\n}\n\n.conflict-card.severity-medium {\n  border-color: #fcd34d;\n  background: #fefce8;\n}\n\n.conflict-card.severity-low {\n  border-color: #93c5fd;\n  background: #eff6ff;\n}\n\n.conflict-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n}\n\n.conflict-title {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex: 1;\n}\n\n.conflict-type {\n  font-weight: 600;\n  font-size: 0.875rem;\n}\n\n.severity-tag {\n  padding: 0.125rem 0.5rem;\n  border-radius: 0.25rem;\n  font-size: 0.625rem;\n  font-weight: 700;\n  letter-spacing: 0.05em;\n}\n\n.severity-tag.critical {\n  background: #dc2626;\n  color: white;\n}\n\n.severity-tag.high {\n  background: #ea580c;\n  color: white;\n}\n\n.severity-tag.medium {\n  background: #f59e0b;\n  color: white;\n}\n\n.severity-tag.low {\n  background: #3b82f6;\n  color: white;\n}\n\n.resolve-btn {\n  padding: 0.375rem 0.75rem;\n  background: var(--primary-color, #3b82f6);\n  color: white;\n  border: none;\n  border-radius: 0.25rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: background 0.2s;\n}\n\n.resolve-btn:hover {\n  background: var(--primary-hover, #2563eb);\n}\n\n.conflict-description {\n  margin: 0 0 0.75rem 0;\n  color: var(--text-secondary, #374151);\n  line-height: 1.5;\n}\n\n.affected-entities {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  margin-bottom: 0.75rem;\n}\n\n.affected-entities .label {\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: var(--text-secondary, #6b7280);\n}\n\n.entities-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.375rem;\n}\n\n.entity-tag {\n  padding: 0.125rem 0.5rem;\n  background: white;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.25rem;\n  font-size: 0.75rem;\n}\n\n.suggested-resolution {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 0.375rem;\n  font-size: 0.875rem;\n  color: var(--primary-color, #3b82f6);\n}\n\n.resolution-panel {\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--border-color, #e5e7eb);\n}\n\n.resolution-panel h5 {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.875rem;\n  font-weight: 600;\n}\n\n.resolution-options {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n}\n\n.resolution-option {\n  flex: 1;\n  padding: 0.75rem;\n  background: white;\n  border: 2px solid var(--border-color, #e5e7eb);\n  border-radius: 0.375rem;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.375rem;\n  transition: all 0.2s;\n  font-size: 0.875rem;\n}\n\n.resolution-option:hover {\n  border-color: var(--primary-color, #3b82f6);\n  background: rgba(59, 130, 246, 0.05);\n}\n\n.cancel-btn {\n  padding: 0.5rem 1rem;\n  background: white;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.375rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n}\n\n.cancel-btn:hover {\n  background: var(--bg-secondary, #f9fafb);\n}\n\n.no-conflicts-state {\n  padding: 3rem 1rem;\n  text-align: center;\n  color: var(--success-color, #10b981);\n}\n\n.no-conflicts-state i {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n  opacity: 0.7;\n}\n\n.no-conflicts-state h4 {\n  margin: 0 0 0.5rem 0;\n  color: var(--text-primary, #111827);\n  font-size: 1.25rem;\n}\n\n.no-conflicts-state p {\n  margin: 0;\n  color: var(--text-secondary, #6b7280);\n}\n</style>\n","<template>\n  <div class=\"template-selector\">\n    <div class=\"selector-header\">\n      <h4>Voyage Templates</h4>\n      <button\n        v-if=\"templates.length === 0\"\n        class=\"btn-load\"\n        @click=\"handleLoadTemplates\"\n      >\n        <i class=\"icon-download\"></i>\n        Load Templates\n      </button>\n    </div>\n\n    <div v-if=\"loading\" class=\"loading-state\">\n      <div class=\"spinner\"></div>\n      <p>Loading templates...</p>\n    </div>\n\n    <div v-else-if=\"templates.length === 0\" class=\"empty-state\">\n      <i class=\"icon-file-text\"></i>\n      <p>No templates available</p>\n      <small>Click \"Load Templates\" to fetch available voyage patterns</small>\n    </div>\n\n    <div v-else class=\"templates-list\">\n      <!-- Select All / None -->\n      <div class=\"bulk-actions\">\n        <button class=\"link-btn\" @click=\"selectAll\">Select All</button>\n        <span class=\"separator\">|</span>\n        <button class=\"link-btn\" @click=\"selectNone\">Select None</button>\n        <span class=\"selected-count\">{{ selectedCount }} selected</span>\n      </div>\n\n      <!-- Templates -->\n      <div class=\"templates-grid\">\n        <label\n          v-for=\"template in filteredTemplates\"\n          :key=\"template.id\"\n          class=\"template-card\"\n          :class=\"{ selected: isSelected(template.id) }\"\n        >\n          <input\n            type=\"checkbox\"\n            :value=\"template.id\"\n            :checked=\"isSelected(template.id)\"\n            @change=\"toggleTemplate(template.id)\"\n          />\n          <div class=\"template-content\">\n            <div class=\"template-header\">\n              <span class=\"template-name\">{{ template.name }}</span>\n              <span class=\"pattern-badge\">{{ formatPattern(template.pattern) }}</span>\n            </div>\n            <p v-if=\"template.description\" class=\"template-description\">\n              {{ template.description }}\n            </p>\n            <div class=\"template-meta\">\n              <span class=\"meta-item\">\n                <i class=\"icon-clock\"></i>\n                {{ template.estimatedDays }} days\n              </span>\n              <span class=\"meta-item\">\n                <i class=\"icon-anchor\"></i>\n                {{ template.ports.length }} ports\n              </span>\n              <span v-if=\"template.cargoTypes.length > 0\" class=\"meta-item\">\n                <i class=\"icon-box\"></i>\n                {{ template.cargoTypes.length }} cargo types\n              </span>\n            </div>\n            <div class=\"ports-preview\">\n              <small>Ports: {{ template.ports.join(' → ') }}</small>\n            </div>\n          </div>\n        </label>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport type { ScheduleTemplate } from '@/types/schedule.types';\n\ninterface Props {\n  templates: ScheduleTemplate[];\n  module: string;\n  selected?: string[];\n}\n\ninterface Emits {\n  (e: 'update:selected', templateIds: string[]): void;\n  (e: 'load-templates'): void;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  selected: () => [],\n});\n\nconst emit = defineEmits<Emits>();\n\n// State\nconst loading = ref(false);\nconst localSelected = ref<string[]>([...props.selected]);\n\n// Computed\nconst filteredTemplates = computed(() => {\n  return props.templates.filter(t => t.module === props.module);\n});\n\nconst selectedCount = computed(() => localSelected.value.length);\n\n// Methods\nfunction isSelected(templateId: string): boolean {\n  return localSelected.value.includes(templateId);\n}\n\nfunction toggleTemplate(templateId: string) {\n  const index = localSelected.value.indexOf(templateId);\n  if (index > -1) {\n    localSelected.value.splice(index, 1);\n  } else {\n    localSelected.value.push(templateId);\n  }\n  emit('update:selected', [...localSelected.value]);\n}\n\nfunction selectAll() {\n  localSelected.value = filteredTemplates.value.map(t => t.id);\n  emit('update:selected', [...localSelected.value]);\n}\n\nfunction selectNone() {\n  localSelected.value = [];\n  emit('update:selected', []);\n}\n\nfunction handleLoadTemplates() {\n  loading.value = true;\n  emit('load-templates');\n  // Loading state will be managed by parent\n  setTimeout(() => {\n    loading.value = false;\n  }, 1000);\n}\n\nfunction formatPattern(pattern: string): string {\n  return pattern\n    .split('-')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n}\n</script>\n\n<style scoped>\n.template-selector {\n  background: white;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.5rem;\n  padding: 1rem;\n  margin-top: 1rem;\n}\n\n.selector-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.selector-header h4 {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n}\n\n.btn-load {\n  padding: 0.5rem 0.75rem;\n  background: var(--primary-color, #3b82f6);\n  color: white;\n  border: none;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  transition: background 0.2s;\n}\n\n.btn-load:hover {\n  background: var(--primary-hover, #2563eb);\n}\n\n.loading-state,\n.empty-state {\n  text-align: center;\n  padding: 2rem 1rem;\n  color: var(--text-secondary, #6b7280);\n}\n\n.loading-state .spinner {\n  width: 2rem;\n  height: 2rem;\n  border: 3px solid var(--border-color, #e5e7eb);\n  border-top-color: var(--primary-color, #3b82f6);\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n  margin: 0 auto 1rem;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.empty-state i {\n  font-size: 2.5rem;\n  opacity: 0.3;\n  margin-bottom: 0.75rem;\n}\n\n.empty-state small {\n  display: block;\n  margin-top: 0.5rem;\n  font-size: 0.75rem;\n}\n\n.bulk-actions {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  margin-bottom: 1rem;\n  padding: 0.75rem;\n  background: var(--bg-secondary, #f9fafb);\n  border-radius: 0.375rem;\n}\n\n.link-btn {\n  background: none;\n  border: none;\n  color: var(--primary-color, #3b82f6);\n  font-weight: 500;\n  cursor: pointer;\n  padding: 0;\n  font-size: 0.875rem;\n  transition: color 0.2s;\n}\n\n.link-btn:hover {\n  color: var(--primary-hover, #2563eb);\n  text-decoration: underline;\n}\n\n.separator {\n  color: var(--border-color, #e5e7eb);\n}\n\n.selected-count {\n  margin-left: auto;\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--text-secondary, #6b7280);\n}\n\n.templates-grid {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.template-card {\n  display: flex;\n  gap: 0.75rem;\n  padding: 1rem;\n  border: 2px solid var(--border-color, #e5e7eb);\n  border-radius: 0.5rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.template-card:hover {\n  border-color: var(--primary-color, #3b82f6);\n  background: rgba(59, 130, 246, 0.02);\n}\n\n.template-card.selected {\n  border-color: var(--primary-color, #3b82f6);\n  background: rgba(59, 130, 246, 0.05);\n}\n\n.template-card input[type=\"checkbox\"] {\n  flex-shrink: 0;\n  width: 1.25rem;\n  height: 1.25rem;\n  cursor: pointer;\n  margin-top: 0.125rem;\n}\n\n.template-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.template-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.template-name {\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: var(--text-primary, #111827);\n}\n\n.pattern-badge {\n  padding: 0.25rem 0.5rem;\n  background: var(--primary-color, #3b82f6);\n  color: white;\n  border-radius: 0.25rem;\n  font-size: 0.625rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  flex-shrink: 0;\n}\n\n.template-description {\n  margin: 0;\n  font-size: 0.75rem;\n  color: var(--text-secondary, #6b7280);\n  line-height: 1.4;\n}\n\n.template-meta {\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  font-size: 0.75rem;\n  color: var(--text-secondary, #6b7280);\n}\n\n.meta-item i {\n  font-size: 0.875rem;\n}\n\n.ports-preview {\n  padding: 0.5rem;\n  background: var(--bg-secondary, #f9fafb);\n  border-radius: 0.25rem;\n}\n\n.ports-preview small {\n  font-size: 0.75rem;\n  color: var(--text-secondary, #6b7280);\n  word-break: break-word;\n}\n</style>\n","<template>\n  <div class=\"year-schedule-generator\">\n    <div class=\"page-header\">\n      <h1>Year Schedule Generator</h1>\n      <p class=\"subtitle\">Plan and optimize annual vessel schedules</p>\n    </div>\n\n    <div class=\"generator-layout\">\n      <!-- Configuration Panel -->\n      <aside class=\"config-panel\">\n        <ScheduleConfigForm\n          v-model:config=\"scheduleConfig\"\n          :loading=\"scheduleStore.generating\"\n          @submit=\"handleGenerateSchedule\"\n        />\n        \n        <TemplateSelector\n          v-if=\"scheduleConfig.useTemplates\"\n          v-model:selected=\"scheduleConfig.selectedTemplateIds\"\n          :module=\"scheduleConfig.module\"\n          :templates=\"scheduleStore.templates\"\n          @load-templates=\"loadTemplates\"\n        />\n\n        <div class=\"action-buttons\">\n          <button\n            class=\"btn btn-primary\"\n            :disabled=\"!canGenerate || scheduleStore.generating\"\n            @click=\"handleGenerateSchedule\"\n          >\n            <i class=\"icon-wand\"></i>\n            {{ scheduleStore.generating ? 'Generating...' : 'Generate Schedule' }}\n          </button>\n\n          <button\n            v-if=\"currentSchedule\"\n            class=\"btn btn-secondary\"\n            @click=\"handleSaveScenario\"\n          >\n            <i class=\"icon-save\"></i>\n            Save Scenario\n          </button>\n\n          <button\n            v-if=\"currentSchedule\"\n            class=\"btn btn-secondary\"\n            @click=\"handleExportPDF\"\n          >\n            <i class=\"icon-pdf\"></i>\n            Export PDF\n          </button>\n\n          <button\n            v-if=\"currentSchedule\"\n            class=\"btn btn-secondary\"\n            @click=\"handleExportExcel\"\n          >\n            <i class=\"icon-excel\"></i>\n            Export Excel\n          </button>\n        </div>\n      </aside>\n\n      <!-- Main Content Area -->\n      <main class=\"content-panel\">\n        <div v-if=\"scheduleStore.loading\" class=\"loading-state\">\n          <LoadingSpinner size=\"large\" />\n          <p>Loading schedule data...</p>\n        </div>\n\n        <div v-else-if=\"scheduleStore.error\" class=\"error-state\">\n          <i class=\"icon-alert-circle\"></i>\n          <p>{{ scheduleStore.error }}</p>\n          <button class=\"btn btn-primary\" @click=\"scheduleStore.clearError\">\n            Dismiss\n          </button>\n        </div>\n\n        <div v-else-if=\"!currentSchedule\" class=\"empty-state\">\n          <i class=\"icon-calendar\"></i>\n          <h3>No Schedule Generated</h3>\n          <p>Configure your schedule parameters and click \"Generate Schedule\" to begin.</p>\n        </div>\n\n        <div v-else class=\"schedule-content\">\n          <!-- Schedule Statistics -->\n          <div class=\"statistics-panel\">\n            <div class=\"stat-card\">\n              <span class=\"stat-label\">Total Voyages</span>\n              <span class=\"stat-value\">{{ currentSchedule.statistics.totalVoyages }}</span>\n            </div>\n            <div class=\"stat-card\">\n              <span class=\"stat-label\">Total Cargo (t)</span>\n              <span class=\"stat-value\">{{ formatNumber(currentSchedule.statistics.totalCargo) }}</span>\n            </div>\n            <div class=\"stat-card\">\n              <span class=\"stat-label\">Total Revenue</span>\n              <span class=\"stat-value\">${{ formatNumber(currentSchedule.statistics.totalRevenue) }}</span>\n            </div>\n            <div class=\"stat-card\">\n              <span class=\"stat-label\">Net Profit</span>\n              <span class=\"stat-value\">${{ formatNumber(currentSchedule.statistics.netProfit) }}</span>\n            </div>\n            <div class=\"stat-card\">\n              <span class=\"stat-label\">Avg Utilization</span>\n              <span class=\"stat-value\">{{ currentSchedule.statistics.averageUtilization.toFixed(1) }}%</span>\n            </div>\n          </div>\n\n          <!-- Conflict Detector -->\n          <ConflictDetector\n            :conflicts=\"currentSchedule.conflicts\"\n            :schedule-id=\"currentSchedule.id\"\n            @resolve=\"handleResolveConflict\"\n          />\n\n          <!-- Resource Allocation Grid -->\n          <ResourceAllocationGrid\n            :allocations=\"currentSchedule.monthlyAllocations\"\n            :year=\"currentSchedule.config.year\"\n            @adjust=\"handleManualAdjustment\"\n            @edit-voyage=\"handleEditVoyage\"\n          />\n\n          <!-- Manual Adjustment Controls -->\n          <div class=\"manual-controls\">\n            <h3>Manual Adjustments</h3>\n            <div class=\"control-group\">\n              <label>Add Voyage to Month:</label>\n              <select v-model=\"manualAdjustment.month\">\n                <option v-for=\"m in 12\" :key=\"m\" :value=\"m\">\n                  {{ getMonthName(m) }}\n                </option>\n              </select>\n              <select v-model=\"manualAdjustment.vesselId\">\n                <option value=\"\">Select Vessel</option>\n                <option\n                  v-for=\"vessel in availableVessels\"\n                  :key=\"vessel.id\"\n                  :value=\"vessel.id\"\n                >\n                  {{ vessel.name }}\n                </option>\n              </select>\n              <button\n                class=\"btn btn-small\"\n                :disabled=\"!canAddVoyage\"\n                @click=\"handleAddVoyage\"\n              >\n                Add Voyage\n              </button>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n\n    <!-- Edit Voyage Modal (Integration with Voyage Builder) -->\n    <BaseModal\n      v-if=\"editingVoyage\"\n      :show=\"editingVoyage !== null\"\n      title=\"Edit Voyage\"\n      size=\"large\"\n      @close=\"editingVoyage = null\"\n    >\n      <div class=\"voyage-editor\">\n        <p>Editing voyage: {{ editingVoyage.id }}</p>\n        <button class=\"btn btn-primary\" @click=\"openVoyageBuilder\">\n          Open in Voyage Builder\n        </button>\n        <div class=\"modal-actions\">\n          <button class=\"btn btn-secondary\" @click=\"editingVoyage = null\">\n            Close\n          </button>\n        </div>\n      </div>\n    </BaseModal>\n\n    <!-- Save Scenario Modal -->\n    <BaseModal\n      v-if=\"showSaveModal\"\n      :show=\"showSaveModal\"\n      title=\"Save Schedule Scenario\"\n      @close=\"showSaveModal = false\"\n    >\n      <div class=\"save-scenario-form\">\n        <label>\n          Scenario Name:\n          <input\n            v-model=\"scenarioName\"\n            type=\"text\"\n            placeholder=\"e.g., 2025 Optimized Plan\"\n            class=\"input-field\"\n          />\n        </label>\n        <label>\n          Description (optional):\n          <textarea\n            v-model=\"scenarioDescription\"\n            placeholder=\"Add notes about this scenario...\"\n            class=\"input-field\"\n            rows=\"3\"\n          ></textarea>\n        </label>\n        <div class=\"modal-actions\">\n          <button class=\"btn btn-secondary\" @click=\"showSaveModal = false\">\n            Cancel\n          </button>\n          <button\n            class=\"btn btn-primary\"\n            :disabled=\"!scenarioName.trim()\"\n            @click=\"saveScenario\"\n          >\n            Save\n          </button>\n        </div>\n      </div>\n    </BaseModal>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useScheduleStore } from '@/stores/schedule';\nimport { useVesselStore } from '@/stores/vessel';\nimport type { YearScheduleConfig, YearSchedule } from '@/types/schedule.types';\nimport ScheduleConfigForm from '@/components/schedule/ScheduleConfigForm.vue';\nimport ResourceAllocationGrid from '@/components/schedule/ResourceAllocationGrid.vue';\nimport ConflictDetector from '@/components/schedule/ConflictDetector.vue';\nimport TemplateSelector from '@/components/schedule/TemplateSelector.vue';\nimport LoadingSpinner from '@/components/shared/LoadingSpinner.vue';\nimport BaseModal from '@/components/shared/BaseModal.vue';\n\nconst router = useRouter();\nconst scheduleStore = useScheduleStore();\nconst vesselStore = useVesselStore();\n\n// State\nconst scheduleConfig = ref<YearScheduleConfig>({\n  year: new Date().getFullYear(),\n  module: 'deepsea',\n  vessels: [],\n  optimizationGoal: 'maximize-revenue',\n  loadCargoCommitments: true,\n  useTemplates: false,\n  selectedTemplateIds: [],\n});\n\nconst manualAdjustment = ref({\n  month: 1,\n  vesselId: '',\n});\n\nconst editingVoyage = ref<any>(null);\nconst showSaveModal = ref(false);\nconst scenarioName = ref('');\nconst scenarioDescription = ref('');\n\n// Computed\nconst currentSchedule = computed(() => scheduleStore.currentSchedule);\n\nconst canGenerate = computed(() => {\n  return scheduleConfig.value.vessels.length > 0 && scheduleConfig.value.year > 0;\n});\n\nconst availableVessels = computed(() => {\n  return vesselStore.vessels.filter(v => \n    scheduleConfig.value.vessels.includes(v.id)\n  );\n});\n\nconst canAddVoyage = computed(() => {\n  return manualAdjustment.value.vesselId && manualAdjustment.value.month;\n});\n\n// Methods\nasync function handleGenerateSchedule() {\n  await scheduleStore.generateSchedule(scheduleConfig.value);\n}\n\nasync function loadTemplates() {\n  await scheduleStore.fetchTemplates(scheduleConfig.value.module);\n}\n\nfunction handleManualAdjustment(data: any) {\n  console.log('Manual adjustment:', data);\n  // Update schedule with manual changes\n  if (currentSchedule.value) {\n    scheduleStore.updateSchedule(currentSchedule.value.id, data);\n  }\n}\n\nfunction handleEditVoyage(voyageData: any) {\n  editingVoyage.value = voyageData;\n}\n\nfunction openVoyageBuilder() {\n  if (editingVoyage.value) {\n    router.push({\n      name: 'voyage-builder',\n      query: { voyageId: editingVoyage.value.id }\n    });\n  }\n}\n\nasync function handleResolveConflict(conflictId: string, resolution: string) {\n  if (currentSchedule.value) {\n    await scheduleStore.resolveConflict(\n      currentSchedule.value.id,\n      conflictId,\n      resolution\n    );\n  }\n}\n\nfunction handleAddVoyage() {\n  console.log('Adding voyage:', manualAdjustment.value);\n  // Implement voyage addition logic\n}\n\nfunction handleSaveScenario() {\n  showSaveModal.value = true;\n  if (currentSchedule.value) {\n    scenarioName.value = currentSchedule.value.name || '';\n  }\n}\n\nasync function saveScenario() {\n  if (currentSchedule.value && scenarioName.value.trim()) {\n    await scheduleStore.updateSchedule(currentSchedule.value.id, {\n      name: scenarioName.value,\n      status: 'finalized',\n    });\n    showSaveModal.value = false;\n  }\n}\n\nasync function handleExportPDF() {\n  if (!currentSchedule.value) return;\n  \n  try {\n    const response = await fetch(`/api/schedules/${currentSchedule.value.id}/export/pdf`);\n    const blob = await response.blob();\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `schedule-${currentSchedule.value.config.year}.pdf`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  } catch (error) {\n    console.error('Export PDF failed:', error);\n  }\n}\n\nasync function handleExportExcel() {\n  if (!currentSchedule.value) return;\n  \n  try {\n    const response = await fetch(`/api/schedules/${currentSchedule.value.id}/export/excel`);\n    const blob = await response.blob();\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `schedule-${currentSchedule.value.config.year}.xlsx`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  } catch (error) {\n    console.error('Export Excel failed:', error);\n  }\n}\n\nfunction formatNumber(num: number): string {\n  return new Intl.NumberFormat('en-US').format(num);\n}\n\nfunction getMonthName(month: number): string {\n  const months = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n  ];\n  return months[month - 1];\n}\n\n// Lifecycle\nonMounted(async () => {\n  await vesselStore.fetchVessels();\n});\n</script>\n\n<style scoped>\n.year-schedule-generator {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.page-header {\n  padding: 1.5rem;\n  border-bottom: 1px solid var(--border-color, #e5e7eb);\n}\n\n.page-header h1 {\n  margin: 0 0 0.5rem 0;\n  font-size: 1.875rem;\n  font-weight: 700;\n  color: var(--text-primary, #111827);\n}\n\n.subtitle {\n  margin: 0;\n  color: var(--text-secondary, #6b7280);\n}\n\n.generator-layout {\n  flex: 1;\n  display: grid;\n  grid-template-columns: 320px 1fr;\n  gap: 0;\n  overflow: hidden;\n}\n\n.config-panel {\n  background: var(--bg-secondary, #f9fafb);\n  border-right: 1px solid var(--border-color, #e5e7eb);\n  padding: 1.5rem;\n  overflow-y: auto;\n}\n\n.action-buttons {\n  margin-top: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.content-panel {\n  overflow-y: auto;\n  padding: 1.5rem;\n}\n\n.loading-state,\n.error-state,\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 400px;\n  text-align: center;\n  color: var(--text-secondary, #6b7280);\n}\n\n.error-state {\n  color: var(--error-color, #dc2626);\n}\n\n.error-state i {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n\n.empty-state i {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n  opacity: 0.3;\n}\n\n.empty-state h3 {\n  margin: 0 0 0.5rem 0;\n  color: var(--text-primary, #111827);\n}\n\n.schedule-content {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.statistics-panel {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 1rem;\n}\n\n.stat-card {\n  background: white;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.5rem;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.stat-label {\n  font-size: 0.875rem;\n  color: var(--text-secondary, #6b7280);\n  font-weight: 500;\n}\n\n.stat-value {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--text-primary, #111827);\n}\n\n.manual-controls {\n  background: white;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.5rem;\n  padding: 1.5rem;\n}\n\n.manual-controls h3 {\n  margin: 0 0 1rem 0;\n  font-size: 1.125rem;\n}\n\n.control-group {\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.control-group label {\n  font-weight: 500;\n  margin-right: 0.5rem;\n}\n\n.control-group select {\n  padding: 0.5rem;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.375rem;\n  min-width: 150px;\n}\n\n.btn {\n  padding: 0.625rem 1.25rem;\n  border: none;\n  border-radius: 0.375rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.btn-primary {\n  background: var(--primary-color, #3b82f6);\n  color: white;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: var(--primary-hover, #2563eb);\n}\n\n.btn-secondary {\n  background: white;\n  color: var(--text-primary, #111827);\n  border: 1px solid var(--border-color, #e5e7eb);\n}\n\n.btn-secondary:hover:not(:disabled) {\n  background: var(--bg-secondary, #f9fafb);\n}\n\n.btn-small {\n  padding: 0.5rem 1rem;\n  font-size: 0.875rem;\n}\n\n.voyage-editor,\n.save-scenario-form {\n  padding: 1rem;\n}\n\n.input-field {\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.375rem;\n  margin-top: 0.25rem;\n}\n\n.save-scenario-form label {\n  display: block;\n  margin-bottom: 1rem;\n  font-weight: 500;\n}\n\n.modal-actions {\n  margin-top: 1.5rem;\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n}\n</style>\n"],"names":["props","__props","emit","__emit","vesselStore","useVesselStore","localConfig","ref","config","maxYear","computed","Date","getFullYear","vesselOptions","vessels","map","v","value","id","label","name","emitUpdate","watch","newConfig","deep","onMounted","async","length","fetchVessels","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_hoisted_2","for","$event","year","type","min","max","class","onInput","number","_hoisted_4","module","onChange","_vModelSelect","_hoisted_5","_createVNode","MultiSelect","modelValue","options","placeholder","_hoisted_6","_toDisplayString","_hoisted_7","optimizationGoal","_hoisted_8","_hoisted_9","loadCargoCommitments","_vModelCheckbox","_hoisted_10","_hoisted_11","useTemplates","viewMode","selectedCell","vesselAllocations","vesselMap","Map","allocations","forEach","allocation","vessel","has","vesselId","set","vesselName","utilizationRate","totalVoyages","get","assignedVoyages","Array","from","values","displayMonths","index","width","_","i","month","getMonthName","substring","getVesselMonthlyData","monthlyData","find","a","push","voyages","utilization","voyageIds","_hoisted_3","onClick","_Fragment","_renderList","key","style","_normalizeStyle","rate","toFixed","_normalizeClass","title","vesselInfo","handleCellClick","Math","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","voyage","_hoisted_22","filterSeverity","filterType","resolvingConflict","filteredConflicts","conflicts","filter","conflict","severity","criticalCount","c","highCount","mediumCount","lowCount","applyResolution","conflictId","resolution","formatType","split","word","charAt","toUpperCase","slice","join","resolved","handleResolve","description","affectedEntities","entity","suggestedResolution","_hoisted_25","loading","localSelected","selected","filteredTemplates","templates","t","selectedCount","isSelected","templateId","includes","selectAll","selectNone","handleLoadTemplates","setTimeout","template","checked","indexOf","splice","toggleTemplate","pattern","_createTextVNode","estimatedDays","ports","cargoTypes","router","useRouter","scheduleStore","useScheduleStore","scheduleConfig","selectedTemplateIds","manualAdjustment","editingVoyage","showSaveModal","scenarioName","scenarioDescription","currentSchedule","canGenerate","availableVessels","canAddVoyage","handleGenerateSchedule","generateSchedule","loadTemplates","fetchTemplates","handleManualAdjustment","data","updateSchedule","handleEditVoyage","voyageData","openVoyageBuilder","query","voyageId","handleResolveConflict","resolveConflict","handleAddVoyage","handleSaveScenario","saveScenario","trim","status","handleExportPDF","response","fetch","blob","url","window","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","error","handleExportExcel","formatNumber","num","Intl","NumberFormat","format","ScheduleConfigForm","_unref","generating","onSubmit","_createBlock","TemplateSelector","onLoadTemplates","disabled","LoadingSpinner","size","args","clearError","statistics","totalCargo","totalRevenue","netProfit","averageUtilization","ConflictDetector","onResolve","ResourceAllocationGrid","monthlyAllocations","onAdjust","onEditVoyage","_hoisted_23","m","_hoisted_24","_hoisted_26","BaseModal","show","onClose","_hoisted_27","_hoisted_28","_hoisted_29","rows","_hoisted_30","_hoisted_31"],"mappings":"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"}