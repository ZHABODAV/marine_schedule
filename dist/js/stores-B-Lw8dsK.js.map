{"version":3,"file":"stores-B-Lw8dsK.js","sources":["../../src/stores/app.ts","../../src/stores/vessel.ts","../../src/stores/voyage.ts","../../src/stores/cargo.ts","../../src/stores/route.ts","../../src/stores/calendar.ts","../../src/stores/filters.ts","../../src/stores/schedule.ts","../../src/stores/reports.ts"],"sourcesContent":["import { defineStore } from 'pinia';\nimport { ref } from 'vue';\n\nexport const useAppStore = defineStore('app', () => {\n  // State\n  const sidebarOpen = ref(true);\n  const theme = ref<'light' | 'dark'>('light');\n  const notifications = ref<any[]>([]);\n  const currentModule = ref<'deepsea' | 'olya' | 'balakovo'>('deepsea');\n  const loading = ref(false);\n\n  // Actions\n  function toggleSidebar() {\n    sidebarOpen.value = !sidebarOpen.value;\n  }\n\n  function setSidebarOpen(value: boolean) {\n    sidebarOpen.value = value;\n  }\n\n  function closeSidebar() {\n    sidebarOpen.value = false;\n  }\n\n  function openSidebar() {\n    sidebarOpen.value = true;\n  }\n\n  function setCurrentModule(module: 'deepsea' | 'olya' | 'balakovo') {\n    currentModule.value = module;\n  }\n\n  function setLoading(value: boolean) {\n    loading.value = value;\n  }\n\n  function toggleTheme() {\n    theme.value = theme.value === 'light' ? 'dark' : 'light';\n    // Apply theme to document\n    document.documentElement.setAttribute('data-theme', theme.value);\n  }\n\n  function addNotification(notification: {\n    id?: string\n    type: 'info' | 'success' | 'warning' | 'error'\n    message: string\n    duration?: number\n  }) {\n    const id = notification.id || Date.now().toString();\n    const duration = notification.duration || 5000;\n    \n    notifications.value.push({\n      ...notification,\n      id,\n      timestamp: Date.now(),\n    });\n\n    // Auto-remove after duration\n    if (duration > 0) {\n      setTimeout(() => {\n        removeNotification(id);\n      }, duration);\n    }\n  }\n\n  function removeNotification(id: string) {\n    const index = notifications.value.findIndex(n => n.id === id);\n    if (index !== -1) {\n      notifications.value.splice(index, 1);\n    }\n  }\n\n  function clearNotifications() {\n    notifications.value = [];\n  }\n\n  return {\n    // State\n    sidebarOpen,\n    theme,\n    notifications,\n    currentModule,\n    loading,\n    // Actions\n    toggleSidebar,\n    setSidebarOpen,\n    closeSidebar,\n    openSidebar,\n    setCurrentModule,\n    setLoading,\n    toggleTheme,\n    addNotification,\n    removeNotification,\n    clearNotifications,\n  };\n});\n","import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport { vesselService } from '@/services';\nimport { handleApiError } from '@/services/api';\nimport type { Vessel, VesselFormData } from '@/types/vessel.types';\nimport { useAppStore } from './app';\n\nexport const useVesselStore = defineStore('vessel', () => {\n  // State\n  const vessels = ref<Vessel[]>([]);\n  const selectedVessel = ref<Vessel | null>(null);\n  const loading = ref(false);\n  const error = ref<string | null>(null);\n\n  // Getters (computed)\n  const totalVessels = computed(() => vessels.value.length);\n  const activeVessels = computed(() =>\n    vessels.value.filter(v => v.status === 'active')\n  );\n  const activeVoyages = computed(() => vessels.value.filter(v => v.status === 'active').length);\n  const totalPorts = computed(() => {\n    const ports = new Set<string>();\n    vessels.value.forEach(v => {\n      if (v.currentPort) ports.add(v.currentPort);\n    });\n    return ports.size;\n  });\n  const vesselsByType = computed(() => {\n    const grouped: Record<string, Vessel[]> = {};\n    vessels.value.forEach(vessel => {\n      const type = vessel.class || 'unknown';  // Use 'class' property as type\n      if (!grouped[type]) grouped[type] = [];\n      grouped[type].push(vessel);\n    });\n    return grouped;\n  });\n\n  // Actions\n  async function fetchVessels(module?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      vessels.value = await vesselService.getAll(module);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchVesselById(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      selectedVessel.value = await vesselService.getById(id);\n      return selectedVessel.value;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function createVessel(vesselData: VesselFormData) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const newVessel = await vesselService.create(vesselData);\n      vessels.value.push(newVessel);\n      appStore.addNotification({\n        type: 'success',\n        message: `Vessel \"${newVessel.name}\" created successfully`,\n      });\n      return newVessel;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function updateVessel(id: string | number, updates: Partial<VesselFormData>) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const updatedVessel = await vesselService.update(id, updates);\n      const index = vessels.value.findIndex(v => v.id === id);\n      if (index !== -1) {\n        vessels.value[index] = updatedVessel;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: `Vessel updated successfully`,\n      });\n      return updatedVessel;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function deleteVessel(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      await vesselService.delete(id);\n      const index = vessels.value.findIndex(v => v.id === id);\n      if (index !== -1) {\n        vessels.value.splice(index, 1);\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Vessel deleted successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function getVesselSchedule(vesselId: string | number, startDate?: string, endDate?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      return await vesselService.getSchedule(vesselId, startDate, endDate);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return [];\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  function clearError() {\n    error.value = null;\n  }\n\n  function clearVessels() {\n    vessels.value = [];\n    selectedVessel.value = null;\n  }\n\n  return {\n    // State\n    vessels,\n    selectedVessel,\n    loading,\n    error,\n    // Getters\n    totalVessels,\n    activeVessels,\n    activeVoyages,\n    totalPorts,\n    vesselsByType,\n    // Actions\n    fetchVessels,\n    fetchVesselById,\n    createVessel,\n    updateVessel,\n    deleteVessel,\n    getVesselSchedule,\n    clearError,\n    clearVessels,\n  };\n});\n","import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport { voyageService, voyageTemplateService, scenarioService } from '@/services';\nimport { handleApiError } from '@/services/api';\nimport type { Voyage, VoyageTemplate, Scenario } from '@/types/voyage.types';\nimport { useAppStore } from './app';\n\nexport const useVoyageStore = defineStore('voyage', () => {\n  // State\n  const voyages = ref<Voyage[]>([]);\n  const templates = ref<VoyageTemplate[]>([]);\n  const scenarios = ref<Scenario[]>([]);\n  const selectedVoyage = ref<Voyage | null>(null);\n  const loading = ref(false);\n  const error = ref<string | null>(null);\n\n  // Getters\n  const totalVoyages = computed(() => voyages.value.length);\n  const plannedVoyages = computed(() => \n    voyages.value.filter(v => v.status === 'planned')\n  );\n  const activeVoyages = computed(() => \n    voyages.value.filter(v => v.status === 'active')\n  );\n  const completedVoyages = computed(() => \n    voyages.value.filter(v => v.status === 'completed')\n  );\n\n  // Actions\n  async function fetchVoyages(module?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      voyages.value = await voyageService.getAll(module);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchTemplates() {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      templates.value = await voyageTemplateService.getAll();\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchScenarios() {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      scenarios.value = await scenarioService.getAll();\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchVoyageById(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      selectedVoyage.value = await voyageService.getById(id);\n      return selectedVoyage.value;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function createVoyage(voyageData: Partial<Voyage>) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const newVoyage = await voyageService.create(voyageData);\n      voyages.value.push(newVoyage);\n      appStore.addNotification({\n        type: 'success',\n        message: 'Voyage created successfully',\n      });\n      return newVoyage;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function updateVoyage(id: string | number, updates: Partial<Voyage>) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const updatedVoyage = await voyageService.update(id, updates);\n      const index = voyages.value.findIndex(v => v.id === id);\n      if (index !== -1) {\n        voyages.value[index] = updatedVoyage;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Voyage updated successfully',\n      });\n      return updatedVoyage;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function deleteVoyage(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      await voyageService.delete(id);\n      const index = voyages.value.findIndex(v => v.id === id);\n      if (index !== -1) {\n        voyages.value.splice(index, 1);\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Voyage deleted successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function calculateVoyage(voyageData: any) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const result = await voyageService.calculate(voyageData);\n      appStore.addNotification({\n        type: 'success',\n        message: 'Voyage calculated successfully',\n      });\n      return result;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function optimizeVoyage(voyageId: string | number, options?: any) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const optimizedVoyage = await voyageService.optimize(voyageId, options);\n      const index = voyages.value.findIndex(v => v.id === voyageId);\n      if (index !== -1) {\n        voyages.value[index] = optimizedVoyage;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Voyage optimized successfully',\n      });\n      return optimizedVoyage;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function getVoyageFinancials(voyageId: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      return await voyageService.getFinancials(voyageId);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function generateSchedule(params: any) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const result = await voyageService.generateSchedule(params);\n      appStore.addNotification({\n        type: 'success',\n        message: 'Schedule generated successfully',\n      });\n      return result;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  function clearError() {\n    error.value = null;\n  }\n\n  function clearData() {\n    voyages.value = [];\n    templates.value = [];\n    scenarios.value = [];\n    selectedVoyage.value = null;\n  }\n\n  return {\n    // State\n    voyages,\n    templates,\n    scenarios,\n    selectedVoyage,\n    loading,\n    error,\n    // Getters\n    totalVoyages,\n    plannedVoyages,\n    activeVoyages,\n    completedVoyages,\n    // Actions\n    fetchVoyages,\n    fetchTemplates,\n    fetchScenarios,\n    fetchVoyageById,\n    createVoyage,\n    updateVoyage,\n    deleteVoyage,\n    calculateVoyage,\n    optimizeVoyage,\n    getVoyageFinancials,\n    generateSchedule,\n    clearError,\n    clearData,\n  };\n});\n","import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport { cargoService } from '@/services';\nimport { handleApiError } from '@/services/api';\nimport type { CargoCommitment, CargoFormData } from '@/types/cargo.types';\nimport { useAppStore } from './app';\n\nexport const useCargoStore = defineStore('cargo', () => {\n  // State\n  const cargoList = ref<CargoCommitment[]>([]);\n  const templates = ref<any[]>([]);\n  const selectedCargo = ref<CargoCommitment | null>(null);\n  const loading = ref(false);\n  const error = ref<string | null>(null);\n\n  // Getters\n  const totalCargo = computed(() => cargoList.value.length);\n  const pendingCargo = computed(() => \n    cargoList.value.filter(c => c.status === 'Pending')\n  );\n  const assignedCargo = computed(() => \n    cargoList.value.filter(c => c.status === 'Assigned')\n  );\n  const completedCargo = computed(() => \n    cargoList.value.filter(c => c.status === 'Completed')\n  );\n  const totalQuantity = computed(() =>\n    cargoList.value.reduce((sum, c) => sum + c.quantity, 0)\n  );\n  const totalOperationalCost = computed(() =>\n    cargoList.value.reduce((sum, c) => sum + (c.operationalCost || 0), 0)\n  );\n  const totalOverheadCost = computed(() =>\n    cargoList.value.reduce((sum, c) => sum + (c.overheadCost || 0), 0)\n  );\n  const totalOtherCost = computed(() =>\n    cargoList.value.reduce((sum, c) => sum + (c.otherCost || 0), 0)\n  );\n  const totalAllCosts = computed(() =>\n    totalOperationalCost.value + totalOverheadCost.value + totalOtherCost.value\n  );\n\n  // Actions\n  async function fetchCargo(module?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      cargoList.value = await cargoService.getAll(module);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchCargoById(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      selectedCargo.value = await cargoService.getById(id);\n      return selectedCargo.value;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function createCargo(cargoData: CargoFormData) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const newCargo = await cargoService.create(cargoData);\n      cargoList.value.push(newCargo);\n      appStore.addNotification({\n        type: 'success',\n        message: 'Cargo commitment created successfully',\n      });\n      return newCargo;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function updateCargo(id: string | number, updates: Partial<CargoFormData>) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const updatedCargo = await cargoService.update(id, updates);\n      const index = cargoList.value.findIndex(c => c.id === id);\n      if (index !== -1) {\n        cargoList.value[index] = updatedCargo;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Cargo commitment updated successfully',\n      });\n      return updatedCargo;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function deleteCargo(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      await cargoService.delete(id);\n      const index = cargoList.value.findIndex(c => c.id === id);\n      if (index !== -1) {\n        cargoList.value.splice(index, 1);\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Cargo commitment deleted successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function getCargoStatistics(startDate?: string, endDate?: string, module?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      return await cargoService.getStatistics(startDate, endDate, module);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  // Template Actions\n  async function fetchTemplates() {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch('/api/voyage-templates');\n      if (!response.ok) throw new Error('Failed to fetch templates');\n      const data = await response.json();\n      templates.value = data.templates || [];\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function createTemplate(templateData: any) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch('/api/voyage-templates', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(templateData),\n      });\n      if (!response.ok) throw new Error('Failed to create template');\n      \n      await fetchTemplates(); // Refresh list\n      \n      appStore.addNotification({\n        type: 'success',\n        message: 'Template created successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function updateTemplate(id: string, templateData: any) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/voyage-templates/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(templateData),\n      });\n      if (!response.ok) throw new Error('Failed to update template');\n      \n      await fetchTemplates(); // Refresh list\n      \n      appStore.addNotification({\n        type: 'success',\n        message: 'Template updated successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function deleteTemplate(id: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/voyage-templates/${id}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) throw new Error('Failed to delete template');\n      \n      templates.value = templates.value.filter(t => t.id !== id);\n      \n      appStore.addNotification({\n        type: 'success',\n        message: 'Template deleted successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  function clearError() {\n    error.value = null;\n  }\n\n  function clearCargo() {\n    cargoList.value = [];\n    selectedCargo.value = null;\n  }\n\n  return {\n    // State\n    cargoList,\n    templates,\n    selectedCargo,\n    loading,\n    error,\n    // Getters\n    totalCargo,\n    pendingCargo,\n    assignedCargo,\n    completedCargo,\n    totalQuantity,\n    totalOperationalCost,\n    totalOverheadCost,\n    totalOtherCost,\n    totalAllCosts,\n    // Actions\n    fetchCargo,\n    fetchCargoById,\n    createCargo,\n    updateCargo,\n    deleteCargo,\n    getCargoStatistics,\n    fetchTemplates,\n    createTemplate,\n    updateTemplate,\n    deleteTemplate,\n    clearError,\n    clearCargo,\n  };\n});\n","import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport { routeService, portService } from '@/services';\nimport { handleApiError } from '@/services/api';\nimport type { Route, Port } from '@/types/route.types';\nimport { useAppStore } from './app';\n\nexport const useRouteStore = defineStore('route', () => {\n  // State\n  const routes = ref<Route[]>([]);\n  const ports = ref<Port[]>([]);\n  const selectedRoute = ref<Route | null>(null);\n  const selectedPort = ref<Port | null>(null);\n  const loading = ref(false);\n  const error = ref<string | null>(null);\n\n  // Getters\n  const totalRoutes = computed(() => routes.value.length);\n  const totalPorts = computed(() => ports.value.length);\n  const portsByCountry = computed(() => {\n    const grouped: Record<string, Port[]> = {};\n    ports.value.forEach(port => {\n      const country = port.country || 'Unknown';\n      if (!grouped[country]) grouped[country] = [];\n      grouped[country].push(port);\n    });\n    return grouped;\n  });\n\n  // Actions\n  async function fetchRoutes(module?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      routes.value = await routeService.getAll(module);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchPorts(module?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      ports.value = await portService.getAll(module);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchRouteById(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      selectedRoute.value = await routeService.getById(id);\n      return selectedRoute.value;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchPortById(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      selectedPort.value = await portService.getById(id);\n      return selectedPort.value;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function createRoute(routeData: Partial<Route>) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const newRoute = await routeService.create(routeData);\n      routes.value.push(newRoute);\n      appStore.addNotification({\n        type: 'success',\n        message: 'Route created successfully',\n      });\n      return newRoute;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function updateRoute(id: string | number, updates: Partial<Route>) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const updatedRoute = await routeService.update(id, updates);\n      const index = routes.value.findIndex(r => r.id === id);\n      if (index !== -1) {\n        routes.value[index] = updatedRoute;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Route updated successfully',\n      });\n      return updatedRoute;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function deleteRoute(id: string | number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      await routeService.delete(id);\n      const index = routes.value.findIndex(r => r.id === id);\n      if (index !== -1) {\n        routes.value.splice(index, 1);\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Route deleted successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function calculateDistance(fromPort: string, toPort: string, viaCanals?: string[]) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      return await routeService.calculateDistance(fromPort, toPort, viaCanals);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return 0;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function getOptimalRoute(fromPort: string, toPort: string, vesselType?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      return await routeService.getOptimalRoute(fromPort, toPort, vesselType);\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  function clearError() {\n    error.value = null;\n  }\n\n  function clearData() {\n    routes.value = [];\n    ports.value = [];\n    selectedRoute.value = null;\n    selectedPort.value = null;\n  }\n\n  return {\n    // State\n    routes,\n    ports,\n    selectedRoute,\n    selectedPort,\n    loading,\n    error,\n    // Getters\n    totalRoutes,\n    totalPorts,\n    portsByCountry,\n    // Actions\n    fetchRoutes,\n    fetchPorts,\n    fetchRouteById,\n    fetchPortById,\n    createRoute,\n    updateRoute,\n    deleteRoute,\n    calculateDistance,\n    getOptimalRoute,\n    clearError,\n    clearData,\n  };\n});\n","import { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport type {\n  CalendarEvent,\n  CalendarViewType,\n  FilterOptions,\n  CalendarStatistics,\n  Module,\n  EventStatus\n} from '@/types/calendar.types'\n\nexport const useCalendarStore = defineStore('calendar', () => {\n  // State\n  const currentDate = ref<Date>(new Date())\n  const viewType = ref<CalendarViewType>('month')\n  const events = ref<CalendarEvent[]>([])\n  const loading = ref(false)\n  const error = ref<string | null>(null)\n  \n  const filters = ref<FilterOptions>({\n    module: 'all' as Module,\n    vessel: 'all',\n    status: 'all' as EventStatus | 'all',\n    searchQuery: ''\n  })\n\n  // Getters\n  const filteredEvents = computed(() => {\n    return events.value.filter(event => {\n      // Module filter\n      if (filters.value.module !== 'all' && event.module !== filters.value.module) {\n        return false\n      }\n      \n      // Vessel filter\n      if (filters.value.vessel !== 'all' && event.vessel !== filters.value.vessel) {\n        return false\n      }\n      \n      // Status filter\n      if (filters.value.status !== 'all' && event.status !== filters.value.status) {\n        return false\n      }\n      \n      // Search filter\n      if (filters.value.searchQuery) {\n        const searchText = `${event.title} ${event.route} ${event.vessel}`.toLowerCase()\n        if (!searchText.includes(filters.value.searchQuery.toLowerCase())) {\n          return false\n        }\n      }\n      \n      // Date range filter\n      if (filters.value.dateRange) {\n        const eventStart = new Date(event.start)\n        const eventEnd = new Date(event.end)\n        const filterStart = filters.value.dateRange.start\n        const filterEnd = filters.value.dateRange.end\n        \n        if (eventEnd < filterStart || eventStart > filterEnd) {\n          return false\n        }\n      }\n      \n      return true\n    })\n  })\n\n  const statistics = computed<CalendarStatistics>(() => {\n    const filtered = filteredEvents.value\n    \n    return {\n      totalVoyages: filtered.length,\n      activeVessels: [...new Set(filtered.map(e => e.vessel))].length,\n      totalCargo: filtered.reduce((sum, e) => sum + (e.cargo || 0), 0),\n      totalCost: filtered.reduce((sum, e) => sum + (e.cost || 0), 0)\n    }\n  })\n\n  const upcomingEvents = computed(() => {\n    const now = new Date()\n    return filteredEvents.value\n      .filter(e => new Date(e.start) > now)\n      .sort((a, b) => new Date(a.start).getTime() - new Date(b.start).getTime())\n      .slice(0, 10)\n  })\n\n  const uniqueVessels = computed(() => {\n    return [...new Set(events.value.map(e => e.vessel))].sort()\n  })\n\n  // Actions\n  async function fetchEvents() {\n    loading.value = true\n    error.value = null\n    \n    try {\n      // Load events from all modules\n      const [deepseaData, olyaData, balakovoData] = await Promise.all([\n        fetchDeepSeaEvents(),\n        fetchOlyaEvents(),\n        fetchBalakovoEvents()\n      ])\n      \n      events.value = [...deepseaData, ...olyaData, ...balakovoData]\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Failed to load events'\n      console.error('Error fetching calendar events:', err)\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function fetchDeepSeaEvents(): Promise<CalendarEvent[]> {\n    try {\n      const response = await fetch('/api/deepsea/voyages/calculated')\n      if (!response.ok) return []\n      \n      const data = await response.json()\n      return Object.values(data.calculated_voyages || {}).map((voyage: any) => ({\n        id: voyage.voyage_id,\n        title: `${voyage.vessel_id}: ${voyage.cargo_type}`,\n        module: 'deepsea' as const,\n        vessel: voyage.vessel_id,\n        start: new Date(voyage.laycan_start),\n        end: new Date(voyage.laycan_end),\n        status: determineStatus(voyage.laycan_start, voyage.laycan_end),\n        cargo: voyage.qty_mt,\n        cost: voyage.total_cost_usd,\n        route: `${voyage.load_port} → ${voyage.discharge_port}`,\n        details: voyage\n      }))\n    } catch (err) {\n      console.warn('Deep Sea data not available:', err)\n      return []\n    }\n  }\n\n  async function fetchOlyaEvents(): Promise<CalendarEvent[]> {\n    try {\n      const response = await fetch('/api/olya/voyages')\n      if (!response.ok) return []\n      \n      const data = await response.json()\n      return (data.voyages || []).map((voyage: any) => ({\n        id: voyage.voyage_id || `OLYA_${Math.random()}`,\n        title: `${voyage.vessel_name}: ${voyage.cargo_name || 'Cargo'}`,\n        module: 'olya' as const,\n        vessel: voyage.vessel_name,\n        start: new Date(voyage.start_date || Date.now()),\n        end: new Date(voyage.end_date || Date.now()),\n        status: 'planned' as EventStatus,\n        cargo: voyage.cargo_qty || 0,\n        cost: voyage.total_cost || 0,\n        route: `${voyage.from_port || 'Origin'} → ${voyage.to_port || 'Destination'}`,\n        details: voyage\n      }))\n    } catch (err) {\n      console.warn('Olya data not available:', err)\n      return []\n    }\n  }\n\n  async function fetchBalakovoEvents(): Promise<CalendarEvent[]> {\n    try {\n      const response = await fetch('/api/balakovo/voyages')\n      if (!response.ok) return []\n      \n      const data = await response.json()\n      \n      // Transform Balakovo data to CalendarEvent format\n      return (data.voyages || []).map((voyage: any) => {\n        const startDate = voyage.departure_time || voyage.load_time || Date.now()\n        const endDate = voyage.arrival_time || voyage.discharge_time || Date.now()\n        \n        return {\n          id: voyage.voyage_id || `BALAKOVO_${Math.random()}`,\n          title: `${voyage.vessel_name || 'Unknown'}: ${voyage.cargo || 'River Cargo'}`,\n          module: 'balakovo' as const,\n          vessel: voyage.vessel_name || 'Unknown Vessel',\n          start: new Date(startDate),\n          end: new Date(endDate),\n          status: determineStatus(startDate.toString(), endDate.toString()),\n          cargo: voyage.cargo_qty_mt || voyage.qty_mt || 0,\n          cost: voyage.total_cost || voyage.voyage_cost || 0,\n          route: `${voyage.from_port || voyage.load_port || 'Origin'} → ${voyage.to_port || voyage.discharge_port || 'Destination'}`,\n          details: {\n            ...voyage,\n            berth: voyage.berth_name || voyage.berth_id,\n            loadingRate: voyage.loading_rate_mt_day,\n            waitingTime: voyage.waiting_time_days\n          }\n        }\n      })\n    } catch (err) {\n      console.warn('Balakovo data not available:', err)\n      return []\n    }\n  }\n\n  function determineStatus(startDate: string, endDate: string): EventStatus {\n    const now = new Date()\n    const start = new Date(startDate)\n    const end = new Date(endDate)\n    \n    if (now < start) return 'planned'\n    if (now > end) return 'completed'\n    return 'in-progress'\n  }\n\n  function setViewType(type: CalendarViewType) {\n    viewType.value = type\n  }\n\n  function setCurrentDate(date: Date) {\n    currentDate.value = date\n  }\n\n  function navigatePrevious() {\n    const newDate = new Date(currentDate.value)\n    if (viewType.value === 'year') {\n      newDate.setFullYear(newDate.getFullYear() - 1)\n    } else {\n      newDate.setMonth(newDate.getMonth() - 1)\n    }\n    currentDate.value = newDate\n  }\n\n  function navigateNext() {\n    const newDate = new Date(currentDate.value)\n    if (viewType.value === 'year') {\n      newDate.setFullYear(newDate.getFullYear() + 1)\n    } else {\n      newDate.setMonth(newDate.getMonth() + 1)\n    }\n    currentDate.value = newDate\n  }\n\n  function navigateToday() {\n    currentDate.value = new Date()\n  }\n\n  function updateFilters(newFilters: Partial<FilterOptions>) {\n    filters.value = { ...filters.value, ...newFilters }\n  }\n\n  function resetFilters() {\n    filters.value = {\n      module: 'all',\n      vessel: 'all',\n      status: 'all',\n      searchQuery: ''\n    }\n  }\n\n  return {\n    // State\n    currentDate,\n    viewType,\n    events,\n    loading,\n    error,\n    filters,\n    \n    // Getters\n    filteredEvents,\n    statistics,\n    upcomingEvents,\n    uniqueVessels,\n    \n    // Actions\n    fetchEvents,\n    setViewType,\n    setCurrentDate,\n    navigatePrevious,\n    navigateNext,\n    navigateToday,\n    updateFilters,\n    resetFilters\n  }\n})\n","import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport type { Module } from '@/types/calendar.types';\n\nexport interface DateRange {\n  start: Date | null;\n  end: Date | null;\n}\n\nexport interface FilterState {\n  module: Module;\n  dateRange: DateRange;\n  vessels: string[];\n  ports: string[];\n  routes: string[];\n  cargoTypes: string[];\n  statuses: string[];\n  searchQuery: string;\n}\n\nexport const useFiltersStore = defineStore('filters', () => {\n  // Feature-specific filters\n  const voyageFilters = ref<FilterState>({\n    module: 'all',\n    dateRange: { start: null, end: null },\n    vessels: [],\n    ports: [],\n    routes: [],\n    cargoTypes: [],\n    statuses: [],\n    searchQuery: '',\n  });\n\n  const scheduleFilters = ref<FilterState>({\n    module: 'all',\n    dateRange: { start: null, end: null },\n    vessels: [],\n    ports: [],\n    routes: [],\n    cargoTypes: [],\n    statuses: [],\n    searchQuery: '',\n  });\n\n  const reportFilters = ref<FilterState>({\n    module: 'all',\n    dateRange: { start: null, end: null },\n    vessels: [],\n    ports: [],\n    routes: [],\n    cargoTypes: [],\n    statuses: [],\n    searchQuery: '',\n  });\n\n  const calendarFilters = ref<FilterState>({\n    module: 'all',\n    dateRange: { start: null, end: null },\n    vessels: [],\n    ports: [],\n    routes: [],\n    cargoTypes: [],\n    statuses: [],\n    searchQuery: '',\n  });\n\n  // Global filter presets\n  const presets = ref<Array<{ name: string; filters: Partial<FilterState> }>>([\n    {\n      name: 'This Month',\n      filters: {\n        dateRange: {\n          start: new Date(new Date().getFullYear(), new Date().getMonth(), 1),\n          end: new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0),\n        },\n      },\n    },\n    {\n      name: 'This Year',\n      filters: {\n        dateRange: {\n          start: new Date(new Date().getFullYear(), 0, 1),\n          end: new Date(new Date().getFullYear(), 11, 31),\n        },\n      },\n    },\n    {\n      name: 'Last 30 Days',\n      filters: {\n        dateRange: {\n          start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n          end: new Date(),\n        },\n      },\n    },\n  ]);\n\n  // Getters\n  const activeVoyageFiltersCount = computed(() => {\n    let count = 0;\n    if (voyageFilters.value.module !== 'all') count++;\n    if (voyageFilters.value.dateRange.start || voyageFilters.value.dateRange.end) count++;\n    if (voyageFilters.value.vessels.length > 0) count++;\n    if (voyageFilters.value.ports.length > 0) count++;\n    if (voyageFilters.value.routes.length > 0) count++;\n    if (voyageFilters.value.cargoTypes.length > 0) count++;\n    if (voyageFilters.value.statuses.length > 0) count++;\n    if (voyageFilters.value.searchQuery) count++;\n    return count;\n  });\n\n  const activeScheduleFiltersCount = computed(() => {\n    let count = 0;\n    if (scheduleFilters.value.module !== 'all') count++;\n    if (scheduleFilters.value.dateRange.start || scheduleFilters.value.dateRange.end) count++;\n    if (scheduleFilters.value.vessels.length > 0) count++;\n    if (scheduleFilters.value.searchQuery) count++;\n    return count;\n  });\n\n  const activeReportFiltersCount = computed(() => {\n    let count = 0;\n    if (reportFilters.value.module !== 'all') count++;\n    if (reportFilters.value.dateRange.start || reportFilters.value.dateRange.end) count++;\n    if (reportFilters.value.vessels.length > 0) count++;\n    return count;\n  });\n\n  const activeCalendarFiltersCount = computed(() => {\n    let count = 0;\n    if (calendarFilters.value.module !== 'all') count++;\n    if (calendarFilters.value.dateRange.start || calendarFilters.value.dateRange.end) count++;\n    if (calendarFilters.value.vessels.length > 0) count++;\n    if (calendarFilters.value.ports.length > 0) count++;\n    return count;\n  });\n\n  const hasVoyageFilters = computed(() => activeVoyageFiltersCount.value > 0);\n  const hasScheduleFilters = computed(() => activeScheduleFiltersCount.value > 0);\n  const hasReportFilters = computed(() => activeReportFiltersCount.value > 0);\n  const hasCalendarFilters = computed(() => activeCalendarFiltersCount.value > 0);\n\n  // Actions\n  function setVoyageFilter<K extends keyof FilterState>(key: K, value: FilterState[K]) {\n    voyageFilters.value[key] = value;\n  }\n\n  function setScheduleFilter<K extends keyof FilterState>(key: K, value: FilterState[K]) {\n    scheduleFilters.value[key] = value;\n  }\n\n  function setReportFilter<K extends keyof FilterState>(key: K, value: FilterState[K]) {\n    reportFilters.value[key] = value;\n  }\n\n  function setCalendarFilter<K extends keyof FilterState>(key: K, value: FilterState[K]) {\n    calendarFilters.value[key] = value;\n  }\n\n  function updateVoyageFilters(updates: Partial<FilterState>) {\n    voyageFilters.value = { ...voyageFilters.value, ...updates };\n  }\n\n  function updateScheduleFilters(updates: Partial<FilterState>) {\n    scheduleFilters.value = { ...scheduleFilters.value, ...updates };\n  }\n\n  function updateReportFilters(updates: Partial<FilterState>) {\n    reportFilters.value = { ...reportFilters.value, ...updates };\n  }\n\n  function updateCalendarFilters(updates: Partial<FilterState>) {\n    calendarFilters.value = { ...calendarFilters.value, ...updates };\n  }\n\n  function resetVoyageFilters() {\n    voyageFilters.value = {\n      module: 'all',\n      dateRange: { start: null, end: null },\n      vessels: [],\n      ports: [],\n      routes: [],\n      cargoTypes: [],\n      statuses: [],\n      searchQuery: '',\n    };\n  }\n\n  function resetScheduleFilters() {\n    scheduleFilters.value = {\n      module: 'all',\n      dateRange: { start: null, end: null },\n      vessels: [],\n      ports: [],\n      routes: [],\n      cargoTypes: [],\n      statuses: [],\n      searchQuery: '',\n    };\n  }\n\n  function resetReportFilters() {\n    reportFilters.value = {\n      module: 'all',\n      dateRange: { start: null, end: null },\n      vessels: [],\n      ports: [],\n      routes: [],\n      cargoTypes: [],\n      statuses: [],\n      searchQuery: '',\n    };\n  }\n\n  function resetCalendarFilters() {\n    calendarFilters.value = {\n      module: 'all',\n      dateRange: { start: null, end: null },\n      vessels: [],\n      ports: [],\n      routes: [],\n      cargoTypes: [],\n      statuses: [],\n      searchQuery: '',\n    };\n  }\n\n  function resetAllFilters() {\n    resetVoyageFilters();\n    resetScheduleFilters();\n    resetReportFilters();\n    resetCalendarFilters();\n  }\n\n  function applyPreset(presetName: string, context: 'voyage' | 'schedule' | 'report' | 'calendar') {\n    const preset = presets.value.find(p => p.name === presetName);\n    if (!preset) return;\n\n    switch (context) {\n      case 'voyage':\n        updateVoyageFilters(preset.filters);\n        break;\n      case 'schedule':\n        updateScheduleFilters(preset.filters);\n        break;\n      case 'report':\n        updateReportFilters(preset.filters);\n        break;\n      case 'calendar':\n        updateCalendarFilters(preset.filters);\n        break;\n    }\n  }\n\n  function addPreset(name: string, filters: Partial<FilterState>) {\n    const existing = presets.value.find(p => p.name === name);\n    if (existing) {\n      existing.filters = filters;\n    } else {\n      presets.value.push({ name, filters });\n    }\n    savePresetsToLocalStorage();\n  }\n\n  function removePreset(name: string) {\n    const index = presets.value.findIndex(p => p.name === name);\n    if (index !== -1) {\n      presets.value.splice(index, 1);\n      savePresetsToLocalStorage();\n    }\n  }\n\n  function savePresetsToLocalStorage() {\n    try {\n      localStorage.setItem('filterPresets', JSON.stringify(presets.value));\n    } catch (e) {\n      console.error('Failed to save filter presets to localStorage:', e);\n    }\n  }\n\n  function loadPresetsFromLocalStorage() {\n    try {\n      const saved = localStorage.getItem('filterPresets');\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        // Merge with default presets\n        const defaultPresetNames = presets.value.map(p => p.name);\n        const customPresets = parsed.filter((p: any) => !defaultPresetNames.includes(p.name));\n        presets.value = [...presets.value, ...customPresets];\n      }\n    } catch (e) {\n      console.error('Failed to load filter presets from localStorage:', e);\n    }\n  }\n\n  // Load presets on initialization\n  loadPresetsFromLocalStorage();\n\n  return {\n    // State\n    voyageFilters,\n    scheduleFilters,\n    reportFilters,\n    calendarFilters,\n    presets,\n    // Getters\n    activeVoyageFiltersCount,\n    activeScheduleFiltersCount,\n    activeReportFiltersCount,\n    activeCalendarFiltersCount,\n    hasVoyageFilters,\n    hasScheduleFilters,\n    hasReportFilters,\n    hasCalendarFilters,\n    // Actions\n    setVoyageFilter,\n    setScheduleFilter,\n    setReportFilter,\n    setCalendarFilter,\n    updateVoyageFilters,\n    updateScheduleFilters,\n    updateReportFilters,\n    updateCalendarFilters,\n    resetVoyageFilters,\n    resetScheduleFilters,\n    resetReportFilters,\n    resetCalendarFilters,\n    resetAllFilters,\n    applyPreset,\n    addPreset,\n    removePreset,\n  };\n});\n","import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport { handleApiError } from '@/services/api';\nimport type {\n  YearSchedule,\n  YearScheduleConfig,\n  ScheduleTemplate\n} from '@/types/schedule.types';\nimport { useAppStore } from './app';\n\nexport const useScheduleStore = defineStore('schedule', () => {\n  // State\n  const currentSchedule = ref<YearSchedule | null>(null);\n  const schedules = ref<YearSchedule[]>([]);\n  const templates = ref<ScheduleTemplate[]>([]);\n  const loading = ref(false);\n  const error = ref<string | null>(null);\n  const generating = ref(false);\n\n  // Getters\n  const totalSchedules = computed(() => schedules.value.length);\n  const activeSchedules = computed(() => \n    schedules.value.filter(s => s.status !== 'archived')\n  );\n  const schedulesByYear = computed(() => {\n    const grouped: Record<number, YearSchedule[]> = {};\n    schedules.value.forEach(schedule => {\n      const year = schedule.config.year;\n      if (!grouped[year]) grouped[year] = [];\n      grouped[year].push(schedule);\n    });\n    return grouped;\n  });\n  const conflicts = computed(() => currentSchedule.value?.conflicts || []);\n  const criticalConflicts = computed(() => \n    conflicts.value.filter(c => c.severity === 'critical')\n  );\n\n  // Actions\n  async function fetchSchedules(year?: number) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const params = year ? { year } : {};\n      const response = await fetch(`/api/schedules?${new URLSearchParams(params as any)}`);\n      if (!response.ok) throw new Error('Failed to fetch schedules');\n      schedules.value = await response.json();\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchScheduleById(id: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/schedules/${id}`);\n      if (!response.ok) throw new Error('Failed to fetch schedule');\n      currentSchedule.value = await response.json();\n      return currentSchedule.value;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function generateSchedule(config: YearScheduleConfig) {\n    const appStore = useAppStore();\n    generating.value = true;\n    error.value = null;\n    try {\n      const response = await fetch('/api/schedule/generate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(config),\n      });\n      if (!response.ok) throw new Error('Failed to generate schedule');\n      const newSchedule = await response.json();\n      schedules.value.unshift(newSchedule);\n      currentSchedule.value = newSchedule;\n      appStore.addNotification({\n        type: 'success',\n        message: 'Schedule generated successfully',\n      });\n      return newSchedule;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      generating.value = false;\n    }\n  }\n\n  async function updateSchedule(id: string, updates: Partial<YearSchedule>) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/schedules/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(updates),\n      });\n      if (!response.ok) throw new Error('Failed to update schedule');\n      const updatedSchedule = await response.json();\n      const index = schedules.value.findIndex(s => s.id === id);\n      if (index !== -1) {\n        schedules.value[index] = updatedSchedule;\n      }\n      if (currentSchedule.value?.id === id) {\n        currentSchedule.value = updatedSchedule;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Schedule updated successfully',\n      });\n      return updatedSchedule;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function finalizeSchedule(id: string) {\n    return updateSchedule(id, { status: 'finalized' });\n  }\n\n  async function archiveSchedule(id: string) {\n    return updateSchedule(id, { status: 'archived' });\n  }\n\n  async function deleteSchedule(id: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/schedules/${id}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) throw new Error('Failed to delete schedule');\n      const index = schedules.value.findIndex(s => s.id === id);\n      if (index !== -1) {\n        schedules.value.splice(index, 1);\n      }\n      if (currentSchedule.value?.id === id) {\n        currentSchedule.value = null;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Schedule deleted successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchTemplates(module?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const params = module ? { module } : {};\n      const response = await fetch(`/api/schedules/templates?${new URLSearchParams(params as any)}`);\n      if (!response.ok) throw new Error('Failed to fetch templates');\n      templates.value = await response.json();\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function resolveConflict(scheduleId: string, conflictId: string, resolution: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/schedules/${scheduleId}/conflicts/${conflictId}/resolve`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ resolution }),\n      });\n      if (!response.ok) throw new Error('Failed to resolve conflict');\n      const updatedSchedule = await response.json();\n      if (currentSchedule.value?.id === scheduleId) {\n        currentSchedule.value = updatedSchedule;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: 'Conflict resolved successfully',\n      });\n      return updatedSchedule;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function exportToPDF(scheduleId: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/schedules/${scheduleId}/export/pdf`);\n      if (!response.ok) throw new Error('Failed to export PDF');\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      const schedule = schedules.value.find(s => s.id === scheduleId);\n      a.download = `schedule-${schedule?.config.year || 'export'}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n      appStore.addNotification({\n        type: 'success',\n        message: 'PDF exported successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function exportToExcel(scheduleId: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/schedules/${scheduleId}/export/excel`);\n      if (!response.ok) throw new Error('Failed to export Excel');\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      const schedule = schedules.value.find(s => s.id === scheduleId);\n      a.download = `schedule-${schedule?.config.year || 'export'}.xlsx`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n      appStore.addNotification({\n        type: 'success',\n        message: 'Excel exported successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function saveScenario(scheduleId: string, name: string, description?: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/schedules/${scheduleId}/scenario`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, description }),\n      });\n      if (!response.ok) throw new Error('Failed to save scenario');\n      const savedSchedule = await response.json();\n      const index = schedules.value.findIndex(s => s.id === scheduleId);\n      if (index !== -1) {\n        schedules.value[index] = savedSchedule;\n      }\n      if (currentSchedule.value?.id === scheduleId) {\n        currentSchedule.value = savedSchedule;\n      }\n      appStore.addNotification({\n        type: 'success',\n        message: `Scenario \"${name}\" saved successfully`,\n      });\n      return savedSchedule;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  function clearError() {\n    error.value = null;\n  }\n\n  function clearData() {\n    schedules.value = [];\n    templates.value = [];\n    currentSchedule.value = null;\n  }\n\n  return {\n    // State\n    currentSchedule,\n    schedules,\n    templates,\n    loading,\n    error,\n    generating,\n    // Getters\n    totalSchedules,\n    activeSchedules,\n    schedulesByYear,\n    conflicts,\n    criticalConflicts,\n    // Actions\n    fetchSchedules,\n    fetchScheduleById,\n    generateSchedule,\n    updateSchedule,\n    finalizeSchedule,\n    archiveSchedule,\n    deleteSchedule,\n    fetchTemplates,\n    resolveConflict,\n    exportToPDF,\n    exportToExcel,\n    saveScenario,\n    clearError,\n    clearData,\n  };\n});\n","import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport { handleApiError } from '@/services/api';\nimport type {\n  ReportConfig,\n  ReportGenerationStatus\n} from '@/types/reports.types';\nimport { useAppStore } from './app';\n\nexport const useReportsStore = defineStore('reports', () => {\n  // State\n  const activeReports = ref<ReportGenerationStatus[]>([]);\n  const history = ref<ReportGenerationStatus[]>([]);\n  const loading = ref(false);\n  const error = ref<string | null>(null);\n\n  // Getters\n  const pendingReports = computed(() =>\n    activeReports.value.filter(r => r.status === 'pending' || r.status === 'generating')\n  );\n  const completedReports = computed(() =>\n    activeReports.value.filter(r => r.status === 'completed')\n  );\n  const failedReports = computed(() =>\n    activeReports.value.filter(r => r.status === 'failed')\n  );\n  const recentReports = computed(() =>\n    [...history.value].sort((a, b) =>\n      new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n    ).slice(0, 10)\n  );\n\n  // Actions\n  async function generateReport(config: ReportConfig): Promise<ReportGenerationStatus | null> {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch('/api/reports/generate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(config),\n      });\n      if (!response.ok) throw new Error('Failed to initiate report generation');\n      const reportStatus: ReportGenerationStatus = await response.json();\n      activeReports.value.push(reportStatus);\n      appStore.addNotification({\n        type: 'info',\n        message: 'Report generation started',\n      });\n      \n      // Poll for status updates\n      pollReportStatus(reportStatus.id);\n      \n      return reportStatus;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return null;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchReportStatus(reportId: string): Promise<ReportGenerationStatus | null> {\n    try {\n      const response = await fetch(`/api/reports/${reportId}/status`);\n      if (!response.ok) throw new Error('Failed to fetch report status');\n      const status: ReportGenerationStatus = await response.json();\n      \n      // Update active reports\n      const index = activeReports.value.findIndex(r => r.id === reportId);\n      if (index !== -1) {\n        activeReports.value[index] = status;\n      }\n      \n      return status;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      return null;\n    }\n  }\n\n  async function pollReportStatus(reportId: string) {\n    const appStore = useAppStore();\n    const maxAttempts = 60; // 5 minutes max (every 5 seconds)\n    let attempts = 0;\n\n    const poll = async () => {\n      if (attempts >= maxAttempts) {\n        appStore.addNotification({\n          type: 'warning',\n          message: 'Report generation taking longer than expected',\n        });\n        return;\n      }\n\n      const status = await fetchReportStatus(reportId);\n      if (!status) return;\n\n      if (status.status === 'completed') {\n        appStore.addNotification({\n          type: 'success',\n          message: 'Report generated successfully',\n        });\n        // Move to history after a delay\n        setTimeout(() => moveToHistory(reportId), 30000); // 30 seconds\n      } else if (status.status === 'failed') {\n        appStore.addNotification({\n          type: 'error',\n          message: status.error || 'Report generation failed',\n        });\n        setTimeout(() => moveToHistory(reportId), 10000); // 10 seconds\n      } else {\n        // Continue polling\n        attempts++;\n        setTimeout(poll, 5000); // Poll every 5 seconds\n      }\n    };\n\n    poll();\n  }\n\n  async function downloadReport(reportId: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/reports/${reportId}/download`);\n      if (!response.ok) throw new Error('Failed to download report');\n      \n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      \n      // Get filename from Content-Disposition header or use default\n      const contentDisposition = response.headers.get('Content-Disposition');\n      const filenameMatch = contentDisposition?.match(/filename=\"?(.+)\"?/i);\n      const filename = (filenameMatch && filenameMatch[1]) || `report_${reportId}.pdf`;\n      \n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      \n      appStore.addNotification({\n        type: 'success',\n        message: 'Report downloaded successfully',\n      });\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function fetchReportHistory() {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch('/api/reports/history');\n      if (!response.ok) throw new Error('Failed to fetch report history');\n      history.value = await response.json();\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function deleteReport(reportId: string) {\n    const appStore = useAppStore();\n    loading.value = true;\n    error.value = null;\n    try {\n      const response = await fetch(`/api/reports/${reportId}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) throw new Error('Failed to delete report');\n      \n      // Remove from active and history\n      activeReports.value = activeReports.value.filter(r => r.id !== reportId);\n      history.value = history.value.filter(r => r.id !== reportId);\n      \n      appStore.addNotification({\n        type: 'success',\n        message: 'Report deleted successfully',\n      });\n      return true;\n    } catch (e: any) {\n      error.value = handleApiError(e);\n      appStore.addNotification({\n        type: 'error',\n        message: error.value,\n      });\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  function moveToHistory(reportId: string) {\n    const index = activeReports.value.findIndex(r => r.id === reportId);\n    if (index !== -1) {\n      const report = activeReports.value[index];\n      if (report) {\n        history.value.unshift(report);\n        activeReports.value.splice(index, 1);\n      }\n    }\n  }\n\n  function clearError() {\n    error.value = null;\n  }\n\n  function clearActiveReports() {\n    // Move all to history\n    activeReports.value.forEach(report => {\n      if (!history.value.find(h => h.id === report.id)) {\n        history.value.unshift(report);\n      }\n    });\n    activeReports.value = [];\n  }\n\n  return {\n    // State\n    activeReports,\n    history,\n    loading,\n    error,\n    // Getters\n    pendingReports,\n    completedReports,\n    failedReports,\n    recentReports,\n    // Actions\n    generateReport,\n    fetchReportStatus,\n    downloadReport,\n    fetchReportHistory,\n    deleteReport,\n    moveToHistory,\n    clearError,\n    clearActiveReports,\n  };\n});\n"],"names":["useAppStore","defineStore","sidebarOpen","ref","theme","notifications","currentModule","loading","removeNotification","id","index","value","findIndex","n","splice","toggleSidebar","setSidebarOpen","closeSidebar","openSidebar","setCurrentModule","module","setLoading","toggleTheme","document","documentElement","setAttribute","addNotification","notification","Date","now","toString","duration","push","timestamp","setTimeout","clearNotifications","useVesselStore","vessels","selectedVessel","error","totalVessels","computed","length","activeVessels","filter","v","status","activeVoyages","totalPorts","ports","Set","forEach","currentPort","add","size","vesselsByType","grouped","vessel","type","class","fetchVessels","async","appStore","vesselService","getAll","e","handleApiError","message","fetchVesselById","getById","createVessel","vesselData","newVessel","create","name","updateVessel","updates","updatedVessel","update","deleteVessel","delete","getVesselSchedule","vesselId","startDate","endDate","getSchedule","clearError","clearVessels","useVoyageStore","voyages","templates","scenarios","selectedVoyage","totalVoyages","plannedVoyages","completedVoyages","fetchVoyages","voyageService","fetchTemplates","voyageTemplateService","fetchScenarios","scenarioService","fetchVoyageById","createVoyage","voyageData","newVoyage","updateVoyage","updatedVoyage","deleteVoyage","calculateVoyage","result","calculate","optimizeVoyage","voyageId","options","optimizedVoyage","optimize","getVoyageFinancials","getFinancials","generateSchedule","params","clearData","useCargoStore","cargoList","selectedCargo","totalCargo","pendingCargo","c","assignedCargo","completedCargo","totalQuantity","reduce","sum","quantity","totalOperationalCost","operationalCost","totalOverheadCost","overheadCost","totalOtherCost","otherCost","totalAllCosts","response","fetch","ok","Error","data","json","fetchCargo","cargoService","fetchCargoById","createCargo","cargoData","newCargo","updateCargo","updatedCargo","deleteCargo","getCargoStatistics","getStatistics","createTemplate","templateData","method","headers","body","JSON","stringify","updateTemplate","deleteTemplate","t","clearCargo","useRouteStore","routes","selectedRoute","selectedPort","totalRoutes","portsByCountry","port","country","fetchRoutes","routeService","fetchPorts","portService","fetchRouteById","fetchPortById","createRoute","routeData","newRoute","updateRoute","updatedRoute","r","deleteRoute","calculateDistance","fromPort","toPort","viaCanals","getOptimalRoute","vesselType","useCalendarStore","currentDate","viewType","events","filters","searchQuery","filteredEvents","event","title","route","toLowerCase","includes","dateRange","eventStart","start","eventEnd","end","filterStart","filterEnd","statistics","filtered","map","cargo","totalCost","cost","upcomingEvents","sort","a","b","getTime","slice","uniqueVessels","fetchDeepSeaEvents","Object","values","calculated_voyages","voyage","voyage_id","vessel_id","cargo_type","laycan_start","laycan_end","determineStatus","qty_mt","total_cost_usd","load_port","discharge_port","details","err","fetchOlyaEvents","Math","random","vessel_name","cargo_name","start_date","end_date","cargo_qty","total_cost","from_port","to_port","fetchBalakovoEvents","departure_time","load_time","arrival_time","discharge_time","cargo_qty_mt","voyage_cost","berth","berth_name","berth_id","loadingRate","loading_rate_mt_day","waitingTime","waiting_time_days","fetchEvents","deepseaData","olyaData","balakovoData","Promise","all","setViewType","setCurrentDate","date","navigatePrevious","newDate","setFullYear","getFullYear","setMonth","getMonth","navigateNext","navigateToday","updateFilters","newFilters","resetFilters","useFiltersStore","voyageFilters","cargoTypes","statuses","scheduleFilters","reportFilters","calendarFilters","presets","activeVoyageFiltersCount","count","activeScheduleFiltersCount","activeReportFiltersCount","activeCalendarFiltersCount","hasVoyageFilters","hasScheduleFilters","hasReportFilters","hasCalendarFilters","updateVoyageFilters","updateScheduleFilters","updateReportFilters","updateCalendarFilters","resetVoyageFilters","resetScheduleFilters","resetReportFilters","resetCalendarFilters","savePresetsToLocalStorage","localStorage","setItem","saved","getItem","parsed","parse","defaultPresetNames","p","customPresets","loadPresetsFromLocalStorage","setVoyageFilter","key","setScheduleFilter","setReportFilter","setCalendarFilter","resetAllFilters","applyPreset","presetName","context","preset","find","addPreset","existing","removePreset","useScheduleStore","currentSchedule","schedules","generating","totalSchedules","activeSchedules","s","schedulesByYear","schedule","year","config","conflicts","criticalConflicts","severity","updateSchedule","updatedSchedule","fetchSchedules","URLSearchParams","fetchScheduleById","newSchedule","unshift","finalizeSchedule","archiveSchedule","deleteSchedule","resolveConflict","scheduleId","conflictId","resolution","exportToPDF","blob","url","window","URL","createObjectURL","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","exportToExcel","saveScenario","description","savedSchedule","useReportsStore","activeReports","history","pendingReports","completedReports","failedReports","recentReports","createdAt","fetchReportStatus","reportId","moveToHistory","report","generateReport","reportStatus","attempts","poll","pollReportStatus","downloadReport","contentDisposition","get","filenameMatch","match","filename","fetchReportHistory","deleteReport","clearActiveReports","h"],"mappings":"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"}