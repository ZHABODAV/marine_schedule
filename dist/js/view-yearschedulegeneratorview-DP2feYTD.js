import{d as e,r as l,c as a,w as s,g as t,a as n,b as o,k as i,v as c,l as u,h as d,t as r,s as v,o as p,e as m,n as g,F as h,i as y,f,q as b,m as k,B as C,G as w,C as x,z as V}from"./vendor-vue-CBmYbXPK.js";import{b as z,g as I}from"./stores-B-Lw8dsK.js";import{M as S}from"./view-operationalcalendarview-BHSgXeMG.js";import{_ as U,L as R}from"./component-financial-CtXviO0A.js";import{c as A}from"./view-cargomanagement-BocXzYqp.js";import"./vendor-misc-DO6OT3jl.js";import"./services-DnyArwnx.js";import"./vendor-axios-CcrxTH1M.js";import"./vendor-charts-BEO-w-Hm.js";const T={class:"schedule-config-form"},_={class:"form-group"},j=["max"],L={class:"form-group"},N={class:"form-group"},M={class:"form-text"},E={class:"form-group"},O={class:"form-group"},G={class:"checkbox-label"},$={class:"form-group"},F={class:"checkbox-label"},D=U(e({__name:"ScheduleConfigForm",props:{config:{},loading:{type:Boolean,default:!1}},emits:["update:config","submit"],setup(e,{emit:m}){const g=e,h=m,y=z(),f=l({...g.config}),b=a(()=>(new Date).getFullYear()+5),k=a(()=>y.vessels.map(e=>({value:e.id,label:e.name})));function C(){h("update:config",{...f.value})}return s(()=>g.config,e=>{f.value={...e}},{deep:!0}),t(async()=>{0===y.vessels.length&&await y.fetchVessels()}),(e,l)=>(p(),n("div",T,[l[16]||(l[16]=o("h3",null,"Schedule Configuration",-1)),o("div",_,[l[6]||(l[6]=o("label",{for:"year"},"Year",-1)),i(o("input",{id:"year","onUpdate:modelValue":l[0]||(l[0]=e=>f.value.year=e),type:"number",min:"2020",max:b.value,class:"form-control",onInput:C},null,40,j),[[c,f.value.year,void 0,{number:!0}]])]),o("div",L,[l[8]||(l[8]=o("label",{for:"module"},"Module",-1)),i(o("select",{id:"module","onUpdate:modelValue":l[1]||(l[1]=e=>f.value.module=e),class:"form-control",onChange:C},[...l[7]||(l[7]=[o("option",{value:"deepsea"},"Deep Sea",-1),o("option",{value:"olya"},"Olya",-1),o("option",{value:"balakovo"},"Balakovo",-1)])],544),[[u,f.value.module]])]),o("div",N,[l[9]||(l[9]=o("label",null,"Vessels",-1)),d(S,{modelValue:f.value.vessels,"onUpdate:modelValue":[l[2]||(l[2]=e=>f.value.vessels=e),C],options:k.value,placeholder:"Select vessels..."},null,8,["modelValue","options"]),o("small",M,r(f.value.vessels.length)+" vessel(s) selected ",1)]),o("div",E,[l[11]||(l[11]=o("label",{for:"goal"},"Optimization Goal",-1)),i(o("select",{id:"goal","onUpdate:modelValue":l[3]||(l[3]=e=>f.value.optimizationGoal=e),class:"form-control",onChange:C},[...l[10]||(l[10]=[o("option",{value:"maximize-revenue"},"Maximize Revenue",-1),o("option",{value:"minimize-cost"},"Minimize Cost",-1),o("option",{value:"balance-utilization"},"Balance Utilization",-1)])],544),[[u,f.value.optimizationGoal]])]),o("div",O,[o("label",G,[i(o("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>f.value.loadCargoCommitments=e),type:"checkbox",onChange:C},null,544),[[v,f.value.loadCargoCommitments]]),l[12]||(l[12]=o("span",null,"Load Cargo Commitments",-1))]),l[13]||(l[13]=o("small",{class:"form-text"}," Include existing cargo commitments in schedule generation ",-1))]),o("div",$,[o("label",F,[i(o("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>f.value.useTemplates=e),type:"checkbox",onChange:C},null,544),[[v,f.value.useTemplates]]),l[14]||(l[14]=o("span",null,"Use Voyage Templates",-1))]),l[15]||(l[15]=o("small",{class:"form-text"}," Apply predefined voyage patterns to the schedule ",-1))])]))}}),[["__scopeId","data-v-88094cb2"]]),P={class:"resource-allocation-grid"},J={class:"grid-header"},Y={class:"view-controls"},q={class:"grid-container"},B={class:"timeline-header"},Q={class:"months-row"},H={class:"vessel-rows"},K={class:"vessel-info"},W={class:"vessel-name"},X={class:"timeline-track"},Z=["title","onClick"],ee={class:"voyage-count"},le={key:0,class:"empty-grid"},ae={key:0,class:"details-panel"},se={class:"details-header"},te={class:"details-content"},ne={class:"detail-item"},oe={class:"value"},ie={class:"detail-item"},ce={class:"value"},ue={class:"voyages-list"},de=["onClick"],re=U(e({__name:"ResourceAllocationGrid",props:{allocations:{},year:{}},emits:["adjust","edit-voyage"],setup(e,{emit:s}){const t=e,i=s,c=l("month"),u=l(null),d=a(()=>{const e=new Map;return t.allocations.forEach(l=>{l.vessels.forEach(l=>{e.has(l.vesselId)||e.set(l.vesselId,{vesselId:l.vesselId,vesselName:l.vesselName,utilizationRate:0,totalVoyages:0});const a=e.get(l.vesselId);a.utilizationRate+=l.utilizationRate,a.totalVoyages+=l.assignedVoyages.length})}),Array.from(e.values()).map(e=>({...e,utilizationRate:e.utilizationRate/12}))}),v=a(()=>"quarter"===c.value?[{index:1,name:"Q1",width:"25%"},{index:2,name:"Q2",width:"25%"},{index:3,name:"Q3",width:"25%"},{index:4,name:"Q4",width:"25%"}]:Array.from({length:12},(e,l)=>{return{index:l+1,name:(a=l+1,k(a).substring(0,3)),width:100/12+"%"};var a}));function b(e){const l=[];for(let a=1;a<=12;a++){const s=t.allocations.find(e=>e.month===a),n=s?.vessels.find(l=>l.vesselId===e);l.push({month:a,voyages:n?.assignedVoyages.length||0,utilization:n?.utilizationRate||0,voyageIds:n?.assignedVoyages||[]})}return l}function k(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]}return(l,a)=>(p(),n("div",P,[o("div",J,[o("h3",null,"Resource Allocation Timeline - "+r(e.year),1),o("div",Y,[o("button",{class:g(["view-btn",{active:"month"===c.value}]),onClick:a[0]||(a[0]=e=>c.value="month")}," Monthly ",2),o("button",{class:g(["view-btn",{active:"quarter"===c.value}]),onClick:a[1]||(a[1]=e=>c.value="quarter")}," Quarterly ",2)])]),o("div",q,[o("div",B,[a[3]||(a[3]=o("div",{class:"vessel-col-header"},"Vessel",-1)),o("div",Q,[(p(!0),n(h,null,y(v.value,e=>(p(),n("div",{key:e.index,class:"month-header",style:f({width:e.width})},r(e.name),5))),128))])]),o("div",H,[(p(!0),n(h,null,y(d.value,e=>{return p(),n("div",{key:e.vesselId,class:"vessel-row"},[o("div",K,[o("span",W,r(e.vesselName),1),o("span",{class:g(["utilization-badge",(l=e.utilizationRate,l>=90?"high":l>=70?"medium":l>=50?"low":"very-low")])},r(e.utilizationRate.toFixed(0))+"% ",3)]),o("div",X,[(p(!0),n(h,null,y(b(e.vesselId),l=>(p(),n("div",{key:`${e.vesselId}-${l.month}`,class:g(["month-cell",{"has-voyages":l.voyages>0}]),title:`${k(l.month)}: ${l.voyages} voyage(s)`,onClick:a=>function(e,l){const a=t.allocations.find(e=>e.month===l),s=a?.vessels.find(l=>l.vesselId===e);if(s&&s.assignedVoyages.length>0){const a=d.value.find(l=>l.vesselId===e);u.value={vesselId:e,vesselName:a?.vesselName||"",month:l,voyages:s.assignedVoyages,utilization:s.utilizationRate}}}(e.vesselId,l.month)},[l.voyages>0?(p(),n("div",{key:0,class:"allocation-bar",style:f({height:`${Math.min(l.utilization,100)}%`})},[o("span",ee,r(l.voyages),1)],4)):m("",!0)],10,Z))),128))])]);var l}),128))]),0===d.value.length?(p(),n("div",le,[...a[4]||(a[4]=[o("i",{class:"icon-calendar"},null,-1),o("p",null,"No resource allocations to display",-1)])])):m("",!0)]),u.value?(p(),n("div",ae,[o("div",se,[o("h4",null,r(u.value.vesselName)+" - "+r(k(u.value.month)),1),o("button",{class:"close-btn",onClick:a[2]||(a[2]=e=>u.value=null)},"×")]),o("div",te,[o("div",ne,[a[5]||(a[5]=o("span",{class:"label"},"Voyages:",-1)),o("span",oe,r(u.value.voyages.length),1)]),o("div",ie,[a[6]||(a[6]=o("span",{class:"label"},"Utilization:",-1)),o("span",ce,r(u.value.utilization.toFixed(1))+"%",1)]),o("div",ue,[a[7]||(a[7]=o("h5",null,"Scheduled Voyages",-1)),(p(!0),n(h,null,y(u.value.voyages,e=>(p(),n("div",{key:e,class:"voyage-item"},[o("span",null,r(e),1),o("button",{class:"btn-edit",onClick:l=>{i("edit-voyage",e)}}," Edit ",8,de)]))),128))])])])):m("",!0)]))}}),[["__scopeId","data-v-d9dbda5a"]]),ve={class:"conflict-detector"},pe={class:"detector-header"},me={class:"conflict-summary"},ge={key:0,class:"no-conflicts"},he={class:"conflict-badge critical"},ye={class:"conflict-badge high"},fe={class:"conflict-badge medium"},be={class:"conflict-badge low"},ke={key:0,class:"conflicts-container"},Ce={class:"filter-bar"},we={class:"conflicts-list"},xe={class:"conflict-header"},Ve={class:"conflict-title"},ze={class:"conflict-type"},Ie=["onClick"],Se={class:"conflict-description"},Ue={class:"affected-entities"},Re={class:"entities-list"},Ae={key:0,class:"suggested-resolution"},Te={key:1,class:"resolution-panel"},_e={class:"resolution-options"},je=["onClick"],Le=["onClick"],Ne=["onClick"],Me={key:1,class:"no-conflicts-state"},Ee=U(e({__name:"ConflictDetector",props:{conflicts:{},scheduleId:{}},emits:["resolve"],setup(e,{emit:s}){const t=e,c=s,d=l(""),v=l(""),f=l(null),C=a(()=>t.conflicts.filter(e=>!(d.value&&e.severity!==d.value||v.value&&e.type!==v.value))),w=a(()=>t.conflicts.filter(e=>"critical"===e.severity).length),x=a(()=>t.conflicts.filter(e=>"high"===e.severity).length),V=a(()=>t.conflicts.filter(e=>"medium"===e.severity).length),z=a(()=>t.conflicts.filter(e=>"low"===e.severity).length);function I(e,l){c("resolve",e,l),f.value=null}function S(e){return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}return(l,a)=>(p(),n("div",ve,[o("div",pe,[a[4]||(a[4]=o("h3",null,[o("i",{class:"icon-alert-triangle"}),b(" Conflicts & Issues ")],-1)),o("div",me,[0===e.conflicts.length?(p(),n("span",ge,[...a[3]||(a[3]=[o("i",{class:"icon-check-circle"},null,-1),b(" No conflicts detected ",-1)])])):(p(),n(h,{key:1},[o("span",he,r(w.value)+" Critical",1),o("span",ye,r(x.value)+" High",1),o("span",fe,r(V.value)+" Medium",1),o("span",be,r(z.value)+" Low",1)],64))])]),e.conflicts.length>0?(p(),n("div",ke,[o("div",Ce,[i(o("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),class:"filter-select"},[...a[5]||(a[5]=[k('<option value="" data-v-14fc6243>All Severities</option><option value="critical" data-v-14fc6243>Critical</option><option value="high" data-v-14fc6243>High</option><option value="medium" data-v-14fc6243>Medium</option><option value="low" data-v-14fc6243>Low</option>',5)])],512),[[u,d.value]]),i(o("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e),class:"filter-select"},[...a[6]||(a[6]=[k('<option value="" data-v-14fc6243>All Types</option><option value="vessel-overlap" data-v-14fc6243>Vessel Overlap</option><option value="port-capacity" data-v-14fc6243>Port Capacity</option><option value="cargo-timing" data-v-14fc6243>Cargo Timing</option><option value="resource-shortage" data-v-14fc6243>Resource Shortage</option>',5)])],512),[[u,v.value]])]),o("div",we,[(p(!0),n(h,null,y(C.value,e=>{return p(),n("div",{key:e.id,class:g(["conflict-card",`severity-${e.severity}`])},[o("div",xe,[o("div",Ve,[o("i",{class:g((l=e.type,{"vessel-overlap":"icon-anchor","port-capacity":"icon-box","cargo-timing":"icon-clock","resource-shortage":"icon-alert-circle"}[l]||"icon-alert-triangle"))},null,2),o("span",ze,r(S(e.type)),1),o("span",{class:g(["severity-tag",e.severity])},r(e.severity.toUpperCase()),3)]),e.resolved?m("",!0):(p(),n("button",{key:0,class:"resolve-btn",onClick:l=>function(e){f.value=e.id}(e)}," Resolve ",8,Ie))]),o("p",Se,r(e.description),1),o("div",Ue,[a[7]||(a[7]=o("span",{class:"label"},"Affected:",-1)),o("div",Re,[(p(!0),n(h,null,y(e.affectedEntities,e=>(p(),n("span",{key:e,class:"entity-tag"},r(e),1))),128))])]),e.suggestedResolution?(p(),n("div",Ae,[a[8]||(a[8]=o("i",{class:"icon-lightbulb"},null,-1)),o("span",null,r(e.suggestedResolution),1)])):m("",!0),f.value===e.id?(p(),n("div",Te,[a[12]||(a[12]=o("h5",null,"Resolution Options",-1)),o("div",_e,[o("button",{class:"resolution-option",onClick:l=>I(e.id,"auto")},[...a[9]||(a[9]=[o("i",{class:"icon-wand"},null,-1),b(" Auto-resolve ",-1)])],8,je),o("button",{class:"resolution-option",onClick:l=>I(e.id,"manual")},[...a[10]||(a[10]=[o("i",{class:"icon-edit"},null,-1),b(" Manual adjustment ",-1)])],8,Le),o("button",{class:"resolution-option",onClick:l=>I(e.id,"ignore")},[...a[11]||(a[11]=[o("i",{class:"icon-eye-off"},null,-1),b(" Ignore ",-1)])],8,Ne)]),o("button",{class:"cancel-btn",onClick:a[2]||(a[2]=e=>f.value=null)}," Cancel ")])):m("",!0)],2);var l}),128))])])):(p(),n("div",Me,[...a[13]||(a[13]=[o("i",{class:"icon-check-circle"},null,-1),o("h4",null,"All Clear!",-1),o("p",null,"No scheduling conflicts detected. Your schedule is optimized.",-1)])]))]))}}),[["__scopeId","data-v-14fc6243"]]),Oe={class:"template-selector"},Ge={class:"selector-header"},$e={key:0,class:"loading-state"},Fe={key:1,class:"empty-state"},De={key:2,class:"templates-list"},Pe={class:"bulk-actions"},Je={class:"selected-count"},Ye={class:"templates-grid"},qe=["value","checked","onChange"],Be={class:"template-content"},Qe={class:"template-header"},He={class:"template-name"},Ke={class:"pattern-badge"},We={key:0,class:"template-description"},Xe={class:"template-meta"},Ze={class:"meta-item"},el={class:"meta-item"},ll={key:0,class:"meta-item"},al={class:"ports-preview"},sl=U(e({__name:"TemplateSelector",props:{templates:{},module:{},selected:{default:()=>[]}},emits:["update:selected","load-templates"],setup(e,{emit:s}){const t=e,i=s,c=l(!1),u=l([...t.selected]),d=a(()=>t.templates.filter(e=>e.module===t.module)),v=a(()=>u.value.length);function f(e){return u.value.includes(e)}function k(){u.value=d.value.map(e=>e.id),i("update:selected",[...u.value])}function C(){u.value=[],i("update:selected",[])}function w(){c.value=!0,i("load-templates"),setTimeout(()=>{c.value=!1},1e3)}return(l,a)=>(p(),n("div",Oe,[o("div",Ge,[a[1]||(a[1]=o("h4",null,"Voyage Templates",-1)),0===e.templates.length?(p(),n("button",{key:0,class:"btn-load",onClick:w},[...a[0]||(a[0]=[o("i",{class:"icon-download"},null,-1),b(" Load Templates ",-1)])])):m("",!0)]),c.value?(p(),n("div",$e,[...a[2]||(a[2]=[o("div",{class:"spinner"},null,-1),o("p",null,"Loading templates...",-1)])])):0===e.templates.length?(p(),n("div",Fe,[...a[3]||(a[3]=[o("i",{class:"icon-file-text"},null,-1),o("p",null,"No templates available",-1),o("small",null,'Click "Load Templates" to fetch available voyage patterns',-1)])])):(p(),n("div",De,[o("div",Pe,[o("button",{class:"link-btn",onClick:k},"Select All"),a[4]||(a[4]=o("span",{class:"separator"},"|",-1)),o("button",{class:"link-btn",onClick:C},"Select None"),o("span",Je,r(v.value)+" selected",1)]),o("div",Ye,[(p(!0),n(h,null,y(d.value,e=>{return p(),n("label",{key:e.id,class:g(["template-card",{selected:f(e.id)}])},[o("input",{type:"checkbox",value:e.id,checked:f(e.id),onChange:l=>function(e){const l=u.value.indexOf(e);l>-1?u.value.splice(l,1):u.value.push(e),i("update:selected",[...u.value])}(e.id)},null,40,qe),o("div",Be,[o("div",Qe,[o("span",He,r(e.name),1),o("span",Ke,r((l=e.pattern,l.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))),1)]),e.description?(p(),n("p",We,r(e.description),1)):m("",!0),o("div",Xe,[o("span",Ze,[a[5]||(a[5]=o("i",{class:"icon-clock"},null,-1)),b(" "+r(e.estimatedDays)+" days ",1)]),o("span",el,[a[6]||(a[6]=o("i",{class:"icon-anchor"},null,-1)),b(" "+r(e.ports.length)+" ports ",1)]),e.cargoTypes.length>0?(p(),n("span",ll,[a[7]||(a[7]=o("i",{class:"icon-box"},null,-1)),b(" "+r(e.cargoTypes.length)+" cargo types ",1)])):m("",!0)]),o("div",al,[o("small",null,"Ports: "+r(e.ports.join(" → ")),1)])])],2);var l}),128))])]))]))}}),[["__scopeId","data-v-3209d808"]]),tl={class:"year-schedule-generator"},nl={class:"generator-layout"},ol={class:"config-panel"},il={class:"action-buttons"},cl=["disabled"],ul={class:"content-panel"},dl={key:0,class:"loading-state"},rl={key:1,class:"error-state"},vl={key:2,class:"empty-state"},pl={key:3,class:"schedule-content"},ml={class:"statistics-panel"},gl={class:"stat-card"},hl={class:"stat-value"},yl={class:"stat-card"},fl={class:"stat-value"},bl={class:"stat-card"},kl={class:"stat-value"},Cl={class:"stat-card"},wl={class:"stat-value"},xl={class:"stat-card"},Vl={class:"stat-value"},zl={class:"manual-controls"},Il={class:"control-group"},Sl=["value"],Ul=["value"],Rl=["disabled"],Al={class:"voyage-editor"},Tl={class:"modal-actions"},_l={class:"save-scenario-form"},jl={class:"modal-actions"},Ll=["disabled"],Nl=U(e({__name:"YearScheduleGeneratorView",setup(e){const s=V(),v=I(),g=z(),f=l({year:(new Date).getFullYear(),module:"deepsea",vessels:[],optimizationGoal:"maximize-revenue",loadCargoCommitments:!0,useTemplates:!1,selectedTemplateIds:[]}),k=l({month:1,vesselId:""}),S=l(null),U=l(!1),T=l(""),_=l(""),j=a(()=>v.currentSchedule),L=a(()=>f.value.vessels.length>0&&f.value.year>0),N=a(()=>g.vessels.filter(e=>f.value.vessels.includes(e.id))),M=a(()=>k.value.vesselId&&k.value.month);async function E(){await v.generateSchedule(f.value)}async function O(){await v.fetchTemplates(f.value.module)}function G(e){j.value&&v.updateSchedule(j.value.id,e)}function $(e){S.value=e}function F(){S.value&&s.push({name:"voyage-builder",query:{voyageId:S.value.id}})}async function P(e,l){j.value&&await v.resolveConflict(j.value.id,e,l)}function J(){}function Y(){U.value=!0,j.value&&(T.value=j.value.name||"")}async function q(){j.value&&T.value.trim()&&(await v.updateSchedule(j.value.id,{name:T.value,status:"finalized"}),U.value=!1)}async function B(){if(j.value)try{const e=await fetch(`/api/schedules/${j.value.id}/export/pdf`),l=await e.blob(),a=window.URL.createObjectURL(l),s=document.createElement("a");s.href=a,s.download=`schedule-${j.value.config.year}.pdf`,s.click(),window.URL.revokeObjectURL(a)}catch(e){}}async function Q(){if(j.value)try{const e=await fetch(`/api/schedules/${j.value.id}/export/excel`),l=await e.blob(),a=window.URL.createObjectURL(l),s=document.createElement("a");s.href=a,s.download=`schedule-${j.value.config.year}.xlsx`,s.click(),window.URL.revokeObjectURL(a)}catch(e){}}function H(e){return new Intl.NumberFormat("en-US").format(e)}return t(async()=>{await g.fetchVessels()}),(e,l)=>(p(),n("div",tl,[l[28]||(l[28]=o("div",{class:"page-header"},[o("h1",null,"Year Schedule Generator"),o("p",{class:"subtitle"},"Plan and optimize annual vessel schedules")],-1)),o("div",nl,[o("aside",ol,[d(D,{config:f.value,"onUpdate:config":l[0]||(l[0]=e=>f.value=e),loading:w(v).generating,onSubmit:E},null,8,["config","loading"]),f.value.useTemplates?(p(),C(sl,{key:0,selected:f.value.selectedTemplateIds,"onUpdate:selected":l[1]||(l[1]=e=>f.value.selectedTemplateIds=e),module:f.value.module,templates:w(v).templates,onLoadTemplates:O},null,8,["selected","module","templates"])):m("",!0),o("div",il,[o("button",{class:"btn btn-primary",disabled:!L.value||w(v).generating,onClick:E},[l[11]||(l[11]=o("i",{class:"icon-wand"},null,-1)),b(" "+r(w(v).generating?"Generating...":"Generate Schedule"),1)],8,cl),j.value?(p(),n("button",{key:0,class:"btn btn-secondary",onClick:Y},[...l[12]||(l[12]=[o("i",{class:"icon-save"},null,-1),b(" Save Scenario ",-1)])])):m("",!0),j.value?(p(),n("button",{key:1,class:"btn btn-secondary",onClick:B},[...l[13]||(l[13]=[o("i",{class:"icon-pdf"},null,-1),b(" Export PDF ",-1)])])):m("",!0),j.value?(p(),n("button",{key:2,class:"btn btn-secondary",onClick:Q},[...l[14]||(l[14]=[o("i",{class:"icon-excel"},null,-1),b(" Export Excel ",-1)])])):m("",!0)])]),o("main",ul,[w(v).loading?(p(),n("div",dl,[d(R,{size:"large"}),l[15]||(l[15]=o("p",null,"Loading schedule data...",-1))])):w(v).error?(p(),n("div",rl,[l[16]||(l[16]=o("i",{class:"icon-alert-circle"},null,-1)),o("p",null,r(w(v).error),1),o("button",{class:"btn btn-primary",onClick:l[2]||(l[2]=(...e)=>w(v).clearError&&w(v).clearError(...e))}," Dismiss ")])):j.value?(p(),n("div",pl,[o("div",ml,[o("div",gl,[l[18]||(l[18]=o("span",{class:"stat-label"},"Total Voyages",-1)),o("span",hl,r(j.value.statistics.totalVoyages),1)]),o("div",yl,[l[19]||(l[19]=o("span",{class:"stat-label"},"Total Cargo (t)",-1)),o("span",fl,r(H(j.value.statistics.totalCargo)),1)]),o("div",bl,[l[20]||(l[20]=o("span",{class:"stat-label"},"Total Revenue",-1)),o("span",kl,"$"+r(H(j.value.statistics.totalRevenue)),1)]),o("div",Cl,[l[21]||(l[21]=o("span",{class:"stat-label"},"Net Profit",-1)),o("span",wl,"$"+r(H(j.value.statistics.netProfit)),1)]),o("div",xl,[l[22]||(l[22]=o("span",{class:"stat-label"},"Avg Utilization",-1)),o("span",Vl,r(j.value.statistics.averageUtilization.toFixed(1))+"%",1)])]),d(Ee,{conflicts:j.value.conflicts,"schedule-id":j.value.id,onResolve:P},null,8,["conflicts","schedule-id"]),d(re,{allocations:j.value.monthlyAllocations,year:j.value.config.year,onAdjust:G,onEditVoyage:$},null,8,["allocations","year"]),o("div",zl,[l[25]||(l[25]=o("h3",null,"Manual Adjustments",-1)),o("div",Il,[l[24]||(l[24]=o("label",null,"Add Voyage to Month:",-1)),i(o("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>k.value.month=e)},[(p(),n(h,null,y(12,e=>o("option",{key:e,value:e},r(["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]),9,Sl)),64))],512),[[u,k.value.month]]),i(o("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>k.value.vesselId=e)},[l[23]||(l[23]=o("option",{value:""},"Select Vessel",-1)),(p(!0),n(h,null,y(N.value,e=>(p(),n("option",{key:e.id,value:e.id},r(e.name),9,Ul))),128))],512),[[u,k.value.vesselId]]),o("button",{class:"btn btn-small",disabled:!M.value,onClick:J}," Add Voyage ",8,Rl)])])])):(p(),n("div",vl,[...l[17]||(l[17]=[o("i",{class:"icon-calendar"},null,-1),o("h3",null,"No Schedule Generated",-1),o("p",null,'Configure your schedule parameters and click "Generate Schedule" to begin.',-1)])]))])]),S.value?(p(),C(A,{key:0,show:null!==S.value,title:"Edit Voyage",size:"large",onClose:l[6]||(l[6]=e=>S.value=null)},{default:x(()=>[o("div",Al,[o("p",null,"Editing voyage: "+r(S.value.id),1),o("button",{class:"btn btn-primary",onClick:F}," Open in Voyage Builder "),o("div",Tl,[o("button",{class:"btn btn-secondary",onClick:l[5]||(l[5]=e=>S.value=null)}," Close ")])])]),_:1},8,["show"])):m("",!0),U.value?(p(),C(A,{key:1,show:U.value,title:"Save Schedule Scenario",onClose:l[10]||(l[10]=e=>U.value=!1)},{default:x(()=>[o("div",_l,[o("label",null,[l[26]||(l[26]=b(" Scenario Name: ",-1)),i(o("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>T.value=e),type:"text",placeholder:"e.g., 2025 Optimized Plan",class:"input-field"},null,512),[[c,T.value]])]),o("label",null,[l[27]||(l[27]=b(" Description (optional): ",-1)),i(o("textarea",{"onUpdate:modelValue":l[8]||(l[8]=e=>_.value=e),placeholder:"Add notes about this scenario...",class:"input-field",rows:"3"},null,512),[[c,_.value]])]),o("div",jl,[o("button",{class:"btn btn-secondary",onClick:l[9]||(l[9]=e=>U.value=!1)}," Cancel "),o("button",{class:"btn btn-primary",disabled:!T.value.trim(),onClick:q}," Save ",8,Ll)])])]),_:1},8,["show"])):m("",!0)]))}}),[["__scopeId","data-v-de591272"]]);export{Nl as default};
//# sourceMappingURL=view-yearschedulegeneratorview-DP2feYTD.js.map
