import{c as e}from"./stores-B-Lw8dsK.js";import{d as a,r as l,c as t,a as s,b as n,B as o,e as u,h as i,k as r,v as c,C as d,q as v,t as f,F as p,i as m,o as h,g as k,G as b,z as g}from"./vendor-vue-CBmYbXPK.js";import{b as y}from"./view-cargomanagement-BocXzYqp.js";import{L as C,_}from"./component-financial-CtXviO0A.js";import"./services-DnyArwnx.js";import"./vendor-axios-CcrxTH1M.js";import"./vendor-misc-DO6OT3jl.js";import"./vendor-charts-BEO-w-Hm.js";const w={class:"route-list"},x={class:"filters-section"},R={class:"search-box"},j={class:"filters"},L={key:1,class:"empty-state"},T={key:2,class:"table-container"},$={class:"routes-table"},z={key:0},B=["checked"],A={key:0,class:"sort-indicator"},D={key:0,class:"sort-indicator"},F={key:0,class:"sort-indicator"},M={key:0},S=["checked","onChange"],V={class:"actions-cell"},I={key:3,class:"bulk-actions"},q={class:"selection-info"},E={key:4,class:"pagination"},N={class:"page-info"},O=_(a({__name:"RouteList",props:{routes:{},loading:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1}},emits:["add-route","view-route","delete-route","transfer-to-builder","transfer-selected"],setup(e,{emit:a}){const k=e,b=a,g=l(""),_=l(""),O=l("from"),P=l("asc"),U=l(1),G=l([]),H=t(()=>{let e=[...k.routes];if(g.value){const a=g.value.toLowerCase();e=e.filter(e=>e.from.toLowerCase().includes(a)||e.to.toLowerCase().includes(a))}if(_.value){const a=_.value.toLowerCase();e=e.filter(e=>e.canal?.toLowerCase().includes(a))}return e.sort((e,a)=>{const l=e[O.value],t=a[O.value];if(l===t)return 0;const s=l<t?-1:1;return"asc"===P.value?s:-s}),e}),J=t(()=>Math.ceil(H.value.length/10)),K=t(()=>{const e=10*(U.value-1),a=e+10;return H.value.slice(e,a)}),Q=t(()=>K.value.length>0&&K.value.every(e=>G.value.includes(e.id))),W=t(()=>k.routes.filter(e=>G.value.includes(e.id)));function X(e){O.value===e?P.value="asc"===P.value?"desc":"asc":(O.value=e,P.value="asc")}function Y(){Q.value?K.value.forEach(e=>{const a=G.value.indexOf(e.id);a>-1&&G.value.splice(a,1)}):K.value.forEach(e=>{G.value.includes(e.id)||G.value.push(e.id)})}return(a,l)=>(h(),s("div",w,[n("div",x,[n("div",R,[r(n("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e),type:"text",placeholder:"Search routes by port...",class:"search-input"},null,512),[[c,g.value]])]),n("div",j,[r(n("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>_.value=e),type:"text",placeholder:"Filter by canal...",class:"filter-input"},null,512),[[c,_.value]])]),i(y,{onClick:l[2]||(l[2]=e=>a.$emit("add-route")),variant:"primary",class:"add-button"},{default:d(()=>[...l[9]||(l[9]=[n("span",{class:"icon"},"+",-1),v(" Add Route ",-1)])]),_:1})]),e.loading?(h(),o(C,{key:0})):0===H.value.length?(h(),s("div",L,[...l[10]||(l[10]=[n("p",null,"No routes found.",-1)])])):(h(),s("div",T,[n("table",$,[n("thead",null,[n("tr",null,[e.selectable?(h(),s("th",z,[n("input",{type:"checkbox",onChange:Y,checked:Q.value,class:"checkbox"},null,40,B)])):u("",!0),n("th",{onClick:l[3]||(l[3]=e=>X("from"))},[l[11]||(l[11]=v(" From ",-1)),"from"===O.value?(h(),s("span",A,f("asc"===P.value?"↑":"↓"),1)):u("",!0)]),n("th",{onClick:l[4]||(l[4]=e=>X("to"))},[l[12]||(l[12]=v(" To ",-1)),"to"===O.value?(h(),s("span",D,f("asc"===P.value?"↑":"↓"),1)):u("",!0)]),n("th",{onClick:l[5]||(l[5]=e=>X("distance"))},[l[13]||(l[13]=v(" Distance (nm) ",-1)),"distance"===O.value?(h(),s("span",F,f("asc"===P.value?"↑":"↓"),1)):u("",!0)]),l[14]||(l[14]=n("th",null,"Canal",-1)),l[15]||(l[15]=n("th",null,"Actions",-1))])]),n("tbody",null,[(h(!0),s(p,null,m(K.value,t=>{return h(),s("tr",{key:t.id,class:"route-row"},[e.selectable?(h(),s("td",M,[n("input",{type:"checkbox",checked:G.value.includes(t.id),onChange:e=>function(e){const a=G.value.indexOf(e);a>-1?G.value.splice(a,1):G.value.push(e)}(t.id),class:"checkbox"},null,40,S)])):u("",!0),n("td",null,[n("strong",null,f(t.from),1)]),n("td",null,[n("strong",null,f(t.to),1)]),n("td",null,f((o=t.distance,o.toLocaleString())),1),n("td",null,f(t.canal||"-"),1),n("td",V,[i(y,{onClick:e=>a.$emit("transfer-to-builder",t),variant:"primary",size:"small"},{default:d(()=>[...l[16]||(l[16]=[v(" To Builder ",-1)])]),_:1},8,["onClick"]),i(y,{onClick:e=>a.$emit("view-route",t),variant:"secondary",size:"small"},{default:d(()=>[...l[17]||(l[17]=[v(" View ",-1)])]),_:1},8,["onClick"]),i(y,{onClick:e=>function(e){confirm(`Delete route ${e.from} → ${e.to}?`)&&b("delete-route",e)}(t),variant:"danger",size:"small"},{default:d(()=>[...l[18]||(l[18]=[v(" Delete ",-1)])]),_:1},8,["onClick"])])]);var o}),128))])])])),e.selectable&&G.value.length>0?(h(),s("div",I,[n("span",q,f(G.value.length)+" route(s) selected",1),i(y,{onClick:l[6]||(l[6]=e=>a.$emit("transfer-selected",W.value)),variant:"primary"},{default:d(()=>[...l[19]||(l[19]=[v(" Transfer Selected to Builder ",-1)])]),_:1})])):u("",!0),J.value>1?(h(),s("div",E,[i(y,{onClick:l[7]||(l[7]=e=>U.value--),disabled:1===U.value,variant:"secondary",size:"small"},{default:d(()=>[...l[20]||(l[20]=[v(" Previous ",-1)])]),_:1},8,["disabled"]),n("span",N," Page "+f(U.value)+" of "+f(J.value),1),i(y,{onClick:l[8]||(l[8]=e=>U.value++),disabled:U.value===J.value,variant:"secondary",size:"small"},{default:d(()=>[...l[21]||(l[21]=[v(" Next ",-1)])]),_:1},8,["disabled"])])):u("",!0)]))}}),[["__scopeId","data-v-54a5019b"]]),P={class:"route-management"},U=_(a({__name:"RouteManagement",setup(a){const l=e(),t=g();function o(){alert("Add Route functionality to be implemented with RouteForm component")}function u(e){}function r(e){l.deleteRoute(e.id)}function c(e){t.push({name:"voyage-builder",query:{routeId:e.id}})}function d(e){alert(`Transferring ${e.length} routes to builder`)}return k(()=>{l.fetchRoutes()}),(e,a)=>(h(),s("div",P,[a[0]||(a[0]=n("div",{class:"header"},[n("h1",null,"Route Management"),n("p",{class:"subtitle"},"Manage shipping routes, distances, and canal transits.")],-1)),i(O,{routes:b(l).routes,loading:b(l).loading,selectable:!0,onAddRoute:o,onViewRoute:u,onDeleteRoute:r,onTransferToBuilder:c,onTransferSelected:d},null,8,["routes","loading"])]))}}),[["__scopeId","data-v-161e2088"]]);export{U as default};
//# sourceMappingURL=view-routemanagement-fZQkRTiE.js.map
