{"version":3,"file":"view-operationalcalendarview-BHSgXeMG.js","sources":["../../src/components/shared/DateRangePicker.vue","../../src/components/shared/MultiSelect.vue","../../src/components/shared/GlobalFiltersBar.vue","../../src/components/calendar/CalendarMonthView.vue","../../src/components/calendar/CalendarWeekView.vue","../../src/components/calendar/CalendarYearView.vue","../../src/components/calendar/CalendarTimelineView.vue","../../src/components/shared/StatusBadge.vue","../../src/components/calendar/EventModal.vue","../../src/views/OperationalCalendarView.vue"],"sourcesContent":["<template>\n  <div class=\"date-range-picker\">\n    <div class=\"date-inputs\">\n      <div class=\"date-input-group\">\n        <input\n          ref=\"startInput\"\n          v-model=\"startDateString\"\n          type=\"date\"\n          class=\"date-input\"\n          placeholder=\"Start Date\"\n          @change=\"handleStartDateChange\"\n        />\n      </div>\n      <span class=\"date-separator\">to</span>\n      <div class=\"date-input-group\">\n        <input\n          ref=\"endInput\"\n          v-model=\"endDateString\"\n          type=\"date\"\n          class=\"date-input\"\n          placeholder=\"End Date\"\n          @change=\"handleEndDateChange\"\n        />\n      </div>\n      <button\n        v-if=\"hasValue\"\n        class=\"clear-button\"\n        type=\"button\"\n        @click=\"clearDates\"\n        title=\"Clear dates\"\n      >\n        âœ•\n      </button>\n    </div>\n\n    <!-- Quick presets -->\n    <div v-if=\"showPresets\" class=\"date-presets\">\n      <button\n        v-for=\"preset in datePresets\"\n        :key=\"preset.label\"\n        class=\"preset-button\"\n        type=\"button\"\n        @click=\"applyPreset(preset)\"\n      >\n        {{ preset.label }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport type { DateRange } from '@/stores/filters';\n\ninterface Props {\n  modelValue: DateRange;\n  showPresets?: boolean;\n  minDate?: Date;\n  maxDate?: Date;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  showPresets: true,\n});\n\nconst emit = defineEmits<{\n  'update:modelValue': [value: DateRange];\n}>();\n\nconst startInput = ref<HTMLInputElement>();\nconst endInput = ref<HTMLInputElement>();\n\nconst startDateString = ref('');\nconst endDateString = ref('');\n\n// Formatters\nfunction dateToString(date: Date | null): string {\n  if (!date) return '';\n  const d = new Date(date);\n  const year = d.getFullYear();\n  const month = String(d.getMonth() + 1).padStart(2, '0');\n  const day = String(d.getDate()).padStart(2, '0');\n  return `${year}-${month}-${day}`;\n}\n\nfunction stringToDate(str: string): Date | null {\n  if (!str) return null;\n  const date = new Date(str);\n  return isNaN(date.getTime()) ? null : date;\n}\n\n// Watch for external changes\nwatch(() => props.modelValue, (newValue) => {\n  startDateString.value = dateToString(newValue.start);\n  endDateString.value = dateToString(newValue.end);\n}, { immediate: true, deep: true });\n\nconst hasValue = computed(() => \n  props.modelValue.start !== null || props.modelValue.end !== null\n);\n\n// Date presets\ninterface DatePreset {\n  label: string;\n  getRange: () => DateRange;\n}\n\nconst datePresets = ref<DatePreset[]>([\n  {\n    label: 'Today',\n    getRange: () => {\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n      return { start: today, end: today };\n    },\n  },\n  {\n    label: 'This Week',\n    getRange: () => {\n      const today = new Date();\n      const dayOfWeek = today.getDay();\n      const start = new Date(today);\n      start.setDate(today.getDate() - dayOfWeek);\n      start.setHours(0, 0, 0, 0);\n      const end = new Date(start);\n      end.setDate(start.getDate() + 6);\n      return { start, end };\n    },\n  },\n  {\n    label: 'This Month',\n    getRange: () => {\n      const today = new Date();\n      const start = new Date(today.getFullYear(), today.getMonth(), 1);\n      const end = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n      return { start, end };\n    },\n  },\n  {\n    label: 'This Quarter',\n    getRange: () => {\n      const today = new Date();\n      const quarter = Math.floor(today.getMonth() / 3);\n      const start = new Date(today.getFullYear(), quarter * 3, 1);\n      const end = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n      return { start, end };\n    },\n  },\n  {\n    label: 'This Year',\n    getRange: () => {\n      const today = new Date();\n      const start = new Date(today.getFullYear(), 0, 1);\n      const end = new Date(today.getFullYear(), 11, 31);\n      return { start, end };\n    },\n  },\n  {\n    label: 'Last 7 Days',\n    getRange: () => {\n      const end = new Date();\n      end.setHours(23, 59, 59, 999);\n      const start = new Date(end);\n      start.setDate(end.getDate() - 6);\n      start.setHours(0, 0, 0, 0);\n      return { start, end };\n    },\n  },\n  {\n    label: 'Last 30 Days',\n    getRange: () => {\n      const end = new Date();\n      end.setHours(23, 59, 59, 999);\n      const start = new Date(end);\n      start.setDate(end.getDate() - 29);\n      start.setHours(0, 0, 0, 0);\n      return { start, end };\n    },\n  },\n  {\n    label: 'Last 90 Days',\n    getRange: () => {\n      const end = new Date();\n      end.setHours(23, 59, 59, 999);\n      const start = new Date(end);\n      start.setDate(end.getDate() - 89);\n      start.setHours(0, 0, 0, 0);\n      return { start, end };\n    },\n  },\n]);\n\nfunction handleStartDateChange() {\n  const start = stringToDate(startDateString.value);\n  emit('update:modelValue', {\n    start,\n    end: props.modelValue.end,\n  });\n}\n\nfunction handleEndDateChange() {\n  const end = stringToDate(endDateString.value);\n  emit('update:modelValue', {\n    start: props.modelValue.start,\n    end,\n  });\n}\n\nfunction clearDates() {\n  startDateString.value = '';\n  endDateString.value = '';\n  emit('update:modelValue', {\n    start: null,\n    end: null,\n  });\n}\n\nfunction applyPreset(preset: DatePreset) {\n  const range = preset.getRange();\n  emit('update:modelValue', range);\n}\n</script>\n\n<style scoped>\n.date-range-picker {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.date-inputs {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  padding: 0.25rem 0.5rem;\n}\n\n.date-input-group {\n  flex: 1;\n}\n\n.date-input {\n  width: 100%;\n  padding: 0.375rem 0.5rem;\n  font-size: 0.875rem;\n  border: none;\n  background: transparent;\n  color: var(--color-text);\n  font-family: inherit;\n}\n\n.date-input:focus {\n  outline: none;\n}\n\n.date-input::-webkit-calendar-picker-indicator {\n  cursor: pointer;\n  opacity: 0.6;\n}\n\n.date-input::-webkit-calendar-picker-indicator:hover {\n  opacity: 1;\n}\n\n.date-separator {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n}\n\n.clear-button {\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  border-radius: 3px;\n  font-size: 0.875rem;\n  line-height: 1;\n  transition: all 0.2s;\n}\n\n.clear-button:hover {\n  background: var(--color-background-soft);\n  color: var(--color-text);\n}\n\n.date-presets {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n\n.preset-button {\n  padding: 0.25rem 0.75rem;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  color: var(--color-text);\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n  white-space: nowrap;\n}\n\n.preset-button:hover {\n  background: var(--color-background-soft);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n\n@media (max-width: 640px) {\n  .date-inputs {\n    flex-wrap: wrap;\n  }\n  \n  .date-input-group {\n    flex-basis: calc(50% - 0.25rem);\n  }\n  \n  .date-separator {\n    display: none;\n  }\n}\n</style>\n","<template>\n  <div class=\"multi-select\" :class=\"{ 'is-open': isOpen, 'is-disabled': disabled }\">\n    <div class=\"multi-select-trigger\" @click=\"toggleDropdown\">\n      <div class=\"selected-items\">\n        <template v-if=\"selectedOptions.length === 0\">\n          <span class=\"placeholder\">{{ placeholder }}</span>\n        </template>\n        <template v-else-if=\"selectedOptions.length <= 3\">\n          <span v-for=\"option in selectedOptions\" :key=\"option.value\" class=\"selected-tag\">\n            {{ option.label }}\n            <button class=\"tag-remove\" @click.stop=\"removeItem(option.value)\">Ã—</button>\n          </span>\n        </template>\n        <template v-else>\n          <span class=\"selected-count\">{{ selectedOptions.length }} selected</span>\n        </template>\n      </div>\n      <svg class=\"dropdown-arrow\" width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\">\n        <path d=\"M1 1L6 6L11 1\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n      </svg>\n    </div>\n\n    <Transition name=\"dropdown\">\n      <div v-if=\"isOpen\" class=\"multi-select-dropdown\">\n        <!-- Search -->\n        <div v-if=\"searchable\" class=\"dropdown-search\">\n          <input\n            ref=\"searchInput\"\n            v-model=\"searchQuery\"\n            type=\"text\"\n            class=\"search-input\"\n            placeholder=\"Search...\"\n            @click.stop\n          />\n        </div>\n\n        <!-- Select All -->\n        <div v-if=\"showSelectAll\" class=\"dropdown-option select-all\" @click=\"toggleSelectAll\">\n          <input\n            type=\"checkbox\"\n            :checked=\"isAllSelected\"\n            :indeterminate.prop=\"isSomeSelected\"\n            @click.stop\n          />\n          <span>Select All</span>\n        </div>\n\n        <!-- Options -->\n        <div class=\"dropdown-options\">\n          <div\n            v-for=\"option in filteredOptions\"\n            :key=\"option.value\"\n            class=\"dropdown-option\"\n            :class=\"{ 'is-selected': isSelected(option.value) }\"\n            @click=\"toggleOption(option.value)\"\n          >\n            <input\n              type=\"checkbox\"\n              :checked=\"isSelected(option.value)\"\n              @click.stop\n            />\n            <span>{{ option.label }}</span>\n          </div>\n          <div v-if=\"filteredOptions.length === 0\" class=\"dropdown-empty\">\n            No options found\n          </div>\n        </div>\n      </div>\n    </Transition>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onBeforeUnmount } from 'vue';\n\ninterface Option {\n  value: string;\n  label: string;\n}\n\ninterface Props {\n  modelValue: string[];\n  options: Option[];\n  placeholder?: string;\n  disabled?: boolean;\n  searchable?: boolean;\n  showSelectAll?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  placeholder: 'Select...',\n  disabled: false,\n  searchable: true,\n  showSelectAll: true,\n});\n\nconst emit = defineEmits<{\n  'update:modelValue': [value: string[]];\n}>();\n\nconst isOpen = ref(false);\nconst searchQuery = ref('');\nconst searchInput = ref<HTMLInputElement>();\n\nconst selectedOptions = computed(() =>\n  props.options.filter(opt => props.modelValue.includes(opt.value))\n);\n\nconst filteredOptions = computed(() => {\n  if (!searchQuery.value) return props.options;\n  const query = searchQuery.value.toLowerCase();\n  return props.options.filter(opt =>\n    opt.label.toLowerCase().includes(query)\n  );\n});\n\nconst isAllSelected = computed(() =>\n  props.options.length > 0 && props.modelValue.length === props.options.length\n);\n\nconst isSomeSelected = computed(() =>\n  props.modelValue.length > 0 && props.modelValue.length < props.options.length\n);\n\nfunction toggleDropdown() {\n  if (props.disabled) return;\n  isOpen.value = !isOpen.value;\n  if (isOpen.value) {\n    setTimeout(() => searchInput.value?.focus(), 50);\n  }\n}\n\nfunction isSelected(value: string): boolean {\n  return props.modelValue.includes(value);\n}\n\nfunction toggleOption(value: string) {\n  const newValue = isSelected(value)\n    ? props.modelValue.filter(v => v !== value)\n    : [...props.modelValue, value];\n  emit('update:modelValue', newValue);\n}\n\nfunction removeItem(value: string) {\n  const newValue = props.modelValue.filter(v => v !== value);\n  emit('update:modelValue', newValue);\n}\n\nfunction toggleSelectAll() {\n  if (isAllSelected.value) {\n    emit('update:modelValue', []);\n  } else {\n    emit('update:modelValue', props.options.map(opt => opt.value));\n  }\n}\n\nfunction handleClickOutside(event: MouseEvent) {\n  const target = event.target as HTMLElement;\n  if (!target.closest('.multi-select')) {\n    isOpen.value = false;\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside);\n});\n\nonBeforeUnmount(() => {\n  document.removeEventListener('click', handleClickOutside);\n});\n\nwatch(isOpen, (newValue) => {\n  if (!newValue) {\n    searchQuery.value = '';\n  }\n});\n</script>\n\n<style scoped>\n.multi-select {\n  position: relative;\n  width: 100%;\n}\n\n.multi-select-trigger {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-height: 38px;\n}\n\n.multi-select-trigger:hover {\n  border-color: var(--color-primary);\n}\n\n.multi-select.is-open .multi-select-trigger {\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);\n}\n\n.multi-select.is-disabled .multi-select-trigger {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.selected-items {\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.25rem;\n  overflow: hidden;\n}\n\n.placeholder {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n\n.selected-tag {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.125rem 0.5rem;\n  background: var(--color-primary);\n  color: white;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  white-space: nowrap;\n}\n\n.tag-remove {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 14px;\n  height: 14px;\n  padding: 0;\n  border: none;\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 12px;\n  line-height: 1;\n  transition: background 0.2s;\n}\n\n.tag-remove:hover {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n.selected-count {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n\n.dropdown-arrow {\n  flex-shrink: 0;\n  color: var(--color-text-secondary);\n  transition: transform 0.2s;\n}\n\n.multi-select.is-open .dropdown-arrow {\n  transform: rotate(180deg);\n}\n\n.multi-select-dropdown {\n  position: absolute;\n  top: calc(100% + 4px);\n  left: 0;\n  right: 0;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  max-height: 300px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.dropdown-search {\n  padding: 0.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n\n.search-input {\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  background: var(--color-background);\n  color: var(--color-text);\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: var(--color-primary);\n}\n\n.dropdown-options {\n  overflow-y: auto;\n  flex: 1;\n}\n\n.dropdown-option {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  cursor: pointer;\n  transition: background 0.2s;\n  font-size: 0.875rem;\n}\n\n.dropdown-option:hover {\n  background: var(--color-background-soft);\n}\n\n.dropdown-option.is-selected {\n  background: rgba(var(--color-primary-rgb), 0.1);\n}\n\n.dropdown-option.select-all {\n  border-bottom: 1px solid var(--color-border);\n  font-weight: 500;\n}\n\n.dropdown-option input[type=\"checkbox\"] {\n  cursor: pointer;\n}\n\n.dropdown-empty {\n  padding: 1rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-size: 0.875rem;\n}\n\n/* Enter/leave transitions */\n.dropdown-enter-active,\n.dropdown-leave-active {\n  transition: all 0.2s ease;\n}\n\n.dropdown-enter-from,\n.dropdown-leave-to {\n  opacity: 0;\n  transform: translateY(-8px);\n}\n</style>\n","<template>\n  <div class=\"global-filters-bar\">\n    <div class=\"filters-container\">\n      <!-- Module Filter -->\n      <div class=\"filter-group\">\n        <label class=\"filter-label\">Module</label>\n        <BaseSelect\n          v-model=\"localFilters.module\"\n          :options=\"moduleOptions\"\n          placeholder=\"All Modules\"\n          @update:modelValue=\"emitFilters\"\n        />\n      </div>\n\n      <!-- Date Range Filter -->\n      <div class=\"filter-group\">\n        <label class=\"filter-label\">Date Range</label>\n        <DateRangePicker\n          v-model=\"localFilters.dateRange\"\n          @update:modelValue=\"emitFilters\"\n        />\n      </div>\n\n      <!-- Vessels Filter (Multi-select) -->\n      <div v-if=\"showVessels\" class=\"filter-group\">\n        <label class=\"filter-label\">Vessels</label>\n        <MultiSelect\n          v-model=\"localFilters.vessels\"\n          :options=\"vesselOptions\"\n          placeholder=\"Select vessels...\"\n          @update:modelValue=\"emitFilters\"\n        />\n      </div>\n\n      <!-- Ports Filter (Multi-select) -->\n      <div v-if=\"showPorts\" class=\"filter-group\">\n        <label class=\"filter-label\">Ports</label>\n        <MultiSelect\n          v-model=\"localFilters.ports\"\n          :options=\"portOptions\"\n          placeholder=\"Select ports...\"\n          @update:modelValue=\"emitFilters\"\n        />\n      </div>\n\n      <!-- Routes Filter (Multi-select) -->\n      <div v-if=\"showRoutes\" class=\"filter-group\">\n        <label class=\"filter-label\">Routes</label>\n        <MultiSelect\n          v-model=\"localFilters.routes\"\n          :options=\"routeOptions\"\n          placeholder=\"Select routes...\"\n          @update:modelValue=\"emitFilters\"\n        />\n      </div>\n\n      <!-- Cargo Types Filter (Multi-select) -->\n      <div v-if=\"showCargoTypes\" class=\"filter-group\">\n        <label class=\"filter-label\">Cargo Types</label>\n        <MultiSelect\n          v-model=\"localFilters.cargoTypes\"\n          :options=\"cargoTypeOptions\"\n          placeholder=\"Select cargo types...\"\n          @update:modelValue=\"emitFilters\"\n        />\n      </div>\n\n      <!-- Status Filter (Multi-select) -->\n      <div v-if=\"showStatuses\" class=\"filter-group\">\n        <label class=\"filter-label\">Status</label>\n        <MultiSelect\n          v-model=\"localFilters.statuses\"\n          :options=\"statusOptions\"\n          placeholder=\"Select statuses...\"\n          @update:modelValue=\"emitFilters\"\n        />\n      </div>\n\n      <!-- Search Query -->\n      <div v-if=\"showSearch\" class=\"filter-group filter-search\">\n        <label class=\"filter-label\">Search</label>\n        <BaseInput\n          v-model=\"localFilters.searchQuery\"\n          type=\"text\"\n          placeholder=\"Search...\"\n          clearable\n          @update:modelValue=\"emitFilters\"\n        />\n      </div>\n    </div>\n\n    <!-- Filter Actions -->\n    <div class=\"filters-actions\">\n      <div class=\"filter-presets\">\n        <BaseSelect\n          v-model=\"selectedPreset\"\n          :options=\"presetOptions\"\n          placeholder=\"Presets...\"\n          clearable\n          @update:modelValue=\"applyPreset\"\n        />\n      </div>\n      \n      <div class=\"filter-buttons\">\n        <BaseButton\n          v-if=\"activeFiltersCount > 0\"\n          variant=\"text\"\n          size=\"small\"\n          @click=\"resetFilters\"\n        >\n          Clear All ({{ activeFiltersCount }})\n        </BaseButton>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport { useFiltersStore, type FilterState } from '@/stores/filters';\nimport type { Module } from '@/types/calendar.types';\nimport BaseSelect from './BaseSelect.vue';\nimport BaseInput from './BaseInput.vue';\nimport BaseButton from './BaseButton.vue';\nimport DateRangePicker from './DateRangePicker.vue';\nimport MultiSelect from './MultiSelect.vue';\n\ninterface Props {\n  context: 'voyage' | 'schedule' | 'report' | 'calendar';\n  showVessels?: boolean;\n  showPorts?: boolean;\n  showRoutes?: boolean;\n  showCargoTypes?: boolean;\n  showStatuses?: boolean;\n  showSearch?: boolean;\n  vesselOptions?: Array<{ value: string; label: string }>;\n  portOptions?: Array<{ value: string; label: string }>;\n  routeOptions?: Array<{ value: string; label: string }>;\n  cargoTypeOptions?: Array<{ value: string; label: string }>;\n  statusOptions?: Array<{ value: string; label: string }>;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  showVessels: true,\n  showPorts: true,\n  showRoutes: true,\n  showCargoTypes: true,\n  showStatuses: true,\n  showSearch: true,\n  vesselOptions: () => [],\n  portOptions: () => [],\n  routeOptions: () => [],\n  cargoTypeOptions: () => [],\n  statusOptions: () => [],\n});\n\nconst emit = defineEmits<{\n  filtersChanged: [filters: FilterState];\n}>();\n\nconst filtersStore = useFiltersStore();\nconst selectedPreset = ref<string>('');\n\n// Get the appropriate filters based on context\nconst contextFilters = computed(() => {\n  switch (props.context) {\n    case 'voyage':\n      return filtersStore.voyageFilters;\n    case 'schedule':\n      return filtersStore.scheduleFilters;\n    case 'report':\n      return filtersStore.reportFilters;\n    case 'calendar':\n      return filtersStore.calendarFilters;\n  }\n});\n\nconst activeFiltersCount = computed(() => {\n  switch (props.context) {\n    case 'voyage':\n      return filtersStore.activeVoyageFiltersCount;\n    case 'schedule':\n      return filtersStore.activeScheduleFiltersCount;\n    case 'report':\n      return filtersStore.activeReportFiltersCount;\n    case 'calendar':\n      return filtersStore.activeCalendarFiltersCount;\n  }\n});\n\n// Local filters for two-way binding\nconst localFilters = ref<FilterState>({ ...contextFilters.value });\n\n// Watch context filters from store\nwatch(contextFilters, (newFilters) => {\n  localFilters.value = { ...newFilters };\n}, { deep: true });\n\nconst moduleOptions = computed(() => [\n  { value: 'all', label: 'All Modules' },\n  { value: 'olya', label: 'Olya' },\n  { value: 'deep-sea', label: 'Deep Sea' },\n  { value: 'balakovo', label: 'Balakovo' },\n]);\n\nconst presetOptions = computed(() =>\n  filtersStore.presets.map(p => ({ value: p.name, label: p.name }))\n);\n\nfunction emitFilters() {\n  // Update store based on context\n  switch (props.context) {\n    case 'voyage':\n      filtersStore.updateVoyageFilters(localFilters.value);\n      break;\n    case 'schedule':\n      filtersStore.updateScheduleFilters(localFilters.value);\n      break;\n    case 'report':\n      filtersStore.updateReportFilters(localFilters.value);\n      break;\n    case 'calendar':\n      filtersStore.updateCalendarFilters(localFilters.value);\n      break;\n  }\n  \n  emit('filtersChanged', localFilters.value);\n}\n\nfunction resetFilters() {\n  switch (props.context) {\n    case 'voyage':\n      filtersStore.resetVoyageFilters();\n      break;\n    case 'schedule':\n      filtersStore.resetScheduleFilters();\n      break;\n    case 'report':\n      filtersStore.resetReportFilters();\n      break;\n    case 'calendar':\n      filtersStore.resetCalendarFilters();\n      break;\n  }\n  selectedPreset.value = '';\n}\n\nfunction applyPreset(presetName: string) {\n  if (!presetName) return;\n  filtersStore.applyPreset(presetName, props.context);\n}\n</script>\n\n<style scoped>\n.global-filters-bar {\n  background: var(--color-background-soft);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.filters-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 1rem;\n}\n\n.filter-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.filter-search {\n  grid-column: span 2;\n}\n\n.filter-label {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n\n.filters-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n}\n\n.filter-presets {\n  min-width: 200px;\n}\n\n.filter-buttons {\n  display: flex;\n  gap: 0.5rem;\n}\n\n@media (max-width: 768px) {\n  .filters-container {\n    grid-template-columns: 1fr;\n  }\n  \n  .filter-search {\n    grid-column: span 1;\n  }\n  \n  .filters-actions {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: stretch;\n  }\n  \n  .filter-presets {\n    min-width: auto;\n  }\n}\n</style>\n","<template>\n  <div class=\"calendar-month-view\">\n    <!-- Month Grid -->\n    <div class=\"calendar-grid\">\n      <!-- Day Headers -->\n      <div\n        v-for=\"day in weekDays\"\n        :key=\"day\"\n        class=\"calendar-header-cell\"\n      >\n        {{ day }}\n      </div>\n\n      <!-- Calendar Days -->\n      <div\n        v-for=\"(day, index) in calendarDays\"\n        :key=\"index\"\n        :class=\"[\n          'calendar-day',\n          {\n            'other-month': !day.isCurrentMonth,\n            'today': day.isToday,\n            'has-events': day.events.length > 0\n          }\n        ]\"\n      >\n        <div class=\"day-header\">\n          <span class=\"day-number\">{{ day.date.getDate() }}</span>\n          <span v-if=\"day.events.length > 0\" class=\"event-count\">\n            {{ day.events.length }}\n          </span>\n        </div>\n\n        <div class=\"day-events\">\n          <div\n            v-for=\"event in day.events.slice(0, 3)\"\n            :key=\"event.id\"\n            :class=\"['event-item', `module-${event.module}`, `status-${event.status}`]\"\n            @click=\"$emit('event-click', event)\"\n          >\n            <div class=\"event-dot\"></div>\n            <div class=\"event-title\">{{ event.vessel }}</div>\n            <div class=\"event-time\">{{ formatTime(event.start) }}</div>\n          </div>\n\n          <button\n            v-if=\"day.events.length > 3\"\n            class=\"more-events\"\n            @click=\"showMoreEvents(day)\"\n          >\n            +{{ day.events.length - 3 }} more\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport type { CalendarEvent } from '@/types/calendar.types';\n\ninterface Props {\n  events: CalendarEvent[];\n  currentDate: Date;\n}\n\ninterface CalendarDay {\n  date: Date;\n  isCurrentMonth: boolean;\n  isToday: boolean;\n  events: CalendarEvent[];\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  'event-click': [event: CalendarEvent];\n}>();\n\nconst weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nconst calendarDays = computed<CalendarDay[]>(() => {\n  const year = props.currentDate.getFullYear();\n  const month = props.currentDate.getMonth();\n  \n  // First day of the month\n  const firstDay = new Date(year, month, 1);\n  const firstDayOfWeek = firstDay.getDay();\n  \n  // Last day of the month\n  const lastDay = new Date(year, month + 1, 0);\n  const lastDate = lastDay.getDate();\n  \n  // Days from previous month\n  const prevMonthDays = firstDayOfWeek;\n  const prevMonthLastDay = new Date(year, month, 0).getDate();\n  \n  // Days needed for next month to complete the grid\n  const totalCells = 42; // 6 weeks Ã— 7 days\n  const nextMonthDays = totalCells - (prevMonthDays + lastDate);\n  \n  const days: CalendarDay[] = [];\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  \n  // Previous month days\n  for (let i = prevMonthDays - 1; i >= 0; i--) {\n    const date = new Date(year, month - 1, prevMonthLastDay - i);\n    days.push(createCalendarDay(date, false, today));\n  }\n  \n  // Current month days\n  for (let date = 1; date <= lastDate; date++) {\n    const dayDate = new Date(year, month, date);\n    days.push(createCalendarDay(dayDate, true, today));\n  }\n  \n  // Next month days\n  for (let date = 1; date <= nextMonthDays; date++) {\n    const dayDate = new Date(year, month + 1, date);\n    days.push(createCalendarDay(dayDate, false, today));\n  }\n  \n  return days;\n});\n\nfunction createCalendarDay(date: Date, isCurrentMonth: boolean, today: Date): CalendarDay {\n  const dayStart = new Date(date);\n  dayStart.setHours(0, 0, 0, 0);\n  \n  const dayEnd = new Date(date);\n  dayEnd.setHours(23, 59, 59, 999);\n  \n  const dayEvents = props.events.filter(event => {\n    const eventStart = new Date(event.start);\n    const eventEnd = new Date(event.end);\n    \n    // Event overlaps with this day\n    return eventStart <= dayEnd && eventEnd >= dayStart;\n  });\n  \n  return {\n    date,\n    isCurrentMonth,\n    isToday: dayStart.getTime() === today.getTime(),\n    events: dayEvents\n  };\n}\n\nfunction formatTime(date: Date): string {\n  return new Date(date).toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: true\n  });\n}\n\nfunction showMoreEvents(day: CalendarDay) {\n  // Could open a modal or expand the day\n  console.log('Show more events for', day.date, day.events);\n}\n</script>\n\n<style scoped>\n.calendar-month-view {\n  width: 100%;\n}\n\n.calendar-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 1px;\n  background: var(--color-border);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.calendar-header-cell {\n  padding: 0.75rem;\n  text-align: center;\n  font-weight: 600;\n  font-size: 0.875rem;\n  background: var(--color-background-soft);\n  color: var(--color-text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.calendar-day {\n  min-height: 120px;\n  background: var(--color-background);\n  padding: 0.5rem;\n  transition: all 0.2s;\n  display: flex;\n  flex-direction: column;\n}\n\n.calendar-day:hover {\n  background: var(--color-background-soft);\n}\n\n.calendar-day.other-month {\n  background: var(--color-background-mute);\n  opacity: 0.6;\n}\n\n.calendar-day.today {\n  background: #fff8e1;\n  outline: 2px solid var(--color-primary);\n}\n\n.calendar-day.has-events {\n  cursor: pointer;\n}\n\n.day-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n\n.day-number {\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: var(--color-text);\n}\n\n.today .day-number {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  background: var(--color-primary);\n  color: white;\n  border-radius: 50%;\n  font-size: 0.75rem;\n}\n\n.event-count {\n  font-size: 0.75rem;\n  padding: 0.125rem 0.375rem;\n  background: var(--color-primary);\n  color: white;\n  border-radius: 10px;\n  font-weight: 600;\n}\n\n.day-events {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  flex: 1;\n}\n\n.event-item {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.25rem 0.375rem;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  overflow: hidden;\n}\n\n.event-item:hover {\n  transform: translateX(2px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.event-dot {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n.event-title {\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: 500;\n}\n\n.event-time {\n  font-size: 0.625rem;\n  opacity: 0.8;\n}\n\n/* Module colors */\n.module-deepsea {\n  background: #e3f2fd;\n  color: #1976d2;\n}\n\n.module-deepsea .event-dot {\n  background: #1976d2;\n}\n\n.module-olya {\n  background: #f3e5f5;\n  color: #7b1fa2;\n}\n\n.module-olya .event-dot {\n  background: #7b1fa2;\n}\n\n.module-balakovo {\n  background: #e8f5e9;\n  color: #388e3c;\n}\n\n.module-balakovo .event-dot {\n  background: #388e3c;\n}\n\n/* Status overlays */\n.status-completed {\n  opacity: 0.7;\n}\n\n.status-cancelled {\n  opacity: 0.5;\n  text-decoration: line-through;\n}\n\n.status-in-progress {\n  font-weight: 600;\n}\n\n.more-events {\n  padding: 0.25rem;\n  font-size: 0.625rem;\n  color: var(--color-primary);\n  background: transparent;\n  border: 1px dashed var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-top: auto;\n}\n\n.more-events:hover {\n  background: var(--color-background-soft);\n  border-color: var(--color-primary);\n}\n\n@media (max-width: 768px) {\n  .calendar-day {\n    min-height: 80px;\n    padding: 0.25rem;\n  }\n\n  .calendar-header-cell {\n    padding: 0.5rem;\n    font-size: 0.75rem;\n  }\n\n  .day-number {\n    font-size: 0.75rem;\n  }\n\n  .event-item {\n    font-size: 0.625rem;\n    padding: 0.125rem 0.25rem;\n  }\n\n  .event-time {\n    display: none;\n  }\n}\n</style>\n","<template>\n  <div class=\"calendar-week-view\">\n    <!-- Time Labels Column -->\n    <div class=\"week-grid\">\n      <!-- Header Row -->\n      <div class=\"time-label-header\"></div>\n      <div\n        v-for=\"day in weekDays\"\n        :key=\"day.date.toISOString()\"\n        :class=\"['day-header', { today: day.isToday }]\"\n      >\n        <div class=\"day-name\">{{ day.dayName }}</div>\n        <div class=\"day-number\">{{ day.date.getDate() }}</div>\n        <div v-if=\"day.eventCount > 0\" class=\"day-event-count\">\n          {{ day.eventCount }} events\n        </div>\n      </div>\n\n      <!-- Time Slots -->\n      <template v-for=\"hour in hours\" :key=\"hour\">\n        <div class=\"time-label\">{{ formatHour(hour) }}</div>\n        <div\n          v-for=\"day in weekDays\"\n          :key=\"`${day.date.toISOString()}-${hour}`\"\n          :class=\"['time-slot', { 'current-hour': isCurrentHour(day.date, hour) }]\"\n        >\n          <!-- Events in this time slot -->\n          <div\n            v-for=\"event in getEventsForSlot(day.date, hour)\"\n            :key=\"event.id\"\n            :class=\"[\n              'event-block',\n              `module-${event.module}`,\n              `status-${event.status}`\n            ]\"\n            :style=\"getEventStyle(event, day.date, hour)\"\n            @click=\"$emit('event-click', event)\"\n          >\n            <div class=\"event-content\">\n              <div class=\"event-vessel\">{{ event.vessel }}</div>\n              <div class=\"event-route\">{{ event.route }}</div>\n              <div class=\"event-time-range\">\n                {{ formatEventTime(event.start) }} - {{ formatEventTime(event.end) }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport type { CalendarEvent } from '@/types/calendar.types';\n\ninterface Props {\n  events: CalendarEvent[];\n  currentDate: Date;\n}\n\ninterface WeekDay {\n  date: Date;\n  dayName: string;\n  isToday: boolean;\n  eventCount: number;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  'event-click': [event: CalendarEvent];\n}>();\n\nconst hours = Array.from({ length: 24 }, (_, i) => i);\n\nconst weekDays = computed<WeekDay[]>(() => {\n  const days: WeekDay[] = [];\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  \n  // Get the start of the week (Sunday)\n  const current = new Date(props.currentDate);\n  const dayOfWeek = current.getDay();\n  const startOfWeek = new Date(current);\n  startOfWeek.setDate(current.getDate() - dayOfWeek);\n  startOfWeek.setHours(0, 0, 0, 0);\n  \n  // Generate 7 days\n  for (let i = 0; i < 7; i++) {\n    const dayDate = new Date(startOfWeek);\n    dayDate.setDate(startOfWeek.getDate() + i);\n    \n    const dayStart = new Date(dayDate);\n    dayStart.setHours(0, 0, 0, 0);\n    \n    const dayEnd = new Date(dayDate);\n    dayEnd.setHours(23, 59, 59, 999);\n    \n    const eventCount = props.events.filter(event => {\n      const eventStart = new Date(event.start);\n      const eventEnd = new Date(event.end);\n      return eventStart <= dayEnd && eventEnd >= dayStart;\n    }).length;\n    \n    days.push({\n      date: dayDate,\n      dayName: dayDate.toLocaleDateString('en-US', { weekday: 'short' }),\n      isToday: dayStart.getTime() === today.getTime(),\n      eventCount\n    });\n  }\n  \n  return days;\n});\n\nfunction formatHour(hour: number): string {\n  const period = hour >= 12 ? 'PM' : 'AM';\n  const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\n  return `${displayHour}:00 ${period}`;\n}\n\nfunction formatEventTime(date: Date): string {\n  return new Date(date).toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: true\n  });\n}\n\nfunction isCurrentHour(date: Date, hour: number): boolean {\n  const now = new Date();\n  return (\n    date.getDate() === now.getDate() &&\n    date.getMonth() === now.getMonth() &&\n    date.getFullYear() === now.getFullYear() &&\n    hour === now.getHours()\n  );\n}\n\nfunction getEventsForSlot(date: Date, hour: number): CalendarEvent[] {\n  const slotStart = new Date(date);\n  slotStart.setHours(hour, 0, 0, 0);\n  \n  const slotEnd = new Date(date);\n  slotEnd.setHours(hour, 59, 59, 999);\n  \n  return props.events.filter(event => {\n    const eventStart = new Date(event.start);\n    const eventEnd = new Date(event.end);\n    \n    // Check if event overlaps with this hour slot\n    return eventStart <= slotEnd && eventEnd >= slotStart;\n  });\n}\n\nfunction getEventStyle(event: CalendarEvent, date: Date, hour: number) {\n  const slotStart = new Date(date);\n  slotStart.setHours(hour, 0, 0, 0);\n  \n  const slotEnd = new Date(date);\n  slotEnd.setHours(hour + 1, 0, 0, 0);\n  \n  const eventStart = new Date(event.start);\n  const eventEnd = new Date(event.end);\n  \n  // Calculate position and height\n  const slotDuration = 60; // minutes\n  const eventStartInSlot = Math.max(\n    0,\n    (eventStart.getTime() - slotStart.getTime()) / (1000 * 60)\n  );\n  const eventEndInSlot = Math.min(\n    slotDuration,\n    (eventEnd.getTime() - slotStart.getTime()) / (1000 * 60)\n  );\n  \n  const top = (eventStartInSlot / slotDuration) * 100;\n  const height = ((eventEndInSlot - eventStartInSlot) / slotDuration) * 100;\n  \n  return {\n    top: `${top}%`,\n    height: `${Math.max(height, 20)}%` // Minimum 20% height for visibility\n  };\n}\n</script>\n\n<style scoped>\n.calendar-week-view {\n  width: 100%;\n  overflow-x: auto;\n}\n\n.week-grid {\n  display: grid;\n  grid-template-columns: 80px repeat(7, 1fr);\n  min-width: 900px;\n}\n\n.time-label-header {\n  grid-column: 1;\n  border-bottom: 2px solid var(--color-border);\n}\n\n.day-header {\n  padding: 1rem;\n  text-align: center;\n  border-bottom: 2px solid var(--color-border);\n  background: var(--color-background-soft);\n}\n\n.day-header.today {\n  background: #fff8e1;\n  border-bottom-color: var(--color-primary);\n}\n\n.day-name {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.day-number {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n  margin-top: 0.25rem;\n}\n\n.day-header.today .day-number {\n  color: var(--color-primary);\n}\n\n.day-event-count {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  margin-top: 0.25rem;\n}\n\n.time-label {\n  grid-column: 1;\n  padding: 0.5rem;\n  text-align: right;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  border-right: 1px solid var(--color-border);\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-background-soft);\n}\n\n.time-slot {\n  position: relative;\n  min-height: 60px;\n  border-right: 1px solid var(--color-border);\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-background);\n  transition: background 0.2s;\n}\n\n.time-slot:hover {\n  background: var(--color-background-soft);\n}\n\n.time-slot.current-hour {\n  background: #fff8e1;\n}\n\n.event-block {\n  position: absolute;\n  left: 2px;\n  right: 2px;\n  border-radius: 4px;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.2s;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.event-block:hover {\n  transform: scale(1.02);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 10;\n}\n\n.event-content {\n  font-size: 0.75rem;\n  line-height: 1.3;\n}\n\n.event-vessel {\n  font-weight: 600;\n  margin-bottom: 0.125rem;\n}\n\n.event-route {\n  font-size: 0.625rem;\n  opacity: 0.9;\n  margin-bottom: 0.125rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.event-time-range {\n  font-size: 0.625rem;\n  opacity: 0.8;\n  font-weight: 500;\n}\n\n/* Module colors */\n.module-deepsea {\n  background: #e3f2fd;\n  color: #1976d2;\n  border-left: 4px solid #1976d2;\n}\n\n.module-olya {\n  background: #f3e5f5;\n  color: #7b1fa2;\n  border-left: 4px solid #7b1fa2;\n}\n\n.module-balakovo {\n  background: #e8f5e9;\n  color: #388e3c;\n  border-left: 4px solid #388e3c;\n}\n\n/* Status styles */\n.status-completed {\n  opacity: 0.7;\n}\n\n.status-cancelled {\n  opacity: 0.5;\n  text-decoration: line-through;\n}\n\n.status-in-progress {\n  font-weight: 600;\n  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);\n}\n\n@media (max-width: 768px) {\n  .week-grid {\n    grid-template-columns: 60px repeat(7, 1fr);\n    min-width: 700px;\n  }\n\n  .time-label {\n    font-size: 0.625rem;\n    padding: 0.25rem;\n  }\n\n  .day-header {\n    padding: 0.5rem;\n  }\n\n  .day-number {\n    font-size: 1.125rem;\n  }\n\n  .time-slot {\n    min-height: 50px;\n  }\n\n  .event-content {\n    font-size: 0.625rem;\n  }\n\n  .event-route,\n  .event-time-range {\n    display: none;\n  }\n}\n</style>\n","<template>\n  <div class=\"calendar-year-view\">\n    <div class=\"year-grid\">\n      <div\n        v-for=\"(month, index) in months\"\n        :key=\"index\"\n        class=\"mini-month\"\n      >\n        <!-- Month Header -->\n        <div class=\"mini-month-header\">\n          <h3 class=\"month-name\">{{ month.name }}</h3>\n          <span class=\"event-count-badge\">{{ month.eventCount }}</span>\n        </div>\n\n        <!-- Mini Calendar Grid -->\n        <div class=\"mini-calendar-grid\">\n          <!-- Day headers -->\n          <div\n            v-for=\"day in weekDaysShort\"\n            :key=\"day\"\n            class=\"mini-day-header\"\n          >\n            {{ day }}\n          </div>\n\n          <!-- Calendar days -->\n          <div\n            v-for=\"(day, dayIndex) in month.days\"\n            :key=\"dayIndex\"\n            :class=\"[\n              'mini-day',\n              {\n                'other-month': !day.isCurrentMonth,\n                'today': day.isToday,\n                'has-events': day.eventCount > 0,\n                'clickable': day.eventCount > 0\n              }\n            ]\"\n            @click=\"day.eventCount > 0 && handleDayClick(month.monthIndex, day.date)\"\n          >\n            <span class=\"mini-day-number\">{{ day.number }}</span>\n            <span v-if=\"day.eventCount > 0\" class=\"mini-event-indicator\">\n              {{ day.eventCount }}\n            </span>\n          </div>\n        </div>\n\n        <!-- Month Summary -->\n        <div v-if=\"month.eventCount > 0\" class=\"month-summary\">\n          <div class=\"summary-item\">\n            <span class=\"summary-icon\">ðŸš¢</span>\n            <span class=\"summary-text\">{{ month.vesselCount }} vessels</span>\n          </div>\n          <div class=\"summary-item\">\n            <span class=\"summary-icon\">ðŸ“¦</span>\n            <span class=\"summary-text\">{{ formatNumber(month.totalCargo) }} MT</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport type { CalendarEvent } from '@/types/calendar.types';\n\ninterface Props {\n  events: CalendarEvent[];\n  currentDate: Date;\n}\n\ninterface MiniDay {\n  number: number;\n  date: Date;\n  isCurrentMonth: boolean;\n  isToday: boolean;\n  eventCount: number;\n}\n\ninterface MonthData {\n  monthIndex: number;\n  name: string;\n  days: MiniDay[];\n  eventCount: number;\n  vesselCount: number;\n  totalCargo: number;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  'event-click': [event: CalendarEvent];\n  'month-click': [monthIndex: number];\n}>();\n\nconst weekDaysShort = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\n\nconst months = computed<MonthData[]>(() => {\n  const year = props.currentDate.getFullYear();\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  \n  return Array.from({ length: 12 }, (_, monthIndex) => {\n    const monthStart = new Date(year, monthIndex, 1);\n    const monthEnd = new Date(year, monthIndex + 1, 0);\n    const daysInMonth = monthEnd.getDate();\n    const firstDayOfWeek = monthStart.getDay();\n    \n    // Calculate previous month's days to show\n    const prevMonthEnd = new Date(year, monthIndex, 0);\n    const prevMonthDays = prevMonthEnd.getDate();\n    const daysToShowFromPrevMonth = firstDayOfWeek;\n    \n    // Calculate next month's days to show\n    const totalCells = 42; // 6 weeks\n    const daysToShowFromNextMonth = totalCells - (daysToShowFromPrevMonth + daysInMonth);\n    \n    const days: MiniDay[] = [];\n    \n    // Previous month days\n    for (let i = daysToShowFromPrevMonth - 1; i >= 0; i--) {\n      const date = new Date(year, monthIndex - 1, prevMonthDays - i);\n      days.push(createMiniDay(date, false, today));\n    }\n    \n    // Current month days\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = new Date(year, monthIndex, day);\n      days.push(createMiniDay(date, true, today));\n    }\n    \n    // Next month days\n    for (let day = 1; day <= daysToShowFromNextMonth; day++) {\n      const date = new Date(year, monthIndex + 1, day);\n      days.push(createMiniDay(date, false, today));\n    }\n    \n    // Get month events\n    const monthEvents = props.events.filter(event => {\n      const eventDate = new Date(event.start);\n      return eventDate.getFullYear() === year && eventDate.getMonth() === monthIndex;\n    });\n    \n    // Calculate month statistics\n    const vesselCount = new Set(monthEvents.map(e => e.vessel)).size;\n    const totalCargo = monthEvents.reduce((sum, e) => sum + (e.cargo || 0), 0);\n    \n    return {\n      monthIndex,\n      name: monthStart.toLocaleDateString('en-US', { month: 'long' }),\n      days,\n      eventCount: monthEvents.length,\n      vesselCount,\n      totalCargo\n    };\n  });\n});\n\nfunction createMiniDay(date: Date, isCurrentMonth: boolean, today: Date): MiniDay {\n  const dayStart = new Date(date);\n  dayStart.setHours(0, 0, 0, 0);\n  \n  const dayEnd = new Date(date);\n  dayEnd.setHours(23, 59, 59, 999);\n  \n  const eventCount = props.events.filter(event => {\n    const eventStart = new Date(event.start);\n    const eventEnd = new Date(event.end);\n    return eventStart <= dayEnd && eventEnd >= dayStart;\n  }).length;\n  \n  return {\n    number: date.getDate(),\n    date,\n    isCurrentMonth,\n    isToday: dayStart.getTime() === today.getTime(),\n    eventCount\n  };\n}\n\nfunction handleDayClick(monthIndex: number, date: Date) {\n  emit('month-click', monthIndex);\n}\n\nfunction formatNumber(value: number): string {\n  return new Intl.NumberFormat('en-US', {\n    maximumFractionDigits: 0\n  }).format(value);\n}\n</script>\n\n<style scoped>\n.calendar-year-view {\n  width: 100%;\n}\n\n.year-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 1.5rem;\n}\n\n.mini-month {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n  transition: all 0.2s;\n}\n\n.mini-month:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.mini-month-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 2px solid var(--color-border);\n}\n\n.month-name {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--color-heading);\n}\n\n.event-count-badge {\n  padding: 0.25rem 0.625rem;\n  background: var(--color-primary);\n  color: white;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n\n.mini-calendar-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 2px;\n  margin-bottom: 0.75rem;\n}\n\n.mini-day-header {\n  text-align: center;\n  font-size: 0.625rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  padding: 0.25rem;\n  text-transform: uppercase;\n}\n\n.mini-day {\n  position: relative;\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  border-radius: 4px;\n  transition: all 0.2s;\n  background: var(--color-background-soft);\n}\n\n.mini-day.other-month {\n  opacity: 0.3;\n}\n\n.mini-day.today {\n  background: var(--color-primary);\n  color: white;\n  font-weight: 700;\n}\n\n.mini-day.has-events {\n  background: #e3f2fd;\n  font-weight: 600;\n}\n\n.mini-day.clickable {\n  cursor: pointer;\n}\n\n.mini-day.clickable:hover {\n  transform: scale(1.1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n}\n\n.mini-day-number {\n  position: relative;\n  z-index: 1;\n}\n\n.mini-event-indicator {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  width: 14px;\n  height: 14px;\n  background: var(--color-primary);\n  color: white;\n  border-radius: 50%;\n  font-size: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n}\n\n.mini-day.today .mini-event-indicator {\n  background: white;\n  color: var(--color-primary);\n}\n\n.month-summary {\n  display: flex;\n  gap: 1rem;\n  padding-top: 0.75rem;\n  border-top: 1px solid var(--color-border);\n}\n\n.summary-item {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n.summary-icon {\n  font-size: 1rem;\n}\n\n.summary-text {\n  font-weight: 500;\n}\n\n@media (max-width: 1200px) {\n  .year-grid {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n\n@media (max-width: 768px) {\n  .year-grid {\n    grid-template-columns: repeat(2, 1fr);\n    gap: 1rem;\n  }\n\n  .mini-month {\n    padding: 0.75rem;\n  }\n\n  .month-name {\n    font-size: 1rem;\n  }\n\n  .mini-calendar-grid {\n    gap: 1px;\n  }\n}\n\n@media (max-width: 480px) {\n  .year-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n","<template>\n  <div class=\"calendar-timeline-view\">\n    <!-- Timeline Header -->\n    <div class=\"timeline-header\">\n      <div class=\"vessel-column-header\">Vessel / Route</div>\n      <div class=\"timeline-dates-header\">\n        <div\n          v-for=\"date in dateRange\"\n          :key=\"date.toISOString()\"\n          :class=\"['timeline-date', { today: isToday(date) }]\"\n        >\n          <div class=\"date-day\">{{ date.getDate() }}</div>\n          <div class=\"date-weekday\">{{ getWeekdayShort(date) }}</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Timeline Body -->\n    <div class=\"timeline-body\">\n      <div\n        v-for=\"vessel in vesselsWithEvents\"\n        :key=\"vessel.name\"\n        class=\"timeline-row\"\n      >\n        <!-- Vessel Info -->\n        <div class=\"vessel-column\">\n          <div class=\"vessel-name\">{{ vessel.name }}</div>\n          <div class=\"vessel-stats\">\n            {{ vessel.eventCount }} voyages â€¢ {{ formatNumber(vessel.totalCargo) }} MT\n          </div>\n        </div>\n\n        <!-- Timeline Grid -->\n        <div class=\"timeline-grid\">\n          <!-- Background grid -->\n          <div\n            v-for=\"date in dateRange\"\n            :key=\"date.toISOString()\"\n            :class=\"['timeline-cell', { today: isToday(date) }]\"\n          >\n          </div>\n\n          <!-- Event Bars -->\n          <div\n            v-for=\"event in vessel.events\"\n            :key=\"event.id\"\n            :class=\"[\n              'timeline-event',\n              `module-${event.module}`,\n              `status-${event.status}`\n            ]\"\n            :style=\"getEventStyle(event)\"\n            @click=\"$emit('event-click', event)\"\n          >\n            <div class=\"event-bar-content\">\n              <div class=\"event-bar-title\">{{ event.route }}</div>\n              <div class=\"event-bar-details\">\n                {{ formatEventDate(event.start) }} - {{ formatEventDate(event.end) }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-if=\"vesselsWithEvents.length === 0\" class=\"empty-state\">\n        <p>No events found for the selected period</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport type { CalendarEvent } from '@/types/calendar.types';\n\ninterface Props {\n  events: CalendarEvent[];\n  currentDate: Date;\n}\n\ninterface VesselTimeline {\n  name: string;\n  events: CalendarEvent[];\n  eventCount: number;\n  totalCargo: number;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  'event-click': [event: CalendarEvent];\n}>();\n\n// Generate date range (30 days from current date)\nconst dateRange = computed(() => {\n  const dates: Date[] = [];\n  const startDate = new Date(props.currentDate);\n  startDate.setDate(1); // Start of month\n  \n  // Get number of days in month\n  const year = startDate.getFullYear();\n  const month = startDate.getMonth();\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\n  \n  for (let i = 0; i < daysInMonth; i++) {\n    const date = new Date(year, month, i + 1);\n    dates.push(date);\n  }\n  \n  return dates;\n});\n\nconst timelineStart = computed(() => dateRange.value[0]);\nconst timelineEnd = computed(() => dateRange.value[dateRange.value.length - 1]);\n\n// Group events by vessel\nconst vesselsWithEvents = computed<VesselTimeline[]>(() => {\n  const vesselMap = new Map<string, CalendarEvent[]>();\n  \n  // Filter events within the timeline range\n  const filteredEvents = props.events.filter(event => {\n    const eventStart = new Date(event.start);\n    const eventEnd = new Date(event.end);\n    return eventStart <= timelineEnd.value && eventEnd >= timelineStart.value;\n  });\n  \n  // Group by vessel\n  filteredEvents.forEach(event => {\n    if (!vesselMap.has(event.vessel)) {\n      vesselMap.set(event.vessel, []);\n    }\n    vesselMap.get(event.vessel)!.push(event);\n  });\n  \n  // Convert to array and sort\n  return Array.from(vesselMap.entries())\n    .map(([name, events]) => ({\n      name,\n      events: events.sort((a, b) => \n        new Date(a.start).getTime() - new Date(b.start).getTime()\n      ),\n      eventCount: events.length,\n      totalCargo: events.reduce((sum, e) => sum + (e.cargo || 0), 0)\n    }))\n    .sort((a, b) => a.name.localeCompare(b.name));\n});\n\nfunction isToday(date: Date): boolean {\n  const today = new Date();\n  return (\n    date.getDate() === today.getDate() &&\n    date.getMonth() === today.getMonth() &&\n    date.getFullYear() === today.getFullYear()\n  );\n}\n\nfunction getWeekdayShort(date: Date): string {\n  return date.toLocaleDateString('en-US', { weekday: 'short' });\n}\n\nfunction getEventStyle(event: CalendarEvent) {\n  const eventStart = new Date(event.start);\n  const eventEnd = new Date(event.end);\n  \n  // Clamp to timeline bounds\n  const start = eventStart < timelineStart.value ? timelineStart.value : eventStart;\n  const end = eventEnd > timelineEnd.value ? timelineEnd.value : eventEnd;\n  \n  // Calculate position and width\n  const totalDays = dateRange.value.length;\n  const startDay = Math.floor(\n    (start.getTime() - timelineStart.value.getTime()) / (1000 * 60 * 60 * 24)\n  );\n  const duration = Math.ceil(\n    (end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24)\n  ) + 1;\n  \n  const leftPercent = (startDay / totalDays) * 100;\n  const widthPercent = (duration / totalDays) * 100;\n  \n  return {\n    left: `${leftPercent}%`,\n    width: `${widthPercent}%`\n  };\n}\n\nfunction formatEventDate(date: Date): string {\n  return new Date(date).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric'\n  });\n}\n\nfunction formatNumber(value: number): string {\n  return new Intl.NumberFormat('en-US', {\n    maximumFractionDigits: 0\n  }).format(value);\n}\n</script>\n\n<style scoped>\n.calendar-timeline-view {\n  width: 100%;\n  overflow-x: auto;\n}\n\n.timeline-header {\n  display: flex;\n  background: var(--color-background-soft);\n  border-bottom: 2px solid var(--color-border);\n  position: sticky;\n  top: 0;\n  z-index: 10;\n}\n\n.vessel-column-header {\n  width: 200px;\n  min-width: 200px;\n  padding: 1rem;\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  border-right: 2px solid var(--color-border);\n}\n\n.timeline-dates-header {\n  display: flex;\n  flex: 1;\n  min-width: 0;\n}\n\n.timeline-date {\n  flex: 1;\n  min-width: 40px;\n  padding: 0.5rem;\n  text-align: center;\n  border-right: 1px solid var(--color-border);\n  transition: background 0.2s;\n}\n\n.timeline-date.today {\n  background: #fff8e1;\n}\n\n.date-day {\n  font-weight: 700;\n  font-size: 0.875rem;\n  color: var(--color-text);\n}\n\n.date-weekday {\n  font-size: 0.625rem;\n  color: var(--color-text-secondary);\n  text-transform: uppercase;\n  margin-top: 0.125rem;\n}\n\n.timeline-body {\n  position: relative;\n}\n\n.timeline-row {\n  display: flex;\n  border-bottom: 1px solid var(--color-border);\n  min-height: 80px;\n}\n\n.timeline-row:hover {\n  background: var(--color-background-soft);\n}\n\n.vessel-column {\n  width: 200px;\n  min-width: 200px;\n  padding: 1rem;\n  border-right: 2px solid var(--color-border);\n}\n\n.vessel-name {\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: var(--color-heading);\n  margin-bottom: 0.25rem;\n}\n\n.vessel-stats {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n.timeline-grid {\n  position: relative;\n  display: flex;\n  flex: 1;\n  min-width: 0;\n}\n\n.timeline-cell {\n  flex: 1;\n  min-width: 40px;\n  border-right: 1px solid var(--color-border);\n}\n\n.timeline-cell.today {\n  background: #fff8e1;\n}\n\n.timeline-event {\n  position: absolute;\n  top: 10px;\n  height: calc(100% - 20px);\n  border-radius: 6px;\n  padding: 0.5rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  overflow: hidden;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.timeline-event:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  z-index: 5;\n}\n\n.event-bar-content {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.event-bar-title {\n  font-weight: 600;\n  font-size: 0.75rem;\n  margin-bottom: 0.25rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.event-bar-details {\n  font-size: 0.625rem;\n  opacity: 0.9;\n}\n\n/* Module colors */\n.module-deepsea {\n  background: linear-gradient(135deg, #e3f2fd 0%, #90caf9 100%);\n  color: #1976d2;\n  border-left: 4px solid #1976d2;\n}\n\n.module-olya {\n  background: linear-gradient(135deg, #f3e5f5 0%, #ce93d8 100%);\n  color: #7b1fa2;\n  border-left: 4px solid #7b1fa2;\n}\n\n.module-balakovo {\n  background: linear-gradient(135deg, #e8f5e9 0%, #a5d6a7 100%);\n  color: #388e3c;\n  border-left: 4px solid #388e3c;\n}\n\n/* Status styles */\n.status-planned {\n  opacity: 0.85;\n}\n\n.status-in-progress {\n  font-weight: 700;\n  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.15);\n}\n\n.status-completed {\n  opacity: 0.6;\n}\n\n.status-cancelled {\n  opacity: 0.4;\n  text-decoration: line-through;\n}\n\n.empty-state {\n  padding: 3rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-size: 1rem;\n}\n\n@media (max-width: 768px) {\n  .vessel-column-header,\n  .vessel-column {\n    width: 150px;\n    min-width: 150px;\n    padding: 0.75rem;\n  }\n\n  .vessel-name {\n    font-size: 0.75rem;\n  }\n\n  .vessel-stats {\n    font-size: 0.625rem;\n  }\n\n  .timeline-date {\n    min-width: 30px;\n    padding: 0.375rem;\n  }\n\n  .timeline-cell {\n    min-width: 30px;\n  }\n\n  .event-bar-details {\n    display: none;\n  }\n}\n</style>\n","<template>\n  <span\n    class=\"status-badge\"\n    :class=\"[\n      `status-${status}`,\n      `variant-${variant}`,\n      { 'with-icon': showIcon }\n    ]\"\n  >\n    <span v-if=\"showIcon\" class=\"status-icon\">{{ icon }}</span>\n    <span class=\"status-text\">{{ label || status }}</span>\n  </span>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\n\ninterface Props {\n  status: string;\n  label?: string;\n  variant?: 'default' | 'outlined' | 'minimal';\n  showIcon?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  variant: 'default',\n  showIcon: false,\n});\n\nconst statusConfig: Record<string, { icon: string; color: string }> = {\n  // Voyage statuses\n  draft: { icon: 'ðŸ“', color: 'gray' },\n  planned: { icon: 'ðŸ“‹', color: 'blue' },\n  'in-progress': { icon: 'ðŸš¢', color: 'blue' },\n  active: { icon: 'âœ…', color: 'green' },\n  completed: { icon: 'âœ”ï¸', color: 'green' },\n  cancelled: { icon: 'âŒ', color: 'red' },\n  delayed: { icon: 'â°', color: 'yellow' },\n  \n  // Report statuses\n  pending: { icon: 'â³', color: 'gray' },\n  generating: { icon: 'âš™ï¸', color: 'blue' },\n  failed: { icon: 'âŒ', color: 'red' },\n  \n  // Schedule statuses\n  finalized: { icon: 'ðŸ”’', color: 'green' },\n  archived: { icon: 'ðŸ“¦', color: 'gray' },\n  \n  // Conflict severity\n  low: { icon: 'â„¹ï¸', color: 'blue' },\n  medium: { icon: 'âš ï¸', color: 'yellow' },\n  high: { icon: 'ðŸ”´', color: 'orange' },\n  critical: { icon: 'ðŸ”¥', color: 'red' },\n  \n  // Generic statuses\n  success: { icon: 'âœ…', color: 'green' },\n  warning: { icon: 'âš ï¸', color: 'yellow' },\n  error: { icon: 'âŒ', color: 'red' },\n  info: { icon: 'â„¹ï¸', color: 'blue' },\n};\n\nconst config = computed(() => \n  statusConfig[props.status.toLowerCase()] || { icon: 'â€¢', color: 'gray' }\n);\n\nconst icon = computed(() => config.value.icon);\n</script>\n\n<style scoped>\n.status-badge {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  white-space: nowrap;\n  transition: all 0.2s;\n}\n\n/* Status colors - Default variant */\n.variant-default.status-draft,\n.variant-default.status-pending,\n.variant-default.status-archived,\n.variant-default.status-gray {\n  background: #e0e0e0;\n  color: #616161;\n}\n\n.variant-default.status-planned,\n.variant-default.status-in-progress,\n.variant-default.status-generating,\n.variant-default.status-low,\n.variant-default.status-info,\n.variant-default.status-blue {\n  background: #bbdefb;\n  color: #1565c0;\n}\n\n.variant-default.status-active,\n.variant-default.status-completed,\n.variant-default.status-finalized,\n.variant-default.status-success,\n.variant-default.status-green {\n  background: #c8e6c9;\n  color: #2e7d32;\n}\n\n.variant-default.status-delayed,\n.variant-default.status-medium,\n.variant-default.status-warning,\n.variant-default.status-yellow {\n  background: #fff9c4;\n  color: #f57f17;\n}\n\n.variant-default.status-high,\n.variant-default.status-orange {\n  background: #ffe0b2;\n  color: #e65100;\n}\n\n.variant-default.status-cancelled,\n.variant-default.status-failed,\n.variant-default.status-critical,\n.variant-default.status-error,\n.variant-default.status-red {\n  background: #ffcdd2;\n  color: #c62828;\n}\n\n/* Outlined variant */\n.variant-outlined {\n  background: transparent;\n  border: 1.5px solid currentColor;\n}\n\n.variant-outlined.status-draft,\n.variant-outlined.status-pending,\n.variant-outlined.status-archived,\n.variant-outlined.status-gray {\n  color: #616161;\n}\n\n.variant-outlined.status-planned,\n.variant-outlined.status-in-progress,\n.variant-outlined.status-generating,\n.variant-outlined.status-low,\n.variant-outlined.status-info,\n.variant-outlined.status-blue {\n  color: #1565c0;\n}\n\n.variant-outlined.status-active,\n.variant-outlined.status-completed,\n.variant-outlined.status-finalized,\n.variant-outlined.status-success,\n.variant-outlined.status-green {\n  color: #2e7d32;\n}\n\n.variant-outlined.status-delayed,\n.variant-outlined.status-medium,\n.variant-outlined.status-warning,\n.variant-outlined.status-yellow {\n  color: #f57f17;\n}\n\n.variant-outlined.status-high,\n.variant-outlined.status-orange {\n  color: #e65100;\n}\n\n.variant-outlined.status-cancelled,\n.variant-outlined.status-failed,\n.variant-outlined.status-critical,\n.variant-outlined.status-error,\n.variant-outlined.status-red {\n  color: #c62828;\n}\n\n/* Minimal variant */\n.variant-minimal {\n  background: transparent;\n  padding: 0;\n}\n\n.variant-minimal.status-draft,\n.variant-minimal.status-pending,\n.variant-minimal.status-archived,\n.variant-minimal.status-gray {\n  color: #616161;\n}\n\n.variant-minimal.status-planned,\n.variant-minimal.status-in-progress,\n.variant-minimal.status-generating,\n.variant-minimal.status-low,\n.variant-minimal.status-info,\n.variant-minimal.status-blue {\n  color: #1565c0;\n}\n\n.variant-minimal.status-active,\n.variant-minimal.status-completed,\n.variant-minimal.status-finalized,\n.variant-minimal.status-success,\n.variant-minimal.status-green {\n  color: #2e7d32;\n}\n\n.variant-minimal.status-delayed,\n.variant-minimal.status-medium,\n.variant-minimal.status-warning,\n.variant-minimal.status-yellow {\n  color: #f57f17;\n}\n\n.variant-minimal.status-high,\n.variant-minimal.status-orange {\n  color: #e65100;\n}\n\n.variant-minimal.status-cancelled,\n.variant-minimal.status-failed,\n.variant-minimal.status-critical,\n.variant-minimal.status-error,\n.variant-minimal.status-red {\n  color: #c62828;\n}\n\n.status-icon {\n  display: inline-flex;\n  font-size: 0.875rem;\n}\n\n.status-text {\n  line-height: 1;\n}\n</style>\n","<template>\n  <BaseModal\n    :show=\"true\"\n    title=\"Voyage Details\"\n    size=\"large\"\n    @close=\"$emit('close')\"\n  >\n    <div class=\"event-modal-content\">\n      <!-- Header Section -->\n      <div class=\"event-header\">\n        <div class=\"event-title-section\">\n          <h2 class=\"event-title\">{{ event.title }}</h2>\n          <StatusBadge :status=\"event.status\" />\n        </div>\n        <div class=\"event-module-badge\" :class=\"`module-${event.module}`\">\n          {{ moduleLabel }}\n        </div>\n      </div>\n\n      <!-- Key Information Grid -->\n      <div class=\"info-grid\">\n        <div class=\"info-item\">\n          <div class=\"info-label\">ðŸš¢ Vessel</div>\n          <div class=\"info-value\">{{ event.vessel }}</div>\n        </div>\n\n        <div class=\"info-item\">\n          <div class=\"info-label\">ðŸ—ºï¸ Route</div>\n          <div class=\"info-value\">{{ event.route || 'N/A' }}</div>\n        </div>\n\n        <div class=\"info-item\">\n          <div class=\"info-label\">ðŸ“… Start Date</div>\n          <div class=\"info-value\">{{ formatDateTime(event.start) }}</div>\n        </div>\n\n        <div class=\"info-item\">\n          <div class=\"info-label\">ðŸ“… End Date</div>\n          <div class=\"info-value\">{{ formatDateTime(event.end) }}</div>\n        </div>\n\n        <div class=\"info-item\">\n          <div class=\"info-label\">â±ï¸ Duration</div>\n          <div class=\"info-value\">{{ calculateDuration() }} days</div>\n        </div>\n\n        <div class=\"info-item\">\n          <div class=\"info-label\">ðŸ“¦ Cargo</div>\n          <div class=\"info-value\">{{ formatNumber(event.cargo || 0) }} MT</div>\n        </div>\n\n        <div class=\"info-item\">\n          <div class=\"info-label\">ðŸ’° Cost</div>\n          <div class=\"info-value\">${{ formatNumber(event.cost || 0) }}</div>\n        </div>\n\n        <div class=\"info-item\">\n          <div class=\"info-label\">ðŸ“Š Module</div>\n          <div class=\"info-value\">{{ moduleLabel }}</div>\n        </div>\n      </div>\n\n      <!-- Additional Details -->\n      <div v-if=\"hasAdditionalDetails\" class=\"additional-details\">\n        <h3 class=\"section-title\">Additional Details</h3>\n        <div class=\"details-grid\">\n          <div\n            v-for=\"(value, key) in filteredDetails\"\n            :key=\"key\"\n            class=\"detail-item\"\n          >\n            <span class=\"detail-label\">{{ formatKey(key) }}:</span>\n            <span class=\"detail-value\">{{ formatValue(value) }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Timeline Visualization -->\n      <div class=\"timeline-visualization\">\n        <h3 class=\"section-title\">Timeline</h3>\n        <div class=\"timeline-bar-container\">\n          <div class=\"timeline-bar-wrapper\">\n            <div\n              :class=\"['timeline-bar', `module-${event.module}`, `status-${event.status}`]\"\n            >\n              <span class=\"timeline-start\">{{ formatDate(event.start) }}</span>\n              <span class=\"timeline-duration\">{{ calculateDuration() }} days</span>\n              <span class=\"timeline-end\">{{ formatDate(event.end) }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Actions -->\n      <div class=\"modal-actions\">\n        <BaseButton variant=\"secondary\" @click=\"exportEventDetails\">\n          ðŸ“„ Export Details\n        </BaseButton>\n        <BaseButton variant=\"primary\" @click=\"$emit('close')\">\n          Close\n        </BaseButton>\n      </div>\n    </div>\n  </BaseModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport type { CalendarEvent } from '@/types/calendar.types';\nimport BaseModal from '@/components/shared/BaseModal.vue';\nimport BaseButton from '@/components/shared/BaseButton.vue';\nimport StatusBadge from '@/components/shared/StatusBadge.vue';\n\ninterface Props {\n  event: CalendarEvent;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  close: [];\n}>();\n\nconst moduleLabel = computed(() => {\n  const labels: Record<string, string> = {\n    deepsea: 'Deep Sea',\n    olya: 'Olya',\n    balakovo: 'Balakovo'\n  };\n  return labels[props.event.module] || props.event.module;\n});\n\nconst hasAdditionalDetails = computed(() => {\n  return props.event.details && Object.keys(props.event.details).length > 0;\n});\n\nconst filteredDetails = computed(() => {\n  if (!props.event.details) return {};\n  \n  // Filter out common fields already displayed\n  const excludeKeys = [\n    'id', 'voyage_id', 'vessel_id', 'vessel_name',\n    'start_date', 'end_date', 'laycan_start', 'laycan_end',\n    'qty_mt', 'total_cost_usd', 'cargo_type', 'cargo_name'\n  ];\n  \n  const filtered: Record<string, any> = {};\n  Object.entries(props.event.details).forEach(([key, value]) => {\n    if (!excludeKeys.includes(key) && value != null && value !== '') {\n      filtered[key] = value;\n    }\n  });\n  \n  return filtered;\n});\n\nfunction formatDateTime(date: Date): string {\n  return new Date(date).toLocaleString('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\nfunction formatDate(date: Date): string {\n  return new Date(date).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric'\n  });\n}\n\nfunction formatNumber(value: number): string {\n  return new Intl.NumberFormat('en-US', {\n    maximumFractionDigits: 2\n  }).format(value);\n}\n\nfunction calculateDuration(): number {\n  const start = new Date(props.event.start);\n  const end = new Date(props.event.end);\n  const diffTime = Math.abs(end.getTime() - start.getTime());\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays;\n}\n\nfunction formatKey(key: string): string {\n  // Convert snake_case to Title Case\n  return key\n    .split('_')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n}\n\nfunction formatValue(value: any): string {\n  if (typeof value === 'number') {\n    return formatNumber(value);\n  }\n  if (typeof value === 'boolean') {\n    return value ? 'Yes' : 'No';\n  }\n  if (value instanceof Date) {\n    return formatDateTime(value);\n  }\n  return String(value);\n}\n\nfunction exportEventDetails() {\n  const details = {\n    'Voyage ID': props.event.id,\n    'Title': props.event.title,\n    'Vessel': props.event.vessel,\n    'Module': moduleLabel.value,\n    'Route': props.event.route || 'N/A',\n    'Status': props.event.status,\n    'Start Date': formatDateTime(props.event.start),\n    'End Date': formatDateTime(props.event.end),\n    'Duration': `${calculateDuration()} days`,\n    'Cargo (MT)': props.event.cargo || 0,\n    'Cost (USD)': props.event.cost || 0,\n    ...filteredDetails.value\n  };\n\n  const content = Object.entries(details)\n    .map(([key, value]) => `${key}: ${value}`)\n    .join('\\n');\n\n  const blob = new Blob([content], { type: 'text/plain' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `voyage-${props.event.id}-details.txt`;\n  a.click();\n  URL.revokeObjectURL(url);\n}\n</script>\n\n<style scoped>\n.event-modal-content {\n  padding: 1.5rem;\n}\n\n.event-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 2px solid var(--color-border);\n}\n\n.event-title-section {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  flex: 1;\n}\n\n.event-title {\n  margin: 0;\n  font-size: 1.5rem;\n  color: var(--color-heading);\n}\n\n.event-module-badge {\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.event-module-badge.module-deepsea {\n  background: #e3f2fd;\n  color: #1976d2;\n}\n\n.event-module-badge.module-olya {\n  background: #f3e5f5;\n  color: #7b1fa2;\n}\n\n.event-module-badge.module-balakovo {\n  background: #e8f5e9;\n  color: #388e3c;\n}\n\n.info-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.info-item {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.info-label {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.info-value {\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n.section-title {\n  margin: 0 0 1rem 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--color-heading);\n}\n\n.additional-details {\n  margin-bottom: 2rem;\n  padding: 1.5rem;\n  background: var(--color-background-soft);\n  border-radius: 8px;\n}\n\n.details-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 0.75rem;\n}\n\n.detail-item {\n  display: flex;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  padding: 0.5rem;\n  background: var(--color-background);\n  border-radius: 4px;\n}\n\n.detail-label {\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  min-width: 140px;\n}\n\n.detail-value {\n  color: var(--color-text);\n  flex: 1;\n}\n\n.timeline-visualization {\n  margin-bottom: 2rem;\n}\n\n.timeline-bar-container {\n  padding: 1.5rem;\n  background: var(--color-background-soft);\n  border-radius: 8px;\n}\n\n.timeline-bar-wrapper {\n  position: relative;\n  height: 80px;\n  display: flex;\n  align-items: center;\n}\n\n.timeline-bar {\n  width: 100%;\n  height: 40px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 1rem;\n  font-weight: 600;\n  font-size: 0.875rem;\n  position: relative;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.timeline-bar.module-deepsea {\n  background: linear-gradient(135deg, #e3f2fd 0%, #90caf9 100%);\n  color: #1976d2;\n}\n\n.timeline-bar.module-olya {\n  background: linear-gradient(135deg, #f3e5f5 0%, #ce93d8 100%);\n  color: #7b1fa2;\n}\n\n.timeline-bar.module-balakovo {\n  background: linear-gradient(135deg, #e8f5e9 0%, #a5d6a7 100%);\n  color: #388e3c;\n}\n\n.timeline-duration {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 1rem;\n  font-weight: 700;\n}\n\n.modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding-top: 1.5rem;\n  border-top: 1px solid var(--color-border);\n}\n\n@media (max-width: 768px) {\n  .event-modal-content {\n    padding: 1rem;\n  }\n\n  .event-header {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .event-title {\n    font-size: 1.25rem;\n  }\n\n  .info-grid {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n\n  .details-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .timeline-bar {\n    font-size: 0.75rem;\n    padding: 0 0.5rem;\n  }\n\n  .timeline-start,\n  .timeline-end {\n    display: none;\n  }\n}\n</style>\n","<template>\n  <div class=\"operational-calendar-view\">\n    <!-- Header with Statistics and Actions -->\n    <div class=\"calendar-header\">\n      <div class=\"calendar-title\">\n        <h1>Operational Calendar</h1>\n        <p class=\"subtitle\">Vessel Schedule & Voyage Planning</p>\n      </div>\n      \n      <!-- Statistics Panel -->\n      <div class=\"statistics-panel\">\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">ðŸš¢</div>\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ statistics.activeVessels }}</div>\n            <div class=\"stat-label\">Active Vessels</div>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">ðŸ“Š</div>\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ statistics.totalVoyages }}</div>\n            <div class=\"stat-label\">Total Voyages</div>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">ðŸ“¦</div>\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ formatNumber(statistics.totalCargo) }}</div>\n            <div class=\"stat-label\">Total Cargo (MT)</div>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">ðŸ’°</div>\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">${{ formatNumber(statistics.totalCost) }}</div>\n            <div class=\"stat-label\">Total Cost (USD)</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Export Actions -->\n      <div class=\"export-actions\">\n        <BaseButton\n          variant=\"secondary\"\n          size=\"small\"\n          :disabled=\"loading\"\n          @click=\"exportToCSV\"\n        >\n          ðŸ“„ Export CSV\n        </BaseButton>\n        <BaseButton\n          variant=\"secondary\"\n          size=\"small\"\n          :disabled=\"loading\"\n          @click=\"exportToPDF\"\n        >\n          ðŸ“‘ Export PDF\n        </BaseButton>\n      </div>\n    </div>\n\n    <!-- Global Filters -->\n    <GlobalFiltersBar\n      context=\"calendar\"\n      :vessel-options=\"vesselOptions\"\n      :status-options=\"statusOptions\"\n      @filters-changed=\"handleFiltersChanged\"\n    />\n\n    <!-- Calendar Controls -->\n    <div class=\"calendar-controls\">\n      <!-- View Type Switcher -->\n      <div class=\"view-switcher\">\n        <button\n          v-for=\"view in viewTypes\"\n          :key=\"view.value\"\n          :class=\"['view-btn', { active: viewType === view.value }]\"\n          @click=\"changeView(view.value)\"\n        >\n          <span class=\"view-icon\">{{ view.icon }}</span>\n          <span class=\"view-label\">{{ view.label }}</span>\n        </button>\n      </div>\n\n      <!-- Date Navigation -->\n      <div class=\"date-navigation\">\n        <BaseButton\n          variant=\"text\"\n          size=\"small\"\n          @click=\"navigatePrevious\"\n        >\n          â—€ Previous\n        </BaseButton>\n        \n        <button class=\"current-date-btn\" @click=\"navigateToday\">\n          {{ formattedCurrentDate }}\n        </button>\n        \n        <BaseButton\n          variant=\"text\"\n          size=\"small\"\n          @click=\"navigateNext\"\n        >\n          Next â–¶\n        </BaseButton>\n      </div>\n    </div>\n\n    <!-- Loading State -->\n    <LoadingSpinner v-if=\"loading\" message=\"Loading calendar events...\" />\n\n    <!-- Error State -->\n    <div v-else-if=\"error\" class=\"error-message\">\n      <p>âš ï¸ {{ error }}</p>\n      <BaseButton variant=\"primary\" @click=\"loadCalendar\">Retry</BaseButton>\n    </div>\n\n    <!-- Calendar Views -->\n    <div v-else class=\"calendar-content\">\n      <CalendarMonthView\n        v-if=\"viewType === 'month'\"\n        :events=\"filteredEvents\"\n        :current-date=\"currentDate\"\n        @event-click=\"handleEventClick\"\n      />\n      \n      <CalendarWeekView\n        v-else-if=\"viewType === 'week'\"\n        :events=\"filteredEvents\"\n        :current-date=\"currentDate\"\n        @event-click=\"handleEventClick\"\n      />\n      \n      <CalendarYearView\n        v-else-if=\"viewType === 'year'\"\n        :events=\"filteredEvents\"\n        :current-date=\"currentDate\"\n        @event-click=\"handleEventClick\"\n        @month-click=\"handleMonthClick\"\n      />\n      \n      <CalendarTimelineView\n        v-else-if=\"viewType === 'timeline'\"\n        :events=\"filteredEvents\"\n        :current-date=\"currentDate\"\n        @event-click=\"handleEventClick\"\n      />\n    </div>\n\n    <!-- Event Details Modal -->\n    <EventModal\n      v-if=\"selectedEvent\"\n      :event=\"selectedEvent\"\n      @close=\"selectedEvent = null\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { useCalendarStore } from '@/stores/calendar';\nimport type { CalendarEvent, CalendarViewType } from '@/types/calendar.types';\nimport GlobalFiltersBar from '@/components/shared/GlobalFiltersBar.vue';\nimport BaseButton from '@/components/shared/BaseButton.vue';\nimport LoadingSpinner from '@/components/shared/LoadingSpinner.vue';\nimport CalendarMonthView from '@/components/calendar/CalendarMonthView.vue';\nimport CalendarWeekView from '@/components/calendar/CalendarWeekView.vue';\nimport CalendarYearView from '@/components/calendar/CalendarYearView.vue';\nimport CalendarTimelineView from '@/components/calendar/CalendarTimelineView.vue';\nimport EventModal from '@/components/calendar/EventModal.vue';\n\nconst calendarStore = useCalendarStore();\nconst {\n  currentDate,\n  viewType,\n  loading,\n  error,\n  filteredEvents,\n  statistics,\n  uniqueVessels\n} = storeToRefs(calendarStore);\n\nconst selectedEvent = ref<CalendarEvent | null>(null);\n\nconst viewTypes = [\n  { value: 'month' as CalendarViewType, label: 'Month', icon: 'ðŸ“…' },\n  { value: 'week' as CalendarViewType, label: 'Week', icon: 'ðŸ“†' },\n  { value: 'year' as CalendarViewType, label: 'Year', icon: 'ðŸ—“ï¸' },\n  { value: 'timeline' as CalendarViewType, label: 'Timeline', icon: 'ðŸ“Š' }\n];\n\nconst vesselOptions = computed(() => \n  uniqueVessels.value.map(vessel => ({ value: vessel, label: vessel }))\n);\n\nconst statusOptions = computed(() => [\n  { value: 'planned', label: 'Planned' },\n  { value: 'in-progress', label: 'In Progress' },\n  { value: 'completed', label: 'Completed' },\n  { value: 'cancelled', label: 'Cancelled' }\n]);\n\nconst formattedCurrentDate = computed(() => {\n  const date = currentDate.value;\n  const options: Intl.DateTimeFormatOptions = \n    viewType.value === 'year' \n      ? { year: 'numeric' }\n      : { year: 'numeric', month: 'long' };\n  \n  return date.toLocaleDateString('en-US', options);\n});\n\nfunction formatNumber(value: number): string {\n  return new Intl.NumberFormat('en-US', {\n    maximumFractionDigits: 0\n  }).format(value);\n}\n\nfunction changeView(type: CalendarViewType) {\n  calendarStore.setViewType(type);\n}\n\nfunction navigatePrevious() {\n  calendarStore.navigatePrevious();\n}\n\nfunction navigateNext() {\n  calendarStore.navigateNext();\n}\n\nfunction navigateToday() {\n  calendarStore.navigateToday();\n}\n\nfunction handleEventClick(event: CalendarEvent) {\n  selectedEvent.value = event;\n}\n\nfunction handleMonthClick(monthIndex: number) {\n  const newDate = new Date(currentDate.value);\n  newDate.setMonth(monthIndex);\n  calendarStore.setCurrentDate(newDate);\n  calendarStore.setViewType('month');\n}\n\nfunction handleFiltersChanged() {\n  // Filters are automatically applied through the store\n  console.log('Filters changed');\n}\n\nasync function loadCalendar() {\n  await calendarStore.fetchEvents();\n}\n\nfunction exportToCSV() {\n  const events = filteredEvents.value;\n  \n  // CSV headers\n  const headers = ['Date', 'Vessel', 'Module', 'Route', 'Status', 'Cargo (MT)', 'Cost (USD)'];\n  \n  // CSV rows\n  const rows = events.map(event => [\n    new Date(event.start).toLocaleDateString(),\n    event.vessel,\n    event.module,\n    event.route || '',\n    event.status,\n    event.cargo?.toString() || '0',\n    event.cost?.toString() || '0'\n  ]);\n  \n  // Create CSV content\n  const csvContent = [\n    headers.join(','),\n    ...rows.map(row => row.map(cell => `\"${cell}\"`).join(','))\n  ].join('\\n');\n  \n  // Download\n  const blob = new Blob([csvContent], { type: 'text/csv' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `calendar-export-${new Date().toISOString().split('T')[0]}.csv`;\n  a.click();\n  URL.revokeObjectURL(url);\n}\n\nfunction exportToPDF() {\n  // Create a printable version\n  const printWindow = window.open('', '_blank');\n  if (!printWindow) return;\n  \n  const events = filteredEvents.value;\n  const stats = statistics.value;\n  \n  const html = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Operational Calendar Report</title>\n      <style>\n        body { font-family: Arial, sans-serif; padding: 20px; }\n        h1 { color: #333; }\n        .stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin: 20px 0; }\n        .stat { padding: 15px; background: #f5f5f5; border-radius: 5px; }\n        .stat-value { font-size: 24px; font-weight: bold; color: #0066cc; }\n        .stat-label { font-size: 12px; color: #666; margin-top: 5px; }\n        table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }\n        th { background: #0066cc; color: white; }\n        tr:hover { background: #f9f9f9; }\n        @media print { \n          button { display: none; }\n          .stats { page-break-inside: avoid; }\n        }\n      </style>\n    </head>\n    <body>\n      <h1>Operational Calendar Report</h1>\n      <p>Generated: ${new Date().toLocaleString()}</p>\n      \n      <div class=\"stats\">\n        <div class=\"stat\">\n          <div class=\"stat-value\">${stats.activeVessels}</div>\n          <div class=\"stat-label\">Active Vessels</div>\n        </div>\n        <div class=\"stat\">\n          <div class=\"stat-value\">${stats.totalVoyages}</div>\n          <div class=\"stat-label\">Total Voyages</div>\n        </div>\n        <div class=\"stat\">\n          <div class=\"stat-value\">${formatNumber(stats.totalCargo)}</div>\n          <div class=\"stat-label\">Total Cargo (MT)</div>\n        </div>\n        <div class=\"stat\">\n          <div class=\"stat-value\">$${formatNumber(stats.totalCost)}</div>\n          <div class=\"stat-label\">Total Cost (USD)</div>\n        </div>\n      </div>\n      \n      <table>\n        <thead>\n          <tr>\n            <th>Date</th>\n            <th>Vessel</th>\n            <th>Module</th>\n            <th>Route</th>\n            <th>Status</th>\n            <th>Cargo (MT)</th>\n            <th>Cost (USD)</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${events.map(event => `\n            <tr>\n              <td>${new Date(event.start).toLocaleDateString()}</td>\n              <td>${event.vessel}</td>\n              <td>${event.module}</td>\n              <td>${event.route || '-'}</td>\n              <td>${event.status}</td>\n              <td>${formatNumber(event.cargo || 0)}</td>\n              <td>$${formatNumber(event.cost || 0)}</td>\n            </tr>\n          `).join('')}\n        </tbody>\n      </table>\n      \n      <button onclick=\"window.print()\" style=\"margin-top: 20px; padding: 10px 20px; background: #0066cc; color: white; border: none; border-radius: 5px; cursor: pointer;\">\n        Print / Save as PDF\n      </button>\n    </body>\n    </html>\n  `;\n  \n  printWindow.document.write(html);\n  printWindow.document.close();\n}\n\nonMounted(() => {\n  loadCalendar();\n});\n</script>\n\n<style scoped>\n.operational-calendar-view {\n  padding: 1.5rem;\n  max-width: 1600px;\n  margin: 0 auto;\n}\n\n.calendar-header {\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n}\n\n.calendar-title h1 {\n  margin: 0;\n  font-size: 2rem;\n  color: var(--color-heading);\n}\n\n.subtitle {\n  margin: 0.25rem 0 0 0;\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n\n.statistics-panel {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 1rem;\n  flex: 1;\n}\n\n.stat-card {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 1rem;\n  background: var(--color-background-soft);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  transition: all 0.2s;\n}\n\n.stat-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.stat-icon {\n  font-size: 2rem;\n}\n\n.stat-content {\n  flex: 1;\n}\n\n.stat-value {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n\n.stat-label {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  margin-top: 0.25rem;\n}\n\n.export-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.calendar-controls {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding: 1rem;\n  background: var(--color-background-soft);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.view-switcher {\n  display: flex;\n  gap: 0.5rem;\n  background: var(--color-background);\n  border-radius: 6px;\n  padding: 0.25rem;\n}\n\n.view-btn {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: none;\n  background: transparent;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  font-size: 0.875rem;\n  color: var(--color-text);\n}\n\n.view-btn:hover {\n  background: var(--color-background-soft);\n}\n\n.view-btn.active {\n  background: var(--color-primary);\n  color: white;\n}\n\n.view-icon {\n  font-size: 1.125rem;\n}\n\n.view-label {\n  font-weight: 500;\n}\n\n.date-navigation {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.current-date-btn {\n  padding: 0.5rem 1.5rem;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-width: 200px;\n  text-align: center;\n}\n\n.current-date-btn:hover {\n  background: var(--color-background-soft);\n}\n\n.calendar-content {\n  background: white;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1.5rem;\n  min-height: 600px;\n}\n\n.error-message {\n  text-align: center;\n  padding: 3rem;\n}\n\n.error-message p {\n  color: var(--color-danger);\n  font-size: 1.125rem;\n  margin-bottom: 1rem;\n}\n\n@media (max-width: 1024px) {\n  .calendar-header {\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .statistics-panel {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 768px) {\n  .operational-calendar-view {\n    padding: 1rem;\n  }\n\n  .calendar-title h1 {\n    font-size: 1.5rem;\n  }\n\n  .statistics-panel {\n    grid-template-columns: 1fr;\n  }\n\n  .calendar-controls {\n    flex-direction: column;\n  }\n\n  .view-switcher {\n    width: 100%;\n    flex-wrap: wrap;\n  }\n\n  .view-btn {\n    flex: 1;\n  }\n\n  .date-navigation {\n    width: 100%;\n    justify-content: space-between;\n  }\n\n  .calendar-content {\n    padding: 1rem;\n  }\n}\n</style>\n"],"names":["props","__props","emit","__emit","startInput","ref","endInput","startDateString","endDateString","dateToString","date","d","Date","getFullYear","String","getMonth","padStart","getDate","stringToDate","str","isNaN","getTime","watch","modelValue","newValue","value","start","end","immediate","deep","hasValue","computed","datePresets","label","getRange","today","setHours","dayOfWeek","getDay","setDate","quarter","Math","floor","handleStartDateChange","handleEndDateChange","clearDates","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$event","type","class","placeholder","onChange","_cache","_hoisted_4","onClick","title","showPresets","_hoisted_5","_Fragment","_renderList","preset","key","range","applyPreset","_toDisplayString","_hoisted_6","isOpen","searchQuery","searchInput","selectedOptions","options","filter","opt","includes","filteredOptions","query","toLowerCase","isAllSelected","length","isSomeSelected","toggleDropdown","disabled","setTimeout","focus","isSelected","toggleSelectAll","map","handleClickOutside","event","target","closest","onMounted","document","addEventListener","onBeforeUnmount","removeEventListener","_normalizeClass","option","_withModifiers","v","removeItem","width","height","viewBox","fill","stroke","_createVNode","_Transition","name","searchable","showSelectAll","checked","_hoisted_8","toggleOption","_hoisted_11","filtersStore","useFiltersStore","selectedPreset","contextFilters","context","voyageFilters","scheduleFilters","reportFilters","calendarFilters","activeFiltersCount","activeVoyageFiltersCount","activeScheduleFiltersCount","activeReportFiltersCount","activeCalendarFiltersCount","localFilters","newFilters","moduleOptions","presetOptions","presets","p","emitFilters","updateVoyageFilters","updateScheduleFilters","updateReportFilters","updateCalendarFilters","resetFilters","resetVoyageFilters","resetScheduleFilters","resetReportFilters","resetCalendarFilters","presetName","BaseSelect","module","DateRangePicker","dateRange","showVessels","MultiSelect","vessels","vesselOptions","showPorts","ports","portOptions","showRoutes","_hoisted_7","routes","routeOptions","showCargoTypes","cargoTypes","cargoTypeOptions","showStatuses","_hoisted_9","statuses","statusOptions","showSearch","_hoisted_10","BaseInput","clearable","_hoisted_12","_hoisted_13","_createBlock","BaseButton","variant","size","weekDays","calendarDays","year","currentDate","month","firstDayOfWeek","lastDate","prevMonthDays","prevMonthLastDay","nextMonthDays","days","i","push","createCalendarDay","dayDate","isCurrentMonth","dayStart","dayEnd","dayEvents","events","eventStart","eventEnd","isToday","day","index","slice","id","status","$emit","vessel","toLocaleTimeString","hour","minute","hour12","hours","Array","from","_","current","startOfWeek","eventCount","dayName","toLocaleDateString","weekday","formatHour","formatEventTime","isCurrentHour","now","getHours","getEventsForSlot","slotStart","slotEnd","getEventStyle","eventStartInSlot","max","min","top","toISOString","_unref","style","_normalizeStyle","route","weekDaysShort","months","monthIndex","monthStart","daysInMonth","daysToShowFromNextMonth","createMiniDay","monthEvents","eventDate","vesselCount","Set","e","totalCargo","reduce","sum","cargo","number","dayIndex","clickable","_hoisted_14","Intl","NumberFormat","maximumFractionDigits","format","dates","startDate","timelineStart","timelineEnd","vesselsWithEvents","vesselMap","Map","forEach","has","set","get","entries","sort","a","b","localeCompare","getWeekdayShort","totalDays","left","ceil","formatEventDate","_hoisted_15","statusConfig","draft","icon","color","planned","active","completed","cancelled","delayed","pending","generating","failed","finalized","archived","low","medium","high","critical","success","warning","error","info","config","showIcon","moduleLabel","deepsea","olya","balakovo","hasAdditionalDetails","details","Object","keys","filteredDetails","excludeKeys","filtered","formatDateTime","toLocaleString","formatDate","formatNumber","calculateDuration","diffTime","abs","formatKey","split","word","charAt","toUpperCase","join","formatValue","exportEventDetails","Title","Vessel","Module","Route","Status","Duration","cost","content","blob","Blob","url","URL","createObjectURL","createElement","href","download","click","revokeObjectURL","BaseModal","show","onClose","StatusBadge","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","calendarStore","useCalendarStore","viewType","loading","filteredEvents","statistics","uniqueVessels","storeToRefs","selectedEvent","viewTypes","formattedCurrentDate","navigatePrevious","navigateNext","navigateToday","handleEventClick","handleMonthClick","newDate","setMonth","setCurrentDate","setViewType","handleFiltersChanged","async","loadCalendar","fetchEvents","exportToCSV","rows","toString","csvContent","row","cell","exportToPDF","printWindow","window","open","stats","html","activeVessels","totalVoyages","totalCost","write","close","GlobalFiltersBar","onFiltersChanged","view","changeView","LoadingSpinner","message","CalendarMonthView","onEventClick","CalendarWeekView","CalendarYearView","onMonthClick","CalendarTimelineView","EventModal"],"mappings":"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"}