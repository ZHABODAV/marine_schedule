import{d as e,r as a,c as l,g as t,w as s,a as o,b as n,F as i,i as u,E as r,e as c,k as v,l as d,t as p,q as g,v as m,h as y,C as h,G as f,K as b,z as w,o as C,n as k}from"./vendor-vue-CBmYbXPK.js";import{b as D,u as V,a as S,c as $}from"./stores-B-Lw8dsK.js";import{a as x}from"./vendor-axios-CcrxTH1M.js";import{_ as F}from"./component-financial-CtXviO0A.js";import"./vendor-misc-DO6OT3jl.js";import"./services-DnyArwnx.js";import"./vendor-charts-BEO-w-Hm.js";const I={class:"voyage-builder"},T={class:"wizard-steps"},L={class:"step-indicator"},U={key:0,class:"checkmark"},_={key:1},z={class:"step-label"},E={class:"step-title"},N={class:"step-description"},R={class:"wizard-content"},M={key:0,class:"step-content"},q={class:"form-group"},P={key:0,class:"error"},j={class:"form-group"},B=["value"],O={key:0,class:"error"},A={key:1,class:"vessel-info"},W={class:"form-group"},G=["min"],K={key:0,class:"error"},H={class:"form-group"},J={key:1,class:"step-content"},Q={class:"route-toolbar"},X={class:"form-group",style:{"margin-bottom":"0"}},Y={label:"Standard Routes"},Z=["value"],ee={key:0,label:"Templates"},ae=["value"],le={class:"bulk-operations"},te=["disabled"],se=["disabled"],oe=["disabled"],ne={key:0,class:"alert alert-error"},ie={key:1,class:"alert alert-success"},ue={key:2,class:"optimization-panel"},re={class:"suggestions-list"},ce={class:"suggestion-icon"},ve={class:"suggestion-text"},de=["onClick"],pe={key:3,class:"cost-preview"},ge={class:"cost-breakdown"},me={class:"cost-item"},ye={class:"cost-item"},he={class:"cost-item"},fe={class:"cost-item"},be={class:"cost-item total"},we={class:"cost-item"},Ce={class:"route-legs"},ke={class:"leg-count"},De={class:"select-all"},Ve=["checked"],Se={class:"leg-header"},$e=["checked","onChange"],xe={class:"leg-number"},Fe={class:"leg-actions"},Ie=["onClick"],Te=["onClick"],Le={class:"leg-fields"},Ue={class:"form-group"},_e=["onUpdate:modelValue","onChange"],ze={class:"form-group"},Ee=["onUpdate:modelValue"],Ne={class:"form-group"},Re=["onUpdate:modelValue"],Me={class:"form-group"},qe=["onUpdate:modelValue"],Pe={class:"form-group"},je=["onUpdate:modelValue"],Be={key:0,class:"form-group"},Oe=["onUpdate:modelValue"],Ae={key:2,class:"step-content"},We={class:"form-group"},Ge=["value"],Ke={class:"form-group"},He={class:"form-group"},Je={key:3,class:"step-content"},Qe={class:"review-section"},Xe={class:"review-item"},Ye={class:"review-value"},Ze={class:"review-item"},ea={class:"review-value"},aa={class:"review-item"},la={class:"review-value"},ta={class:"review-item"},sa={class:"review-value"},oa={class:"review-section"},na={class:"review-item"},ia={class:"review-value"},ua={class:"review-item"},ra={class:"review-value"},ca={class:"review-item"},va={class:"review-value"},da={class:"review-item"},pa={class:"review-value"},ga={class:"review-section"},ma={class:"review-item"},ya={class:"review-value"},ha={class:"review-item"},fa={class:"review-value"},ba={class:"review-item"},wa={class:"review-value"},Ca={key:0,class:"review-section"},ka={key:0,class:"review-item"},Da={class:"review-value"},Va={key:1,class:"review-item"},Sa={class:"review-value"},$a={class:"wizard-actions"},xa={key:1,type:"submit",class:"btn btn-primary"},Fa=["disabled"],Ia=F(e({__name:"VoyageBuilder",setup(e){const F=w(),Ia=D(),Ta=V(),La=S(),Ua=$(),_a=[{title:"Basic Info",description:"Vessel and dates"},{title:"Route",description:"Configure route legs"},{title:"Cargo",description:"Cargo details"},{title:"Review",description:"Review and submit"}],za=a(0),Ea=a(!1),Na=a(""),Ra=a(!1),Ma=a([]),qa=a([]),Pa=a({}),ja=a({module:"",vesselId:"",startDate:"",voyageType:"standard",legs:[{id:al(),type:"loading",from:"",to:"",distance:0,duration:0}]}),Ba=a({}),Oa=a([]),Aa=a({fuel:0,portFees:0,canalFees:0,other:0,total:0,perNm:0}),Wa=l(()=>Ia.vessels),Ga=l(()=>Ua.routes),Ka=l(()=>La.cargoList),Ha=l(()=>Wa.value.find(e=>e.id===ja.value.vesselId)),Ja=l(()=>(new Date).toISOString().split("T")[0]),Qa=l(()=>ja.value.legs.reduce((e,a)=>e+(a.distance||0),0).toFixed(1)),Xa=l(()=>ja.value.legs.reduce((e,a)=>e+(a.duration||0),0).toFixed(1)),Ya=l(()=>Math.ceil(parseFloat(Xa.value)/24)),Za=l(()=>ja.value.legs.length>0&&Ma.value.length===ja.value.legs.length),el=l(()=>{const e=Ha.value,a=ja.value.legs.filter(e=>["loading","discharge"].includes(e.type)).reduce((e,a)=>e+(a.cargo||0),0),l=e?.capacity||0,t=a>l;return{totalCargo:a,vesselCapacity:l,exceeded:t,overload:t?a-l:0,utilizationPercent:l>0?Math.round(a/l*100):0}});function al(){return Date.now()+Math.floor(1e4*Math.random())}function ll(e){switch(Ba.value={},e){case 0:ja.value.module||(Ba.value.module="Module is required"),ja.value.vesselId||(Ba.value.vesselId="Vessel is required"),ja.value.startDate||(Ba.value.startDate="Start date is required");break;case 1:0===ja.value.legs.length&&(Ba.value.legs="At least one leg is required"),el.value.exceeded&&(Ba.value.capacity="Total cargo exceeds vessel capacity"),ja.value.legs.forEach((e,a)=>{e.type||(Ba.value[`leg_${a}_type`]="Leg type is required")})}return 0===Object.keys(Ba.value).length}function tl(){ll(za.value)&&za.value++}function sl(){za.value>0&&za.value--}async function ol(){if(ll(za.value)){Ea.value=!0;try{const e={vesselId:ja.value.vesselId,commitmentId:ja.value.commitmentId,legs:ja.value.legs,startDate:ja.value.startDate,status:"planned"};await Ta.createVoyage(e),F.push("/schedule")}catch(e){}finally{Ea.value=!1}}}function nl(){ja.value.legs.push({id:al(),type:"transit",from:"",to:"",distance:0,duration:0})}function il(e){const a=ja.value.legs[e];if(!a)return;const l={...a,id:al(),type:a.type};ja.value.legs.splice(e+1,0,l)}function ul(){[...Ma.value].sort((e,a)=>a-e).forEach(e=>{il(e)}),Ma.value=[]}function rl(){Za.value?Ma.value=[]:Ma.value=ja.value.legs.map((e,a)=>a)}function cl(){0!==Ma.value.length&&confirm(`Delete ${Ma.value.length} selected leg(s)?`)&&([...Ma.value].sort((e,a)=>a-e).forEach(e=>{ja.value.legs.length>1&&ja.value.legs.splice(e,1)}),Ma.value=[])}function vl(){if(Na.value)if(Na.value.startsWith("template_")){const e=Na.value.replace("template_",""),a=qa.value.find(a=>a.id===e);a&&a.legs&&(ja.value.legs=a.legs.map(e=>({...e,id:al()})),yl())}else{const e=Ga.value.find(e=>e.id===Na.value);e&&(ja.value.legs=[{id:al(),type:"transit",from:e.from,to:e.to,distance:e.distance,duration:0}],yl())}}function dl(){yl()}function pl(){}function gl(){Oa.value=[];const e=ja.value.legs;for(let l=0;l<e.length-1;l++){const a=e[l],t=e[l+1];a&&t&&a.to&&t.from&&a.to!==t.from&&Oa.value.push({icon:"‚ö†Ô∏è",message:`Leg ${l+1} ends at ${a.to} but Leg ${l+2} starts at ${t.from}. Consider adding a transit leg.`,action:"add_transit",data:{index:l+1,from:a.to,to:t.from}})}for(let l=0;l<e.length-1;l++){const a=e[l],t=e[l+1];a&&t&&a.type===t.type&&"transit"===a.type&&Oa.value.push({icon:"üí°",message:`Legs ${l+1} and ${l+2} are both transit legs. Consider merging them.`,action:"merge_legs",data:{index:l}})}e.forEach((e,a)=>{"transit"!==e.type||e.distance&&0!==e.distance||Oa.value.push({icon:"üîç",message:`Leg ${a+1} is a transit leg with zero distance. Please verify.`,action:null,data:null})});const a=el.value.utilizationPercent;a<50?Oa.value.push({icon:"",message:`Low vessel utilization (${a}%). Consider adding more cargo or using a smaller vessel.`,action:null,data:null}):a>90&&a<=100&&Oa.value.push({icon:"",message:`Excellent vessel utilization (${a}%)!`,action:null,data:null})}function ml(e){const a=Ha.value,l=a?.speed||12;return Math.round(e/l*10)/10}function yl(){if(!Ha.value)return void(Aa.value={fuel:0,portFees:0,canalFees:0,other:0,total:0,perNm:0});let e=0,a=0,l=0;ja.value.legs.forEach(t=>{"transit"===t.type&&t.distance&&(e+=.3*t.distance*600),["loading","discharge"].includes(t.type)&&(a+=5e3),"canal"===t.type&&(l+=5e4)});const t=e+a+l+0,s=parseFloat(Qa.value),o=s>0?t/s:0;Aa.value={fuel:Math.round(e),portFees:Math.round(a),canalFees:Math.round(l),other:0,total:Math.round(t),perNm:o}}function hl(e){const a=Wa.value.find(a=>a.id===e);return a?a.name:""}async function fl(){try{const e=await x.get("/data/voyage_templates.json");qa.value=e.data||[]}catch(e){qa.value=[]}}async function bl(){try{const e=ja.value.module;if(!e)return;const a=(await x.get(`/input/${e}/distances_${e}.csv`)).data.split("\n"),l={};for(let t=1;t<a.length;t++){const e=a[t].split(",");if(e.length>=3){const a=e[0]?.trim(),t=e[1]?.trim(),s=parseFloat(e[2]?.trim());a&&t&&!isNaN(s)&&(l[`${a}-${t}`]=s,l[`${t}-${a}`]=s)}}Pa.value=l}catch(e){}}return t(async()=>{await Promise.all([Ia.fetchVessels(),Ua.fetchRoutes(),La.fetchCargo(),fl(),bl()])}),s(()=>ja.value.module,async e=>{e&&await Promise.all([Ia.fetchVessels(e),bl()])}),s(()=>ja.value.legs,()=>{yl()},{deep:!0}),(e,a)=>{return C(),o("div",I,[a[65]||(a[65]=n("div",{class:"builder-header"},[n("h1",null,"Voyage Builder"),n("p",{class:"subtitle"},"Create a new voyage using our step-by-step wizard")],-1)),n("div",T,[(C(),o(i,null,u(_a,(e,a)=>n("div",{key:a,class:k(["step",{active:za.value===a,completed:a<za.value,disabled:a>za.value}])},[n("div",L,[a<za.value?(C(),o("span",U,"‚úì")):(C(),o("span",_,p(a+1),1))]),n("div",z,[n("span",E,p(e.title),1),n("span",N,p(e.description),1)])],2)),64))]),n("div",R,[n("form",{onSubmit:r(tl,["prevent"])},[0===za.value?(C(),o("div",M,[a[20]||(a[20]=n("h2",null,"Basic Information",-1)),n("div",q,[a[12]||(a[12]=n("label",{for:"module"},"Module *",-1)),v(n("select",{id:"module","onUpdate:modelValue":a[0]||(a[0]=e=>ja.value.module=e),required:""},[...a[11]||(a[11]=[n("option",{value:""},"Select a module",-1),n("option",{value:"olya"},"Olya",-1),n("option",{value:"balakovo"},"Balakovo",-1),n("option",{value:"deepsea"},"Deep Sea",-1)])],512),[[d,ja.value.module]]),Ba.value.module?(C(),o("span",P,p(Ba.value.module),1)):c("",!0)]),n("div",j,[a[16]||(a[16]=n("label",{for:"vessel"},"Vessel *",-1)),v(n("select",{id:"vessel","onUpdate:modelValue":a[1]||(a[1]=e=>ja.value.vesselId=e),required:"",onChange:dl},[a[13]||(a[13]=n("option",{value:""},"Select a vessel",-1)),(C(!0),o(i,null,u(Wa.value,e=>(C(),o("option",{key:e.id,value:e.id},p(e.name)+" ("+p(e.type)+") - Capacity: "+p(e.capacity||"N/A")+" tons ",9,B))),128))],544),[[d,ja.value.vesselId]]),Ba.value.vesselId?(C(),o("span",O,p(Ba.value.vesselId),1)):c("",!0),Ha.value?(C(),o("div",A,[a[14]||(a[14]=n("span",{class:"info-label"},"Deadweight:",-1)),g(" "+p(Ha.value.capacity||"N/A")+" tons ",1),a[15]||(a[15]=n("span",{class:"info-label",style:{"margin-left":"1rem"}},"Speed:",-1)),g(" "+p(Ha.value.speed||"N/A")+" knots ",1)])):c("",!0)]),n("div",W,[a[17]||(a[17]=n("label",{for:"startDate"},"Start Date *",-1)),v(n("input",{type:"date",id:"startDate","onUpdate:modelValue":a[2]||(a[2]=e=>ja.value.startDate=e),required:"",min:Ja.value},null,8,G),[[m,ja.value.startDate]]),Ba.value.startDate?(C(),o("span",K,p(Ba.value.startDate),1)):c("",!0)]),n("div",H,[a[19]||(a[19]=n("label",{for:"voyageType"},"Voyage Type",-1)),v(n("select",{id:"voyageType","onUpdate:modelValue":a[3]||(a[3]=e=>ja.value.voyageType=e)},[...a[18]||(a[18]=[n("option",{value:"standard"},"Standard",-1),n("option",{value:"ballast"},"Ballast",-1),n("option",{value:"laden"},"Laden",-1)])],512),[[d,ja.value.voyageType]])])])):c("",!0),1===za.value?(C(),o("div",J,[a[41]||(a[41]=n("h2",null,"Route Configuration",-1)),n("div",Q,[n("div",X,[a[22]||(a[22]=n("label",{for:"route"},"Select Route / Template",-1)),v(n("select",{id:"route","onUpdate:modelValue":a[4]||(a[4]=e=>Na.value=e),onChange:vl},[a[21]||(a[21]=n("option",{value:""},"Custom Route",-1)),n("optgroup",Y,[(C(!0),o(i,null,u(Ga.value,e=>(C(),o("option",{key:e.id,value:e.id},p(e.name)+" ("+p(e.distance||0)+" nm) ",9,Z))),128))]),qa.value.length>0?(C(),o("optgroup",ee,[(C(!0),o(i,null,u(qa.value,e=>(C(),o("option",{key:`template_${e.id}`,value:`template_${e.id}`},p(e.name)+" - "+p(e.estimatedDays)+" days ",9,ae))),128))])):c("",!0)],544),[[d,Na.value]])]),n("div",le,[n("button",{type:"button",class:"btn-icon",onClick:cl,disabled:0===Ma.value.length,title:"Delete Selected"}," Delete ("+p(Ma.value.length)+") ",9,te),n("button",{type:"button",class:"btn-icon",onClick:ul,disabled:0===Ma.value.length,title:"Duplicate Selected"}," Duplicate ("+p(Ma.value.length)+") ",9,se),n("button",{type:"button",class:"btn-icon",onClick:gl,disabled:ja.value.legs.length<2,title:"Optimize Route"}," Optimize ",8,oe)])]),el.value.exceeded?(C(),o("div",ne," Total cargo ("+p(el.value.totalCargo)+" tons) exceeds vessel capacity ("+p(el.value.vesselCapacity)+" tons)! Overload: "+p(el.value.overload)+" tons ",1)):el.value.totalCargo>0?(C(),o("div",ie," ‚úì Cargo within limits: "+p(el.value.totalCargo)+" / "+p(el.value.vesselCapacity)+" tons ("+p(el.value.utilizationPercent)+"% utilization) ",1)):c("",!0),Oa.value.length>0?(C(),o("div",ue,[a[23]||(a[23]=n("h4",null,"Route Optimization Suggestions",-1)),n("div",re,[(C(!0),o(i,null,u(Oa.value,(e,a)=>(C(),o("div",{key:a,class:"suggestion-item"},[n("span",ce,p(e.icon),1),n("span",ve,p(e.message),1),e.action?(C(),o("button",{key:0,type:"button",class:"btn-apply",onClick:a=>function(e){if("add_transit"===e.action){const{index:a,from:l,to:t}=e.data,s=function(e,a){const l=`${e}-${a}`;return Pa.value[l]?Pa.value[l]:500}(l,t);ja.value.legs.splice(a,0,{id:al(),type:"transit",from:l,to:t,distance:s,duration:ml(s)}),Oa.value=Oa.value.filter(a=>a!==e),yl()}else if("merge_legs"===e.action){const{index:a}=e.data,l=ja.value.legs[a],t=ja.value.legs[a+1];if(!l||!t)return;l.to=t.to,l.distance=(l.distance||0)+(t.distance||0),l.duration=(l.duration||0)+(t.duration||0),ja.value.legs.splice(a+1,1),Oa.value=Oa.value.filter(a=>a!==e),yl()}}(e)}," Apply ",8,de)):c("",!0)]))),128))])])):c("",!0),Aa.value.total>0?(C(),o("div",pe,[a[30]||(a[30]=n("h4",null,"Estimated Voyage Cost",-1)),n("div",ge,[n("div",me,[a[24]||(a[24]=n("span",null,"Fuel Cost:",-1)),n("span",null,"$"+p(Aa.value.fuel.toLocaleString()),1)]),n("div",ye,[a[25]||(a[25]=n("span",null,"Port Fees:",-1)),n("span",null,"$"+p(Aa.value.portFees.toLocaleString()),1)]),n("div",he,[a[26]||(a[26]=n("span",null,"Canal Fees:",-1)),n("span",null,"$"+p(Aa.value.canalFees.toLocaleString()),1)]),n("div",fe,[a[27]||(a[27]=n("span",null,"Other Costs:",-1)),n("span",null,"$"+p(Aa.value.other.toLocaleString()),1)]),n("div",be,[a[28]||(a[28]=n("span",null,[n("strong",null,"Total Estimated Cost:")],-1)),n("span",null,[n("strong",null,"$"+p(Aa.value.total.toLocaleString()),1)])]),n("div",we,[a[29]||(a[29]=n("span",null,"Cost per nm:",-1)),n("span",null,"$"+p(Aa.value.perNm.toFixed(2)),1)])])])):c("",!0),n("div",Ce,[n("h3",null,[a[32]||(a[32]=g(" Route Legs ",-1)),n("span",ke,"("+p(ja.value.legs.length)+" legs, "+p(Qa.value)+" nm, ~"+p(Ya.value)+" days)",1),n("label",De,[n("input",{type:"checkbox",onChange:rl,checked:Za.value},null,40,Ve),a[31]||(a[31]=g(" Select All ",-1))])]),y(f(b),{modelValue:ja.value.legs,"onUpdate:modelValue":a[5]||(a[5]=e=>ja.value.legs=e),"item-key":"id",handle:".drag-handle",animation:"200","ghost-class":"ghost",onStart:a[6]||(a[6]=e=>Ra.value=!0),onEnd:a[7]||(a[7]=e=>Ra.value=!1),class:"legs-container"},{item:h(({element:e,index:l})=>[n("div",{class:k(["leg-item",{selected:Ma.value.includes(l)}])},[n("div",Se,[n("input",{type:"checkbox",checked:Ma.value.includes(l),onChange:e=>function(e){const a=Ma.value.indexOf(e);a>-1?Ma.value.splice(a,1):Ma.value.push(e)}(l),class:"leg-checkbox"},null,40,$e),a[33]||(a[33]=n("span",{class:"drag-handle",title:"Drag to reorder"},"‚ãÆ‚ãÆ",-1)),n("span",xe,"Leg "+p(l+1),1),n("div",Fe,[n("button",{type:"button",class:"btn-icon-small",onClick:e=>il(l),title:"Duplicate leg"}," üìã ",8,Ie),ja.value.legs.length>1?(C(),o("button",{key:0,type:"button",class:"remove-leg-btn",onClick:e=>function(e){ja.value.legs.length>1&&(ja.value.legs.splice(e,1),Ma.value=Ma.value.filter(a=>a!==e).map(a=>a>e?a-1:a))}(l)}," Remove ",8,Te)):c("",!0)])]),n("div",Le,[n("div",Ue,[a[35]||(a[35]=n("label",null,"Type *",-1)),v(n("select",{"onUpdate:modelValue":a=>e.type=a,required:"",onChange:e=>function(e){const a=ja.value.legs[e];a&&(["loading","discharge"].includes(a.type)||delete a.cargo,yl())}(l)},[...a[34]||(a[34]=[n("option",{value:"loading"},"Loading",-1),n("option",{value:"transit"},"Transit",-1),n("option",{value:"discharge"},"Discharge",-1),n("option",{value:"ballast"},"Ballast",-1),n("option",{value:"canal"},"Canal",-1),n("option",{value:"bunker"},"Bunker",-1),n("option",{value:"waiting"},"Waiting",-1)])],40,_e),[[d,e.type]])]),n("div",ze,[a[36]||(a[36]=n("label",null,"From Port",-1)),v(n("input",{type:"text","onUpdate:modelValue":a=>e.from=a,placeholder:"Start port"},null,8,Ee),[[m,e.from]])]),n("div",Ne,[a[37]||(a[37]=n("label",null,"To Port",-1)),v(n("input",{type:"text","onUpdate:modelValue":a=>e.to=a,placeholder:"End port"},null,8,Re),[[m,e.to]])]),n("div",Me,[a[38]||(a[38]=n("label",null,"Distance (nm)",-1)),v(n("input",{type:"number","onUpdate:modelValue":a=>e.distance=a,min:"0",step:"0.1",placeholder:"Distance",onInput:yl},null,40,qe),[[m,e.distance,void 0,{number:!0}]])]),n("div",Pe,[a[39]||(a[39]=n("label",null,"Duration (hours)",-1)),v(n("input",{type:"number","onUpdate:modelValue":a=>e.duration=a,min:"0",step:"0.1",placeholder:"Duration"},null,8,je),[[m,e.duration,void 0,{number:!0}]])]),["loading","discharge"].includes(e.type)?(C(),o("div",Be,[a[40]||(a[40]=n("label",null,"Cargo (tons)",-1)),v(n("input",{type:"number","onUpdate:modelValue":a=>e.cargo=a,min:"0",step:"0.1",placeholder:"Cargo amount",onInput:pl},null,40,Oe),[[m,e.cargo,void 0,{number:!0}]])])):c("",!0)])],2)]),_:1},8,["modelValue"]),n("button",{type:"button",class:"add-leg-btn",onClick:nl}," + Add Leg ")])])):c("",!0),2===za.value?(C(),o("div",Ae,[a[46]||(a[46]=n("h2",null,"Cargo Details",-1)),n("div",We,[a[43]||(a[43]=n("label",{for:"cargo"},"Cargo Commitment",-1)),v(n("select",{id:"cargo","onUpdate:modelValue":a[8]||(a[8]=e=>ja.value.commitmentId=e)},[a[42]||(a[42]=n("option",{value:""},"None",-1)),(C(!0),o(i,null,u(Ka.value,e=>(C(),o("option",{key:e.id,value:e.id},p(e.commodity)+" - "+p(e.quantity)+" tons ",9,Ge))),128))],512),[[d,ja.value.commitmentId]])]),n("div",Ke,[a[44]||(a[44]=n("label",{for:"totalCargo"},"Total Cargo (tons)",-1)),v(n("input",{type:"number",id:"totalCargo","onUpdate:modelValue":a[9]||(a[9]=e=>ja.value.totalCargo=e),min:"0",step:"0.1",placeholder:"Total cargo amount"},null,512),[[m,ja.value.totalCargo,void 0,{number:!0}]])]),n("div",He,[a[45]||(a[45]=n("label",{for:"notes"},"Notes",-1)),v(n("textarea",{id:"notes","onUpdate:modelValue":a[10]||(a[10]=e=>ja.value.notes=e),rows:"4",placeholder:"Enter any additional notes..."},null,512),[[m,ja.value.notes]])])])):c("",!0),3===za.value?(C(),o("div",Je,[a[64]||(a[64]=n("h2",null,"Review & Submit",-1)),n("div",Qe,[a[51]||(a[51]=n("h3",null,"Basic Information",-1)),n("div",Xe,[a[47]||(a[47]=n("span",{class:"review-label"},"Module:",-1)),n("span",Ye,p(ja.value.module||"Not selected"),1)]),n("div",Ze,[a[48]||(a[48]=n("span",{class:"review-label"},"Vessel:",-1)),n("span",ea,p(hl(ja.value.vesselId)||"Not selected"),1)]),n("div",aa,[a[49]||(a[49]=n("span",{class:"review-label"},"Start Date:",-1)),n("span",la,p((l=ja.value.startDate,l?new Date(l).toLocaleDateString():"Not set")),1)]),n("div",ta,[a[50]||(a[50]=n("span",{class:"review-label"},"Type:",-1)),n("span",sa,p(ja.value.voyageType),1)])]),n("div",oa,[a[56]||(a[56]=n("h3",null,"Route Summary",-1)),n("div",na,[a[52]||(a[52]=n("span",{class:"review-label"},"Total Legs:",-1)),n("span",ia,p(ja.value.legs.length),1)]),n("div",ua,[a[53]||(a[53]=n("span",{class:"review-label"},"Total Distance:",-1)),n("span",ra,p(Qa.value)+" nm",1)]),n("div",ca,[a[54]||(a[54]=n("span",{class:"review-label"},"Estimated Duration:",-1)),n("span",va,p(Xa.value)+" hours (~"+p(Ya.value)+" days)",1)]),n("div",da,[a[55]||(a[55]=n("span",{class:"review-label"},"Total Cargo:",-1)),n("span",pa,p(el.value.totalCargo)+" tons",1)])]),n("div",ga,[a[60]||(a[60]=n("h3",null,"Cost Estimate",-1)),n("div",ma,[a[57]||(a[57]=n("span",{class:"review-label"},"Fuel Cost:",-1)),n("span",ya,"$"+p(Aa.value.fuel.toLocaleString()),1)]),n("div",ha,[a[58]||(a[58]=n("span",{class:"review-label"},"Port & Canal Fees:",-1)),n("span",fa,"$"+p((Aa.value.portFees+Aa.value.canalFees).toLocaleString()),1)]),n("div",ba,[a[59]||(a[59]=n("span",{class:"review-label"},"Total Estimated Cost:",-1)),n("span",wa,[n("strong",null,"$"+p(Aa.value.total.toLocaleString()),1)])])]),ja.value.commitmentId||ja.value.totalCargo||ja.value.notes?(C(),o("div",Ca,[a[63]||(a[63]=n("h3",null,"Additional Details",-1)),ja.value.totalCargo?(C(),o("div",ka,[a[61]||(a[61]=n("span",{class:"review-label"},"Manual Cargo Entry:",-1)),n("span",Da,p(ja.value.totalCargo)+" tons",1)])):c("",!0),ja.value.notes?(C(),o("div",Va,[a[62]||(a[62]=n("span",{class:"review-label"},"Notes:",-1)),n("span",Sa,p(ja.value.notes),1)])):c("",!0)])):c("",!0)])):c("",!0),n("div",$a,[za.value>0?(C(),o("button",{key:0,type:"button",class:"btn btn-secondary",onClick:sl}," Previous ")):c("",!0),za.value<_a.length-1?(C(),o("button",xa," Next ")):c("",!0),za.value===_a.length-1?(C(),o("button",{key:2,type:"button",class:"btn btn-success",onClick:ol,disabled:Ea.value},p(Ea.value?"Creating...":"Create Voyage"),9,Fa)):c("",!0)])],32)])]);var l}}}),[["__scopeId","data-v-cf6e385a"]]);export{Ia as default};
//# sourceMappingURL=view-voyagebuilder-DiiQeESY.js.map
