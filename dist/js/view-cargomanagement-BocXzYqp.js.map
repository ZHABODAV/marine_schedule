{"version":3,"file":"view-cargomanagement-BocXzYqp.js","sources":["../../src/components/shared/BaseSelect.vue","../../src/components/shared/BaseInput.vue","../../src/components/shared/BaseButton.vue","../../src/components/shared/BaseModal.vue","../../src/components/cargo/CargoList.vue","../../src/components/cargo/CargoTemplateList.vue","../../src/components/cargo/CostAllocationFields.vue","../../src/components/cargo/CargoTemplateForm.vue","../../src/components/cargo/CargoForm.vue","../../src/views/CargoManagement.vue"],"sourcesContent":["<template>\n  <div class=\"base-select\" :class=\"{ 'base-select--error': error }\">\n    <label v-if=\"label\" :for=\"selectId\" class=\"base-select__label\">\n      {{ label }}\n      <span v-if=\"required\" class=\"base-select__required\">*</span>\n    </label>\n\n    <div class=\"base-select__wrapper\">\n      <select\n        :id=\"selectId\"\n        :value=\"modelValue\"\n        :disabled=\"disabled\"\n        :required=\"required\"\n        class=\"base-select__field\"\n        @change=\"handleChange\"\n      >\n        <option v-if=\"placeholder\" value=\"\" disabled>{{ placeholder }}</option>\n        <option\n          v-for=\"option in options\"\n          :key=\"getOptionValue(option)\"\n          :value=\"getOptionValue(option)\"\n        >\n          {{ getOptionLabel(option) }}\n        </option>\n      </select>\n      <span class=\"base-select__arrow\">‚ñº</span>\n    </div>\n\n    <span v-if=\"error\" class=\"base-select__error-message\">{{ error }}</span>\n    <span v-else-if=\"hint\" class=\"base-select__hint\">{{ hint }}</span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\ninterface Option {\n  value: string | number\n  label: string\n}\n\ninterface Props {\n  modelValue: string | number\n  options: Option[] | string[] | number[]\n  label?: string\n  placeholder?: string\n  hint?: string\n  error?: string\n  disabled?: boolean\n  required?: boolean\n  valueKey?: string\n  labelKey?: string\n}\n\ninterface Emits {\n  (e: 'update:modelValue', value: string | number): void\n  (e: 'change', value: string | number): void\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  disabled: false,\n  required: false,\n  valueKey: 'value',\n  labelKey: 'label'\n})\n\nconst emit = defineEmits<Emits>()\n\nconst selectId = computed(() => `select-${Math.random().toString(36).substring(7)}`)\n\nconst getOptionValue = (option: Option | string | number): string | number => {\n  if (typeof option === 'object') {\n    return option[props.valueKey as keyof Option] as string | number\n  }\n  return option\n}\n\nconst getOptionLabel = (option: Option | string | number): string => {\n  if (typeof option === 'object') {\n    return option[props.labelKey as keyof Option] as string\n  }\n  return String(option)\n}\n\nconst handleChange = (event: Event) => {\n  const target = event.target as HTMLSelectElement\n  const value = target.value\n  emit('update:modelValue', value)\n  emit('change', value)\n}\n</script>\n\n<style scoped>\n.base-select {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.base-select__label {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: #333;\n}\n\n.base-select__required {\n  color: #e74c3c;\n  margin-left: 0.25rem;\n}\n\n.base-select__wrapper {\n  position: relative;\n  border: 1px solid #d0d0d0;\n  border-radius: 4px;\n  background: white;\n  transition: border-color 0.2s ease;\n}\n\n.base-select__wrapper:focus-within {\n  border-color: #3498db;\n  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n}\n\n.base-select--error .base-select__wrapper {\n  border-color: #e74c3c;\n}\n\n.base-select--error .base-select__wrapper:focus-within {\n  box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);\n}\n\n.base-select__field {\n  width: 100%;\n  border: none;\n  outline: none;\n  padding: 0.5rem 2.5rem 0.5rem 0.75rem;\n  font-size: 1rem;\n  font-family: inherit;\n  background: transparent;\n  cursor: pointer;\n  appearance: none;\n}\n\n.base-select__field:disabled {\n  cursor: not-allowed;\n  opacity: 0.6;\n  background: #f5f5f5;\n}\n\n.base-select__arrow {\n  position: absolute;\n  right: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  pointer-events: none;\n  color: #666;\n  font-size: 0.75rem;\n}\n\n.base-select__error-message {\n  font-size: 0.875rem;\n  color: #e74c3c;\n}\n\n.base-select__hint {\n  font-size: 0.875rem;\n  color: #666;\n}\n</style>\n","<template>\n  <div class=\"base-input\" :class=\"{ 'base-input--error': error }\">\n    <label v-if=\"label\" :for=\"inputId\" class=\"base-input__label\">\n      {{ label }}\n      <span v-if=\"required\" class=\"base-input__required\">*</span>\n    </label>\n\n    <div class=\"base-input__wrapper\">\n      <span v-if=\"prefix\" class=\"base-input__prefix\">{{ prefix }}</span>\n      \n      <input\n        :id=\"inputId\"\n        :type=\"type\"\n        :value=\"modelValue\"\n        :placeholder=\"placeholder\"\n        :disabled=\"disabled\"\n        :readonly=\"readonly\"\n        :required=\"required\"\n        :min=\"min\"\n        :max=\"max\"\n        :step=\"step\"\n        class=\"base-input__field\"\n        @input=\"handleInput\"\n        @blur=\"handleBlur\"\n        @focus=\"handleFocus\"\n      />\n      \n      <span v-if=\"suffix\" class=\"base-input__suffix\">{{ suffix }}</span>\n    </div>\n\n    <span v-if=\"error\" class=\"base-input__error-message\">{{ error }}</span>\n    <span v-else-if=\"hint\" class=\"base-input__hint\">{{ hint }}</span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\ninterface Props {\n  modelValue: string | number\n  type?: 'text' | 'number' | 'email' | 'password' | 'tel' | 'url' | 'date' | 'time'\n  label?: string\n  placeholder?: string\n  hint?: string\n  error?: string\n  prefix?: string\n  suffix?: string\n  disabled?: boolean\n  readonly?: boolean\n  required?: boolean\n  min?: number | string\n  max?: number | string\n  step?: number | string\n}\n\ninterface Emits {\n  (e: 'update:modelValue', value: string | number): void\n  (e: 'blur'): void\n  (e: 'focus'): void\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  type: 'text',\n  disabled: false,\n  readonly: false,\n  required: false\n})\n\nconst emit = defineEmits<Emits>()\n\nconst inputId = computed(() => `input-${Math.random().toString(36).substring(7)}`)\n\nconst handleInput = (event: Event) => {\n  const target = event.target as HTMLInputElement\n  const value = props.type === 'number' ? Number(target.value) : target.value\n  emit('update:modelValue', value)\n}\n\nconst handleBlur = () => {\n  emit('blur')\n}\n\nconst handleFocus = () => {\n  emit('focus')\n}\n</script>\n\n<style scoped>\n.base-input {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.base-input__label {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: #333;\n}\n\n.base-input__required {\n  color: #e74c3c;\n  margin-left: 0.25rem;\n}\n\n.base-input__wrapper {\n  display: flex;\n  align-items: center;\n  position: relative;\n  border: 1px solid #d0d0d0;\n  border-radius: 4px;\n  background: white;\n  transition: border-color 0.2s ease;\n}\n\n.base-input__wrapper:focus-within {\n  border-color: #3498db;\n  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n}\n\n.base-input--error .base-input__wrapper {\n  border-color: #e74c3c;\n}\n\n.base-input--error .base-input__wrapper:focus-within {\n  box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);\n}\n\n.base-input__field {\n  flex: 1;\n  border: none;\n  outline: none;\n  padding: 0.5rem 0.75rem;\n  font-size: 1rem;\n  font-family: inherit;\n  background: transparent;\n}\n\n.base-input__field:disabled {\n  cursor: not-allowed;\n  opacity: 0.6;\n  background: #f5f5f5;\n}\n\n.base-input__field::placeholder {\n  color: #999;\n}\n\n.base-input__prefix,\n.base-input__suffix {\n  padding: 0 0.75rem;\n  color: #666;\n  font-size: 0.875rem;\n  white-space: nowrap;\n}\n\n.base-input__error-message {\n  font-size: 0.875rem;\n  color: #e74c3c;\n}\n\n.base-input__hint {\n  font-size: 0.875rem;\n  color: #666;\n}\n</style>\n","<template>\n  <button\n    :type=\"type\"\n    :class=\"buttonClasses\"\n    :disabled=\"disabled || loading\"\n    @click=\"handleClick\"\n  >\n    <span v-if=\"loading\" class=\"button__spinner\"></span>\n    <span v-if=\"icon && !loading\" class=\"button__icon\">{{ icon }}</span>\n    <span v-if=\"$slots.default\" class=\"button__text\">\n      <slot></slot>\n    </span>\n  </button>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\ninterface Props {\n  type?: 'button' | 'submit' | 'reset'\n  variant?: 'primary' | 'secondary' | 'danger' | 'success' | 'ghost'\n  size?: 'small' | 'medium' | 'large'\n  icon?: string\n  loading?: boolean\n  disabled?: boolean\n  fullWidth?: boolean\n}\n\ninterface Emits {\n  (e: 'click', event: MouseEvent): void\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  type: 'button',\n  variant: 'primary',\n  size: 'medium',\n  loading: false,\n  disabled: false,\n  fullWidth: false\n})\n\nconst emit = defineEmits<Emits>()\n\nconst buttonClasses = computed(() => [\n  'base-button',\n  `base-button--${props.variant}`,\n  `base-button--${props.size}`,\n  {\n    'base-button--loading': props.loading,\n    'base-button--disabled': props.disabled,\n    'base-button--full-width': props.fullWidth\n  }\n])\n\nconst handleClick = (event: MouseEvent) => {\n  if (!props.disabled && !props.loading) {\n    emit('click', event)\n  }\n}\n</script>\n\n<style scoped>\n.base-button {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  border: none;\n  border-radius: 4px;\n  font-family: inherit;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  outline: none;\n}\n\n.base-button:focus-visible {\n  outline: 2px solid #3498db;\n  outline-offset: 2px;\n}\n\n/* Sizes */\n.base-button--small {\n  padding: 0.375rem 0.75rem;\n  font-size: 0.875rem;\n}\n\n.base-button--medium {\n  padding: 0.5rem 1rem;\n  font-size: 1rem;\n}\n\n.base-button--large {\n  padding: 0.75rem 1.5rem;\n  font-size: 1.125rem;\n}\n\n/* Variants */\n.base-button--primary {\n  background: #3498db;\n  color: white;\n}\n\n.base-button--primary:hover:not(:disabled) {\n  background: #2980b9;\n}\n\n.base-button--secondary {\n  background: #95a5a6;\n  color: white;\n}\n\n.base-button--secondary:hover:not(:disabled) {\n  background: #7f8c8d;\n}\n\n.base-button--danger {\n  background: #e74c3c;\n  color: white;\n}\n\n.base-button--danger:hover:not(:disabled) {\n  background: #c0392b;\n}\n\n.base-button--success {\n  background: #27ae60;\n  color: white;\n}\n\n.base-button--success:hover:not(:disabled) {\n  background: #229954;\n}\n\n.base-button--ghost {\n  background: transparent;\n  color: #3498db;\n  border: 1px solid #3498db;\n}\n\n.base-button--ghost:hover:not(:disabled) {\n  background: #e8f4f8;\n}\n\n/* States */\n.base-button--disabled,\n.base-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.base-button--loading {\n  pointer-events: none;\n}\n\n.base-button--full-width {\n  width: 100%;\n}\n\n/* Spinner */\n.button__spinner {\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  border: 2px solid currentColor;\n  border-top-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.button__icon {\n  display: inline-flex;\n  align-items: center;\n  font-size: 1.2em;\n}\n\n.button__text {\n  display: inline-flex;\n  align-items: center;\n}\n</style>\n","<template>\n  <Teleport to=\"body\">\n    <Transition name=\"modal\">\n      <div v-if=\"modelValue\" class=\"modal-overlay\" @click=\"handleOverlayClick\">\n        <div class=\"modal\" :class=\"modalClasses\" role=\"dialog\" aria-modal=\"true\">\n          <div class=\"modal__header\">\n            <h2 class=\"modal__title\">{{ title }}</h2>\n            <button\n              v-if=\"closable\"\n              class=\"modal__close\"\n              type=\"button\"\n              aria-label=\"Close\"\n              @click=\"handleClose\"\n            >\n              ‚úï\n            </button>\n          </div>\n\n          <div class=\"modal__body\">\n            <slot></slot>\n          </div>\n\n          <div v-if=\"$slots.footer\" class=\"modal__footer\">\n            <slot name=\"footer\"></slot>\n          </div>\n\n          <div v-else-if=\"showDefaultFooter\" class=\"modal__footer\">\n            <BaseButton variant=\"ghost\" @click=\"handleClose\">\n              {{ cancelText }}\n            </BaseButton>\n            <BaseButton variant=\"primary\" @click=\"handleConfirm\">\n              {{ confirmText }}\n            </BaseButton>\n          </div>\n        </div>\n      </div>\n    </Transition>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, watch } from 'vue'\nimport BaseButton from './BaseButton.vue'\n\ninterface Props {\n  modelValue: boolean\n  title?: string\n  size?: 'small' | 'medium' | 'large' | 'fullscreen'\n  closable?: boolean\n  closeOnOverlay?: boolean\n  showDefaultFooter?: boolean\n  confirmText?: string\n  cancelText?: string\n}\n\ninterface Emits {\n  (e: 'update:modelValue', value: boolean): void\n  (e: 'close'): void\n  (e: 'confirm'): void\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  title: '',\n  size: 'medium',\n  closable: true,\n  closeOnOverlay: true,\n  showDefaultFooter: false,\n  confirmText: 'Confirm',\n  cancelText: 'Cancel'\n})\n\nconst emit = defineEmits<Emits>()\n\nconst modalClasses = computed(() => [\n  `modal--${props.size}`\n])\n\nconst handleClose = () => {\n  emit('update:modelValue', false)\n  emit('close')\n}\n\nconst handleConfirm = () => {\n  emit('confirm')\n}\n\nconst handleOverlayClick = (event: MouseEvent) => {\n  if (props.closeOnOverlay && event.target === event.currentTarget) {\n    handleClose()\n  }\n}\n\n// Prevent body scrolling when modal is open\nwatch(() => props.modelValue, (isOpen) => {\n  if (isOpen) {\n    document.body.style.overflow = 'hidden'\n  } else {\n    document.body.style.overflow = ''\n  }\n})\n</script>\n\n<style scoped>\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 1rem;\n}\n\n.modal {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\n  display: flex;\n  flex-direction: column;\n  max-height: 90vh;\n  position: relative;\n}\n\n.modal--small {\n  width: 100%;\n  max-width: 400px;\n}\n\n.modal--medium {\n  width: 100%;\n  max-width: 600px;\n}\n\n.modal--large {\n  width: 100%;\n  max-width: 900px;\n}\n\n.modal--fullscreen {\n  width: calc(100% - 2rem);\n  height: calc(100% - 2rem);\n  max-width: none;\n  max-height: none;\n}\n\n.modal__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1.5rem;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.modal__title {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: #333;\n}\n\n.modal__close {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  color: #999;\n  cursor: pointer;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n\n.modal__close:hover {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.modal__body {\n  padding: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n}\n\n.modal__footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  padding: 1rem 1.5rem;\n  border-top: 1px solid #e0e0e0;\n}\n\n/* Transitions */\n.modal-enter-active,\n.modal-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.modal-enter-from,\n.modal-leave-to {\n  opacity: 0;\n}\n\n.modal-enter-active .modal,\n.modal-leave-active .modal {\n  transition: transform 0.3s ease;\n}\n\n.modal-enter-from .modal,\n.modal-leave-to .modal {\n  transform: scale(0.9);\n}\n</style>\n","<template>\n  <div class=\"cargo-list\">\n    <!-- Search and Filters -->\n    <div class=\"filters-section\">\n      <div class=\"search-box\">\n        <input\n          v-model=\"searchTerm\"\n          type=\"text\"\n          placeholder=\"Search cargo by ID or commodity...\"\n          class=\"search-input\"\n        />\n      </div>\n      \n      <div class=\"filters\">\n        <BaseSelect\n          v-model=\"filterStatus\"\n          :options=\"statusOptions\"\n          placeholder=\"Filter by status\"\n          class=\"filter-select\"\n        />\n        <input\n          v-model=\"filterPort\"\n          type=\"text\"\n          placeholder=\"Filter by port...\"\n          class=\"filter-input\"\n        />\n      </div>\n      \n      <BaseButton\n        @click=\"$emit('add-cargo')\"\n        variant=\"primary\"\n        class=\"add-button\"\n      >\n        <span class=\"icon\">+</span>\n        Add Cargo\n      </BaseButton>\n    </div>\n\n    <!-- Loading State -->\n    <LoadingSpinner v-if=\"loading\" />\n\n    <!-- Empty State -->\n    <div v-else-if=\"filteredCargo.length === 0\" class=\"empty-state\">\n      <p>No cargo commitments found.</p>\n    </div>\n\n    <!-- Cargo Table -->\n    <div v-else class=\"table-container\">\n      <table class=\"cargo-table\">\n        <thead>\n          <tr>\n            <th @click=\"sort('id')\">\n              ID\n              <span class=\"sort-indicator\" v-if=\"sortBy === 'id'\">\n                {{ sortDirection === 'asc' ? '‚Üë' : '‚Üì' }}\n              </span>\n            </th>\n            <th @click=\"sort('commodity')\">\n              Commodity\n              <span class=\"sort-indicator\" v-if=\"sortBy === 'commodity'\">\n                {{ sortDirection === 'asc' ? '‚Üë' : '‚Üì' }}\n              </span>\n            </th>\n            <th @click=\"sort('quantity')\">\n              Quantity (MT)\n              <span class=\"sort-indicator\" v-if=\"sortBy === 'quantity'\">\n                {{ sortDirection === 'asc' ? '‚Üë' : '‚Üì' }}\n              </span>\n            </th>\n            <th>Load Port</th>\n            <th>Discharge Port</th>\n            <th @click=\"sort('laycanStart')\">\n              Laycan Start\n              <span class=\"sort-indicator\" v-if=\"sortBy === 'laycanStart'\">\n                {{ sortDirection === 'asc' ? '‚Üë' : '‚Üì' }}\n              </span>\n            </th>\n            <th>Laycan End</th>\n            <th>Status</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"cargo in paginatedCargo\"\n            :key=\"cargo.id\"\n            @click=\"$emit('view-cargo', cargo)\"\n            class=\"cargo-row\"\n          >\n            <td>{{ cargo.id }}</td>\n            <td><strong>{{ cargo.commodity }}</strong></td>\n            <td>{{ formatNumber(cargo.quantity) }}</td>\n            <td>{{ cargo.loadPort }}</td>\n            <td>{{ cargo.dischPort }}</td>\n            <td>{{ formatDate(cargo.laycanStart) }}</td>\n            <td>{{ formatDate(cargo.laycanEnd) }}</td>\n            <td>\n              <span :class=\"['status-badge', `status-${cargo.status.toLowerCase()}`]\">\n                {{ cargo.status }}\n              </span>\n            </td>\n            <td class=\"actions-cell\" @click.stop>\n              <BaseButton\n                @click=\"$emit('edit-cargo', cargo)\"\n                variant=\"secondary\"\n                size=\"small\"\n              >\n                Edit\n              </BaseButton>\n              <BaseButton\n                @click=\"handleDelete(cargo)\"\n                variant=\"danger\"\n                size=\"small\"\n              >\n                Delete\n              </BaseButton>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Pagination -->\n    <div v-if=\"totalPages > 1\" class=\"pagination\">\n      <BaseButton\n        @click=\"currentPage--\"\n        :disabled=\"currentPage === 1\"\n        variant=\"secondary\"\n        size=\"small\"\n      >\n        Previous\n      </BaseButton>\n      <span class=\"page-info\">\n        Page {{ currentPage }} of {{ totalPages }}\n      </span>\n      <BaseButton\n        @click=\"currentPage++\"\n        :disabled=\"currentPage === totalPages\"\n        variant=\"secondary\"\n        size=\"small\"\n      >\n        Next\n      </BaseButton>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport type { CargoCommitment } from '@/types/cargo.types';\nimport BaseButton from '@/components/shared/BaseButton.vue';\nimport BaseSelect from '@/components/shared/BaseSelect.vue';\nimport LoadingSpinner from '@/components/shared/LoadingSpinner.vue';\n\n// Props\ninterface Props {\n  cargo: CargoCommitment[];\n  loading?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false,\n});\n\n// Emits\nconst emit = defineEmits<{\n  'add-cargo': [];\n  'edit-cargo': [cargo: CargoCommitment];\n  'delete-cargo': [cargo: CargoCommitment];\n  'view-cargo': [cargo: CargoCommitment];\n}>();\n\n// State\nconst searchTerm = ref('');\nconst filterStatus = ref('');\nconst filterPort = ref('');\nconst sortBy = ref<keyof CargoCommitment>('laycanStart');\nconst sortDirection = ref<'asc' | 'desc'>('asc');\nconst currentPage = ref(1);\nconst itemsPerPage = 10;\n\n// Options\nconst statusOptions = [\n  { value: '', label: 'All Statuses' },\n  { value: 'Pending', label: 'Pending' },\n  { value: 'Assigned', label: 'Assigned' },\n  { value: 'Completed', label: 'Completed' },\n  { value: 'Cancelled', label: 'Cancelled' },\n];\n\n// Computed\nconst filteredCargo = computed(() => {\n  let filtered = [...props.cargo];\n\n  // Search filter\n  if (searchTerm.value) {\n    const term = searchTerm.value.toLowerCase();\n    filtered = filtered.filter(\n      c =>\n        c.id.toString().toLowerCase().includes(term) ||\n        c.commodity.toLowerCase().includes(term)\n    );\n  }\n\n  // Status filter\n  if (filterStatus.value) {\n    filtered = filtered.filter(c => c.status === filterStatus.value);\n  }\n\n  // Port filter\n  if (filterPort.value) {\n    const port = filterPort.value.toLowerCase();\n    filtered = filtered.filter(\n      c =>\n        c.loadPort.toLowerCase().includes(port) ||\n        c.dischPort.toLowerCase().includes(port)\n    );\n  }\n\n  // Sorting\n  filtered.sort((a, b) => {\n    const aVal = a[sortBy.value];\n    const bVal = b[sortBy.value];\n    \n    if (aVal === bVal) return 0;\n    \n    const comparison = aVal < bVal ? -1 : 1;\n    return sortDirection.value === 'asc' ? comparison : -comparison;\n  });\n\n  return filtered;\n});\n\nconst totalPages = computed(() =>\n  Math.ceil(filteredCargo.value.length / itemsPerPage)\n);\n\nconst paginatedCargo = computed(() => {\n  const start = (currentPage.value - 1) * itemsPerPage;\n  const end = start + itemsPerPage;\n  return filteredCargo.value.slice(start, end);\n});\n\n// Methods\nfunction sort(field: keyof CargoCommitment) {\n  if (sortBy.value === field) {\n    sortDirection.value = sortDirection.value === 'asc' ? 'desc' : 'asc';\n  } else {\n    sortBy.value = field;\n    sortDirection.value = 'asc';\n  }\n}\n\nfunction formatNumber(value: number): string {\n  return value.toLocaleString();\n}\n\nfunction formatDate(date: string): string {\n  return new Date(date).toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n  });\n}\n\nfunction handleDelete(cargo: CargoCommitment) {\n  if (confirm(`Delete cargo commitment ${cargo.id}? This action cannot be undone.`)) {\n    emit('delete-cargo', cargo);\n  }\n}\n</script>\n\n<style scoped>\n.cargo-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.filters-section {\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.search-box {\n  flex: 1;\n  min-width: 250px;\n}\n\n.search-input,\n.filter-input {\n  width: 100%;\n  padding: 0.75rem 1rem;\n  border: 1px solid var(--border-color, #ddd);\n  border-radius: 6px;\n  font-size: 0.95rem;\n}\n\n.search-input:focus,\n.filter-input:focus {\n  outline: none;\n  border-color: var(--primary-color, #2563eb);\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n.filters {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.filter-select {\n  min-width: 180px;\n}\n\n.filter-input {\n  min-width: 180px;\n}\n\n.add-button .icon {\n  margin-right: 0.5rem;\n  font-size: 1.2rem;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 3rem;\n  color: var(--text-muted, #6b7280);\n}\n\n.table-container {\n  overflow-x: auto;\n  border-radius: 8px;\n  border: 1px solid var(--border-color, #ddd);\n}\n\n.cargo-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n}\n\n.cargo-table thead {\n  background: var(--bg-secondary, #f9fafb);\n  border-bottom: 2px solid var(--border-color, #ddd);\n}\n\n.cargo-table th {\n  padding: 1rem;\n  text-align: left;\n  font-weight: 600;\n  cursor: pointer;\n  user-select: none;\n  transition: background 0.2s;\n  white-space: nowrap;\n}\n\n.cargo-table th:hover {\n  background: var(--bg-tertiary, #f3f4f6);\n}\n\n.sort-indicator {\n  margin-left: 0.5rem;\n  color: var(--primary-color, #2563eb);\n}\n\n.cargo-table tbody tr {\n  border-bottom: 1px solid var(--border-color, #e5e7eb);\n  transition: background 0.2s;\n}\n\n.cargo-row {\n  cursor: pointer;\n}\n\n.cargo-row:hover {\n  background: var(--bg-tertiary, #f9fafb);\n}\n\n.cargo-table td {\n  padding: 1rem;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n\n.status-pending {\n  background: #fef3c7;\n  color: #92400e;\n}\n\n.status-assigned {\n  background: #dbeafe;\n  color: #1e40af;\n}\n\n.status-completed {\n  background: #d1fae5;\n  color: #065f46;\n}\n\n.status-cancelled {\n  background: #fee2e2;\n  color: #991b1b;\n}\n\n.actions-cell {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n}\n\n.page-info {\n  color: var(--text-muted, #6b7280);\n  font-size: 0.95rem;\n}\n</style>\n","<template>\n  <div class=\"cargo-template-list\">\n    <div class=\"list-header\">\n      <h2 class=\"list-title\">Cargo Templates</h2>\n      <BaseButton\n        variant=\"primary\"\n        @click=\"$emit('create')\"\n      >\n        + New Template\n      </BaseButton>\n    </div>\n\n    <!-- Loading State -->\n    <LoadingSpinner v-if=\"loading\" message=\"Loading templates...\" />\n\n    <!-- Error State -->\n    <div v-else-if=\"error\" class=\"error-state\">\n      <p class=\"error-message\">‚ö†Ô∏è {{ error }}</p>\n      <BaseButton variant=\"primary\" @click=\"$emit('retry')\">\n        Retry\n      </BaseButton>\n    </div>\n\n    <!-- Empty State -->\n    <div v-else-if=\"templates.length === 0\" class=\"empty-state\">\n      <div class=\"empty-icon\">üì¶</div>\n      <h3>No Templates Yet</h3>\n      <p>Create your first cargo template to streamline cargo creation with predefined cost structures.</p>\n      <BaseButton variant=\"primary\" @click=\"$emit('create')\">\n        Create First Template\n      </BaseButton>\n    </div>\n\n    <!-- Template Grid -->\n    <div v-else class=\"template-grid\">\n      <div\n        v-for=\"template in templates\"\n        :key=\"template.id\"\n        class=\"template-card\"\n        :class=\"{ 'is-default': template.isDefault }\"\n      >\n        <div class=\"card-header\">\n          <div class=\"template-info\">\n            <h3 class=\"template-name\">{{ template.name }}</h3>\n            <span v-if=\"template.isDefault\" class=\"default-badge\">Default</span>\n          </div>\n          <div class=\"card-actions\">\n            <button\n              class=\"icon-button\"\n              title=\"Edit template\"\n              @click=\"$emit('edit', template)\"\n            >\n              ‚úèÔ∏è\n            </button>\n            <button\n              class=\"icon-button delete-button\"\n              title=\"Delete template\"\n              @click=\"$emit('delete', template)\"\n            >\n              üóëÔ∏è\n            </button>\n          </div>\n        </div>\n\n        <p v-if=\"template.description\" class=\"template-description\">\n          {{ template.description }}\n        </p>\n\n        <div class=\"template-details\">\n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Commodity:</span>\n            <span class=\"detail-value\">{{ template.commodity }}</span>\n          </div>\n\n          <div v-if=\"template.quantity\" class=\"detail-item\">\n            <span class=\"detail-label\">Quantity:</span>\n            <span class=\"detail-value\">{{ formatNumber(template.quantity) }} MT</span>\n          </div>\n\n          <div v-if=\"template.freightRate\" class=\"detail-item\">\n            <span class=\"detail-label\">Freight Rate:</span>\n            <span class=\"detail-value\">${{ formatNumber(template.freightRate) }}/MT</span>\n          </div>\n\n          <div v-if=\"template.loadPort || template.dischPort\" class=\"detail-item\">\n            <span class=\"detail-label\">Route:</span>\n            <span class=\"detail-value\">\n              {{ template.loadPort || 'Any' }} ‚Üí {{ template.dischPort || 'Any' }}\n            </span>\n          </div>\n\n          <div v-if=\"hasCostAllocation(template)\" class=\"detail-item\">\n            <span class=\"detail-label\">Total Cost:</span>\n            <span class=\"detail-value cost-highlight\">\n              ${{ formatNumber(getTotalCost(template)) }}\n            </span>\n          </div>\n        </div>\n\n        <div class=\"card-footer\">\n          <BaseButton\n            variant=\"secondary\"\n            size=\"small\"\n            @click=\"$emit('apply', template)\"\n          >\n            Apply Template\n          </BaseButton>\n          <span class=\"card-meta\">\n            Created: {{ formatDate(template.createdAt) }}\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport type { CargoTemplate } from '@/types/cargo.types';\nimport BaseButton from '@/components/shared/BaseButton.vue';\nimport LoadingSpinner from '@/components/shared/LoadingSpinner.vue';\n\n// Props\ninterface Props {\n  templates: CargoTemplate[];\n  loading?: boolean;\n  error?: string | null;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false,\n  error: null,\n});\n\n// Emits\ndefineEmits<{\n  create: [];\n  edit: [template: CargoTemplate];\n  delete: [template: CargoTemplate];\n  apply: [template: CargoTemplate];\n  retry: [];\n}>();\n\n// Methods\nfunction formatNumber(value: number): string {\n  return new Intl.NumberFormat('en-US', {\n    maximumFractionDigits: 2,\n  }).format(value);\n}\n\nfunction formatDate(date: string | Date | undefined): string {\n  if (!date) return 'N/A';\n  return new Date(date).toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n  });\n}\n\nfunction hasCostAllocation(template: CargoTemplate): boolean {\n  return !!(template.operationalCost || template.overheadCost || template.otherCost);\n}\n\nfunction getTotalCost(template: CargoTemplate): number {\n  return (template.operationalCost || 0) + \n         (template.overheadCost || 0) + \n         (template.otherCost || 0);\n}\n</script>\n\n<style scoped>\n.cargo-template-list {\n  padding: 1.5rem;\n}\n\n.list-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n}\n\n.list-title {\n  margin: 0;\n  font-size: 1.75rem;\n  font-weight: 700;\n  color: var(--text-primary, #1f2937);\n}\n\n.error-state,\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 4rem 2rem;\n  text-align: center;\n}\n\n.error-message {\n  color: var(--danger-color, #dc2626);\n  font-size: 1.125rem;\n  margin-bottom: 1rem;\n}\n\n.empty-icon {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n  opacity: 0.4;\n}\n\n.empty-state h3 {\n  margin: 0 0 0.5rem 0;\n  font-size: 1.5rem;\n  color: var(--text-primary, #1f2937);\n}\n\n.empty-state p {\n  margin: 0 0 1.5rem 0;\n  font-size: 1rem;\n  color: var(--text-secondary, #6b7280);\n  max-width: 500px;\n}\n\n.template-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 1.5rem;\n}\n\n.template-card {\n  background: white;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 12px;\n  padding: 1.5rem;\n  transition: all 0.2s ease;\n  position: relative;\n}\n\n.template-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\n}\n\n.template-card.is-default {\n  border-color: var(--primary-color, #2563eb);\n  border-width: 2px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 1rem;\n}\n\n.template-info {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  flex: 1;\n}\n\n.template-name {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--text-primary, #1f2937);\n}\n\n.default-badge {\n  padding: 0.25rem 0.75rem;\n  background: var(--primary-color, #2563eb);\n  color: white;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n.card-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.icon-button {\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: transparent;\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s;\n  font-size: 1rem;\n}\n\n.icon-button:hover {\n  background: var(--bg-secondary, #f9fafb);\n  transform: scale(1.05);\n}\n\n.delete-button:hover {\n  background: var(--danger-color, #dc2626);\n  border-color: var(--danger-color, #dc2626);\n  color: white;\n}\n\n.template-description {\n  margin: 0 0 1rem 0;\n  color: var(--text-secondary, #6b7280);\n  font-size: 0.95rem;\n  line-height: 1.5;\n}\n\n.template-details {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n  padding: 1rem;\n  background: var(--bg-secondary, #f9fafb);\n  border-radius: 8px;\n}\n\n.detail-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.95rem;\n}\n\n.detail-label {\n  font-weight: 500;\n  color: var(--text-secondary, #6b7280);\n}\n\n.detail-value {\n  font-weight: 600;\n  color: var(--text-primary, #1f2937);\n}\n\n.cost-highlight {\n  color: var(--success-color, #059669);\n  font-size: 1.05rem;\n}\n\n.card-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 1rem;\n  border-top: 1px solid var(--border-color, #e5e7eb);\n}\n\n.card-meta {\n  font-size: 0.85rem;\n  color: var(--text-secondary, #6b7280);\n}\n\n@media (max-width: 1024px) {\n  .template-grid {\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  }\n}\n\n@media (max-width: 768px) {\n  .cargo-template-list {\n    padding: 1rem;\n  }\n\n  .list-header {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 1rem;\n  }\n\n  .template-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .card-footer {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: stretch;\n  }\n\n  .card-meta {\n    text-align: center;\n  }\n}\n</style>\n","<template>\n  <div class=\"cost-allocation-fields\">\n    <div class=\"section-header\">\n      <h3 class=\"section-title\">Cost Allocation</h3>\n      <p class=\"section-description\">Enter cost breakdown for this cargo commitment</p>\n    </div>\n\n    <div class=\"cost-inputs\">\n      <div class=\"form-group\">\n        <label for=\"operational-cost\" class=\"form-label\">\n          Operational Cost ($)\n        </label>\n        <BaseInput\n          id=\"operational-cost\"\n          v-model.number=\"localCosts.operationalCost\"\n          type=\"number\"\n          min=\"0\"\n          step=\"0.01\"\n          placeholder=\"0.00\"\n          :error=\"errors.operationalCost\"\n          @input=\"handleCostChange\"\n        />\n        <span v-if=\"errors.operationalCost\" class=\"error-message\">\n          {{ errors.operationalCost }}\n        </span>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"overhead-cost\" class=\"form-label\">\n          Overhead Cost ($)\n        </label>\n        <BaseInput\n          id=\"overhead-cost\"\n          v-model.number=\"localCosts.overheadCost\"\n          type=\"number\"\n          min=\"0\"\n          step=\"0.01\"\n          placeholder=\"0.00\"\n          :error=\"errors.overheadCost\"\n          @input=\"handleCostChange\"\n        />\n        <span v-if=\"errors.overheadCost\" class=\"error-message\">\n          {{ errors.overheadCost }}\n        </span>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"other-cost\" class=\"form-label\">\n          Other Cost ($)\n        </label>\n        <BaseInput\n          id=\"other-cost\"\n          v-model.number=\"localCosts.otherCost\"\n          type=\"number\"\n          min=\"0\"\n          step=\"0.01\"\n          placeholder=\"0.00\"\n          :error=\"errors.otherCost\"\n          @input=\"handleCostChange\"\n        />\n        <span v-if=\"errors.otherCost\" class=\"error-message\">\n          {{ errors.otherCost }}\n        </span>\n      </div>\n    </div>\n\n    <div class=\"total-cost-display\">\n      <div class=\"total-cost-label\">\n        <strong>Total Cost:</strong>\n      </div>\n      <div class=\"total-cost-value\" :class=\"{ 'has-value': totalCost > 0 }\">\n        ${{ formatCurrency(totalCost) }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport type { CostAllocation } from '@/types/cargo.types';\nimport BaseInput from '@/components/shared/BaseInput.vue';\n\n// Props\ninterface Props {\n  modelValue?: CostAllocation | null;\n  disabled?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  modelValue: null,\n  disabled: false,\n});\n\n// Emits\nconst emit = defineEmits<{\n  'update:modelValue': [value: CostAllocation];\n  'validation-change': [isValid: boolean];\n}>();\n\n// State\nconst localCosts = ref<CostAllocation>({\n  operationalCost: 0,\n  overheadCost: 0,\n  otherCost: 0,\n  totalCost: 0,\n});\n\nconst errors = ref<Partial<Record<keyof CostAllocation, string>>>({});\n\n// Computed\nconst totalCost = computed(() => {\n  const operational = Number(localCosts.value.operationalCost) || 0;\n  const overhead = Number(localCosts.value.overheadCost) || 0;\n  const other = Number(localCosts.value.otherCost) || 0;\n  return operational + overhead + other;\n});\n\nconst isValid = computed(() => {\n  return Object.keys(errors.value).length === 0 && \n         localCosts.value.operationalCost >= 0 &&\n         localCosts.value.overheadCost >= 0 &&\n         localCosts.value.otherCost >= 0;\n});\n\n// Watch for external changes\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    if (newValue) {\n      localCosts.value = {\n        operationalCost: newValue.operationalCost || 0,\n        overheadCost: newValue.overheadCost || 0,\n        otherCost: newValue.otherCost || 0,\n        totalCost: newValue.totalCost || 0,\n      };\n    } else {\n      resetCosts();\n    }\n  },\n  { immediate: true }\n);\n\n// Watch totalCost and update local state\nwatch(totalCost, (newTotal) => {\n  localCosts.value.totalCost = newTotal;\n  emitUpdate();\n});\n\n// Watch isValid and emit validation change\nwatch(isValid, (valid) => {\n  emit('validation-change', valid);\n});\n\n// Methods\nfunction handleCostChange() {\n  validateCosts();\n  emitUpdate();\n}\n\nfunction validateCosts(): boolean {\n  errors.value = {};\n  let valid = true;\n\n  if (localCosts.value.operationalCost < 0) {\n    errors.value.operationalCost = 'Operational cost cannot be negative';\n    valid = false;\n  }\n\n  if (localCosts.value.overheadCost < 0) {\n    errors.value.overheadCost = 'Overhead cost cannot be negative';\n    valid = false;\n  }\n\n  if (localCosts.value.otherCost < 0) {\n    errors.value.otherCost = 'Other cost cannot be negative';\n    valid = false;\n  }\n\n  return valid;\n}\n\nfunction emitUpdate() {\n  emit('update:modelValue', { ...localCosts.value });\n}\n\nfunction resetCosts() {\n  localCosts.value = {\n    operationalCost: 0,\n    overheadCost: 0,\n    otherCost: 0,\n    totalCost: 0,\n  };\n  errors.value = {};\n}\n\nfunction formatCurrency(value: number): string {\n  return new Intl.NumberFormat('en-US', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(value);\n}\n\n// Expose methods for parent component\ndefineExpose({\n  validateCosts,\n  resetCosts,\n});\n</script>\n\n<style scoped>\n.cost-allocation-fields {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n  background-color: var(--bg-secondary, #f9fafb);\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 8px;\n}\n\n.section-header {\n  margin-bottom: 0.5rem;\n}\n\n.section-title {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary, #1f2937);\n  margin: 0 0 0.25rem 0;\n}\n\n.section-description {\n  font-size: 0.875rem;\n  color: var(--text-secondary, #6b7280);\n  margin: 0;\n}\n\n.cost-inputs {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-label {\n  font-weight: 500;\n  color: var(--text-primary, #1f2937);\n  font-size: 0.95rem;\n}\n\n.error-message {\n  color: var(--danger-color, #dc2626);\n  font-size: 0.85rem;\n  margin-top: 0.25rem;\n}\n\n.total-cost-display {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  background-color: var(--bg-primary, #ffffff);\n  border: 2px solid var(--border-color, #e5e7eb);\n  border-radius: 8px;\n  margin-top: 0.5rem;\n}\n\n.total-cost-label {\n  font-size: 1rem;\n  color: var(--text-primary, #1f2937);\n}\n\n.total-cost-label strong {\n  font-weight: 600;\n}\n\n.total-cost-value {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--text-secondary, #6b7280);\n  transition: color 0.2s ease;\n}\n\n.total-cost-value.has-value {\n  color: var(--success-color, #059669);\n}\n\n@media (max-width: 1024px) {\n  .cost-inputs {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 640px) {\n  .cost-allocation-fields {\n    padding: 1rem;\n  }\n\n  .cost-inputs {\n    grid-template-columns: 1fr;\n  }\n\n  .total-cost-display {\n    flex-direction: column;\n    gap: 0.5rem;\n    text-align: center;\n  }\n\n  .total-cost-value {\n    font-size: 1.25rem;\n  }\n}\n</style>\n","<template>\n  <BaseModal\n    :show=\"show\"\n    :title=\"isEditMode ? 'Edit Cargo Template' : 'Create Cargo Template'\"\n    size=\"large\"\n    @close=\"handleClose\"\n  >\n    <form @submit.prevent=\"handleSubmit\" class=\"cargo-template-form\">\n      <div class=\"form-section\">\n        <h3 class=\"section-title\">Template Information</h3>\n        \n        <div class=\"form-group\">\n          <label for=\"template-name\" class=\"form-label\">\n            Template Name <span class=\"required\">*</span>\n          </label>\n          <BaseInput\n            id=\"template-name\"\n            v-model=\"formData.name\"\n            placeholder=\"e.g., Standard Container Cargo\"\n            required\n            :error=\"errors.name\"\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"description\" class=\"form-label\">\n            Description\n          </label>\n          <textarea\n            id=\"description\"\n            v-model=\"formData.description\"\n            class=\"form-textarea\"\n            rows=\"3\"\n            placeholder=\"Enter template description...\"\n          ></textarea>\n        </div>\n      </div>\n\n      <div class=\"form-section\">\n        <h3 class=\"section-title\">Cargo Details</h3>\n        \n        <div class=\"form-group\">\n          <label for=\"commodity\" class=\"form-label\">\n            Default Commodity <span class=\"required\">*</span>\n          </label>\n          <BaseInput\n            id=\"commodity\"\n            v-model=\"formData.commodity\"\n            placeholder=\"Enter commodity type...\"\n            required\n            :error=\"errors.commodity\"\n          />\n        </div>\n\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label for=\"quantity\" class=\"form-label\">\n              Standard Quantity (MT)\n            </label>\n            <BaseInput\n              id=\"quantity\"\n              v-model.number=\"formData.quantity\"\n              type=\"number\"\n              min=\"0\"\n              placeholder=\"Optional quantity...\"\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"freight-rate\" class=\"form-label\">\n              Default Freight Rate ($/MT)\n            </label>\n            <BaseInput\n              id=\"freight-rate\"\n              v-model.number=\"formData.freightRate\"\n              type=\"number\"\n              min=\"0\"\n              step=\"0.01\"\n              placeholder=\"Optional freight rate...\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"form-section\">\n        <h3 class=\"section-title\">Route Information</h3>\n        \n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label for=\"load-port\" class=\"form-label\">\n              Default Load Port\n            </label>\n            <BaseInput\n              id=\"load-port\"\n              v-model=\"formData.loadPort\"\n              placeholder=\"Optional load port...\"\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"disch-port\" class=\"form-label\">\n              Default Discharge Port\n            </label>\n            <BaseInput\n              id=\"disch-port\"\n              v-model=\"formData.dischPort\"\n              placeholder=\"Optional discharge port...\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Cost Allocation Fields -->\n      <div class=\"form-section\">\n        <CostAllocationFields\n          v-model=\"formData.costAllocation\"\n          @validation-change=\"handleCostValidationChange\"\n        />\n      </div>\n\n      <div class=\"form-section\">\n        <div class=\"form-group\">\n          <label class=\"checkbox-label\">\n            <input\n              type=\"checkbox\"\n              v-model=\"formData.isDefault\"\n              class=\"checkbox-input\"\n            />\n            <span>Set as default template</span>\n          </label>\n          <p class=\"help-text\">The default template will be pre-selected when creating new cargo commitments.</p>\n        </div>\n      </div>\n\n      <div class=\"form-actions\">\n        <BaseButton\n          type=\"button\"\n          variant=\"secondary\"\n          @click=\"handleClose\"\n        >\n          Cancel\n        </BaseButton>\n        <BaseButton\n          type=\"submit\"\n          variant=\"primary\"\n          :disabled=\"submitting || !isFormValid\"\n        >\n          {{ submitting ? 'Saving...' : (isEditMode ? 'Update Template' : 'Create Template') }}\n        </BaseButton>\n      </div>\n    </form>\n  </BaseModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport type { CargoTemplate, CargoTemplateFormData, CostAllocation } from '@/types/cargo.types';\nimport BaseModal from '@/components/shared/BaseModal.vue';\nimport BaseInput from '@/components/shared/BaseInput.vue';\nimport BaseButton from '@/components/shared/BaseButton.vue';\nimport CostAllocationFields from './CostAllocationFields.vue';\n\n// Props\ninterface Props {\n  show: boolean;\n  template?: CargoTemplate | null;\n  submitting?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  template: null,\n  submitting: false,\n});\n\n// Emits\nconst emit = defineEmits<{\n  close: [];\n  submit: [data: CargoTemplateFormData];\n}>();\n\n// Computed\nconst isEditMode = computed(() => !!props.template);\n\n// State\nconst formData = ref<CargoTemplateFormData>({\n  name: '',\n  description: '',\n  commodity: '',\n  quantity: undefined,\n  loadPort: '',\n  dischPort: '',\n  freightRate: undefined,\n  costAllocation: undefined,\n  isDefault: false,\n});\n\nconst errors = ref<Partial<Record<keyof CargoTemplateFormData, string>>>({});\nconst costValidationState = ref(true);\n\n// Computed\nconst isFormValid = computed(() => {\n  return (\n    formData.value.name.trim() !== '' &&\n    formData.value.commodity.trim() !== '' &&\n    Object.keys(errors.value).length === 0 &&\n    costValidationState.value\n  );\n});\n\n// Watch for template changes\nwatch(\n  () => props.template,\n  (newTemplate) => {\n    if (newTemplate) {\n      formData.value = {\n        name: newTemplate.name,\n        description: newTemplate.description || '',\n        commodity: newTemplate.commodity,\n        quantity: newTemplate.quantity,\n        loadPort: newTemplate.loadPort || '',\n        dischPort: newTemplate.dischPort || '',\n        freightRate: newTemplate.freightRate,\n        costAllocation: newTemplate.operationalCost !== undefined ? {\n          operationalCost: newTemplate.operationalCost || 0,\n          overheadCost: newTemplate.overheadCost || 0,\n          otherCost: newTemplate.otherCost || 0,\n          totalCost: (newTemplate.operationalCost || 0) + (newTemplate.overheadCost || 0) + (newTemplate.otherCost || 0),\n        } : undefined,\n        isDefault: newTemplate.isDefault || false,\n      };\n    } else {\n      resetForm();\n    }\n    errors.value = {};\n  },\n  { immediate: true }\n);\n\n// Methods\nfunction resetForm() {\n  formData.value = {\n    name: '',\n    description: '',\n    commodity: '',\n    quantity: undefined,\n    loadPort: '',\n    dischPort: '',\n    freightRate: undefined,\n    costAllocation: undefined,\n    isDefault: false,\n  };\n  errors.value = {};\n  costValidationState.value = true;\n}\n\nfunction handleCostValidationChange(isValid: boolean) {\n  costValidationState.value = isValid;\n}\n\nfunction validateForm(): boolean {\n  errors.value = {};\n  let isValid = true;\n\n  if (!formData.value.name.trim()) {\n    errors.value.name = 'Template name is required';\n    isValid = false;\n  }\n\n  if (!formData.value.commodity.trim()) {\n    errors.value.commodity = 'Commodity is required';\n    isValid = false;\n  }\n\n  if (formData.value.quantity !== undefined && formData.value.quantity < 0) {\n    errors.value.quantity = 'Quantity cannot be negative';\n    isValid = false;\n  }\n\n  if (formData.value.freightRate !== undefined && formData.value.freightRate < 0) {\n    errors.value.freightRate = 'Freight rate cannot be negative';\n    isValid = false;\n  }\n\n  return isValid;\n}\n\nfunction handleSubmit() {\n  if (!validateForm()) {\n    return;\n  }\n\n  const submitData: CargoTemplateFormData = { ...formData.value };\n  \n  // Flatten cost allocation into individual fields\n  if (submitData.costAllocation) {\n    submitData.operationalCost = submitData.costAllocation.operationalCost;\n    submitData.overheadCost = submitData.costAllocation.overheadCost;\n    submitData.otherCost = submitData.costAllocation.otherCost;\n  }\n  \n  // Remove undefined values\n  Object.keys(submitData).forEach(key => {\n    if (submitData[key as keyof CargoTemplateFormData] === undefined || \n        submitData[key as keyof CargoTemplateFormData] === '') {\n      delete submitData[key as keyof CargoTemplateFormData];\n    }\n  });\n\n  emit('submit', submitData);\n}\n\nfunction handleClose() {\n  resetForm();\n  emit('close');\n}\n</script>\n\n<style scoped>\n.cargo-template-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 0.5rem;\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n.form-section {\n  padding: 1.5rem;\n  background-color: var(--bg-secondary, #f9fafb);\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 8px;\n}\n\n.section-title {\n  margin: 0 0 1rem 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary, #1f2937);\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.form-group:last-child {\n  margin-bottom: 0;\n}\n\n.form-label {\n  font-weight: 500;\n  color: var(--text-primary, #1f2937);\n  font-size: 0.95rem;\n}\n\n.required {\n  color: var(--danger-color, #dc2626);\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n}\n\n.form-textarea {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid var(--border-color, #d1d5db);\n  border-radius: 6px;\n  font-family: inherit;\n  font-size: 0.95rem;\n  resize: vertical;\n}\n\n.form-textarea:focus {\n  outline: none;\n  border-color: var(--primary-color, #2563eb);\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  cursor: pointer;\n  font-size: 0.95rem;\n  color: var(--text-primary, #1f2937);\n}\n\n.checkbox-input {\n  width: 1.25rem;\n  height: 1.25rem;\n  cursor: pointer;\n  accent-color: var(--primary-color, #2563eb);\n}\n\n.help-text {\n  margin: 0.5rem 0 0 2rem;\n  font-size: 0.85rem;\n  color: var(--text-secondary, #6b7280);\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--border-color, #e5e7eb);\n}\n\n@media (max-width: 768px) {\n  .form-row {\n    grid-template-columns: 1fr;\n  }\n\n  .cargo-template-form {\n    padding: 0;\n    max-height: 80vh;\n  }\n\n  .form-section {\n    padding: 1rem;\n  }\n}\n</style>\n","<template>\n  <BaseModal\n    :show=\"show\"\n    :title=\"isEditMode ? 'Edit Cargo Commitment' : 'Add Cargo Commitment'\"\n    @close=\"handleClose\"\n  >\n    <form @submit.prevent=\"handleSubmit\" class=\"cargo-form\">\n      <div class=\"form-group\">\n        <label for=\"cargo-id\" class=\"form-label\">\n          Cargo ID <span class=\"required\">*</span>\n        </label>\n        <BaseInput\n          id=\"cargo-id\"\n          v-model=\"formData.id\"\n          :disabled=\"isEditMode\"\n          placeholder=\"Enter cargo ID...\"\n          required\n          :error=\"errors.id\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"commodity\" class=\"form-label\">\n          Commodity <span class=\"required\">*</span>\n        </label>\n        <BaseInput\n          id=\"commodity\"\n          v-model=\"formData.commodity\"\n          placeholder=\"Enter commodity type...\"\n          required\n          :error=\"errors.commodity\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"quantity\" class=\"form-label\">\n          Quantity (MT) <span class=\"required\">*</span>\n        </label>\n        <BaseInput\n          id=\"quantity\"\n          v-model.number=\"formData.quantity\"\n          type=\"number\"\n          min=\"0\"\n          placeholder=\"Enter quantity...\"\n          required\n          :error=\"errors.quantity\"\n        />\n      </div>\n\n      <div class=\"form-row\">\n        <div class=\"form-group\">\n          <label for=\"load-port\" class=\"form-label\">\n            Load Port <span class=\"required\">*</span>\n          </label>\n          <BaseInput\n            id=\"load-port\"\n            v-model=\"formData.loadPort\"\n            placeholder=\"Enter load port...\"\n            required\n            :error=\"errors.loadPort\"\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"disch-port\" class=\"form-label\">\n            Discharge Port <span class=\"required\">*</span>\n          </label>\n          <BaseInput\n            id=\"disch-port\"\n            v-model=\"formData.dischPort\"\n            placeholder=\"Enter discharge port...\"\n            required\n            :error=\"errors.dischPort\"\n          />\n        </div>\n      </div>\n\n      <div class=\"form-row\">\n        <div class=\"form-group\">\n          <label for=\"laycan-start\" class=\"form-label\">\n            Laycan Start <span class=\"required\">*</span>\n          </label>\n          <BaseInput\n            id=\"laycan-start\"\n            v-model=\"formData.laycanStart\"\n            type=\"date\"\n            required\n            :error=\"errors.laycanStart\"\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"laycan-end\" class=\"form-label\">\n            Laycan End <span class=\"required\">*</span>\n          </label>\n          <BaseInput\n            id=\"laycan-end\"\n            v-model=\"formData.laycanEnd\"\n            type=\"date\"\n            required\n            :error=\"errors.laycanEnd\"\n          />\n        </div>\n      </div>\n\n      <div class=\"form-group\" v-if=\"isEditMode\">\n        <label for=\"status\" class=\"form-label\">\n          Status\n        </label>\n        <BaseSelect\n          id=\"status\"\n          v-model=\"formData.status\"\n          :options=\"statusOptions\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"freight-rate\" class=\"form-label\">\n          Freight Rate ($/MT)\n        </label>\n        <BaseInput\n          id=\"freight-rate\"\n          v-model.number=\"formData.freightRate\"\n          type=\"number\"\n          min=\"0\"\n          step=\"0.01\"\n          placeholder=\"Enter freight rate...\"\n        />\n      </div>\n\n      <!-- Cost Allocation Fields -->\n      <CostAllocationFields\n        v-model=\"formData.costAllocation\"\n        @validation-change=\"handleCostValidationChange\"\n      />\n\n      <div class=\"form-group\">\n        <label for=\"notes\" class=\"form-label\">\n          Notes\n        </label>\n        <textarea\n          id=\"notes\"\n          v-model=\"formData.notes\"\n          class=\"form-textarea\"\n          rows=\"3\"\n          placeholder=\"Enter any additional notes...\"\n        ></textarea>\n      </div>\n\n      <div class=\"form-actions\">\n        <BaseButton\n          type=\"button\"\n          variant=\"secondary\"\n          @click=\"handleClose\"\n        >\n          Cancel\n        </BaseButton>\n        <BaseButton\n          type=\"submit\"\n          variant=\"primary\"\n          :disabled=\"submitting || !isFormValid\"\n        >\n          {{ submitting ? 'Saving...' : (isEditMode ? 'Update Cargo' : 'Create Cargo') }}\n        </BaseButton>\n      </div>\n    </form>\n  </BaseModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport type { CargoCommitment, CargoFormData, CostAllocation } from '@/types/cargo.types';\nimport BaseModal from '@/components/shared/BaseModal.vue';\nimport BaseInput from '@/components/shared/BaseInput.vue';\nimport BaseSelect from '@/components/shared/BaseSelect.vue';\nimport BaseButton from '@/components/shared/BaseButton.vue';\nimport CostAllocationFields from './CostAllocationFields.vue';\n\n// Props\ninterface Props {\n  show: boolean;\n  cargo?: CargoCommitment | null;\n  submitting?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  cargo: null,\n  submitting: false,\n});\n\n// Emits\nconst emit = defineEmits<{\n  close: [];\n  submit: [data: CargoFormData];\n}>();\n\n// Computed\nconst isEditMode = computed(() => !!props.cargo);\n\n// State\nconst formData = ref<CargoFormData>({\n  id: '',\n  commodity: '',\n  quantity: 0,\n  loadPort: '',\n  dischPort: '',\n  laycanStart: '',\n  laycanEnd: '',\n  status: 'Pending',\n  freightRate: undefined,\n  notes: undefined,\n  costAllocation: undefined,\n});\n\nconst errors = ref<Partial<Record<keyof CargoFormData, string>>>({});\nconst costValidationState = ref(true);\n\n// Options\nconst statusOptions = [\n  { value: 'Pending', label: 'Pending' },\n  { value: 'Assigned', label: 'Assigned' },\n  { value: 'Completed', label: 'Completed' },\n  { value: 'Cancelled', label: 'Cancelled' },\n];\n\n// Computed\nconst isFormValid = computed(() => {\n  return (\n    formData.value.id &&\n    formData.value.commodity &&\n    formData.value.quantity > 0 &&\n    formData.value.loadPort &&\n    formData.value.dischPort &&\n    formData.value.laycanStart &&\n    formData.value.laycanEnd &&\n    Object.keys(errors.value).length === 0 &&\n    costValidationState.value\n  );\n});\n\n// Watch for cargo changes\nwatch(\n  () => props.cargo,\n  (newCargo) => {\n    if (newCargo) {\n      formData.value = {\n        id: newCargo.id,\n        commodity: newCargo.commodity,\n        quantity: newCargo.quantity,\n        loadPort: newCargo.loadPort,\n        dischPort: newCargo.dischPort,\n        laycanStart: newCargo.laycanStart,\n        laycanEnd: newCargo.laycanEnd,\n        status: newCargo.status,\n        freightRate: newCargo.freightRate,\n        notes: newCargo.notes,\n        costAllocation: newCargo.operationalCost !== undefined ? {\n          operationalCost: newCargo.operationalCost || 0,\n          overheadCost: newCargo.overheadCost || 0,\n          otherCost: newCargo.otherCost || 0,\n          totalCost: (newCargo.operationalCost || 0) + (newCargo.overheadCost || 0) + (newCargo.otherCost || 0),\n        } : undefined,\n      };\n    } else {\n      resetForm();\n    }\n    errors.value = {};\n  },\n  { immediate: true }\n);\n\n// Methods\nfunction resetForm() {\n  formData.value = {\n    id: '',\n    commodity: '',\n    quantity: 0,\n    loadPort: '',\n    dischPort: '',\n    laycanStart: '',\n    laycanEnd: '',\n    status: 'Pending',\n    freightRate: undefined,\n    notes: undefined,\n    costAllocation: undefined,\n  };\n  errors.value = {};\n  costValidationState.value = true;\n}\n\nfunction handleCostValidationChange(isValid: boolean) {\n  costValidationState.value = isValid;\n}\n\nfunction validateForm(): boolean {\n  errors.value = {};\n  let isValid = true;\n\n  if (!formData.value.id) {\n    errors.value.id = 'Cargo ID is required';\n    isValid = false;\n  }\n\n  if (!formData.value.commodity) {\n    errors.value.commodity = 'Commodity is required';\n    isValid = false;\n  }\n\n  if (formData.value.quantity <= 0) {\n    errors.value.quantity = 'Quantity must be greater than 0';\n    isValid = false;\n  }\n\n  if (!formData.value.loadPort) {\n    errors.value.loadPort = 'Load port is required';\n    isValid = false;\n  }\n\n  if (!formData.value.dischPort) {\n    errors.value.dischPort = 'Discharge port is required';\n    isValid = false;\n  }\n\n  if (!formData.value.laycanStart) {\n    errors.value.laycanStart = 'Laycan start is required';\n    isValid = false;\n  }\n\n  if (!formData.value.laycanEnd) {\n    errors.value.laycanEnd = 'Laycan end is required';\n    isValid = false;\n  }\n\n  if (formData.value.laycanStart && formData.value.laycanEnd) {\n    if (new Date(formData.value.laycanStart) > new Date(formData.value.laycanEnd)) {\n      errors.value.laycanEnd = 'Laycan end must be after laycan start';\n      isValid = false;\n    }\n  }\n\n  return isValid;\n}\n\nfunction handleSubmit() {\n  if (!validateForm()) {\n    return;\n  }\n\n  const submitData: CargoFormData = { ...formData.value };\n  \n  // Flatten cost allocation into individual fields for backward compatibility\n  if (submitData.costAllocation) {\n    submitData.operationalCost = submitData.costAllocation.operationalCost;\n    submitData.overheadCost = submitData.costAllocation.overheadCost;\n    submitData.otherCost = submitData.costAllocation.otherCost;\n  }\n  \n  // Remove undefined values\n  Object.keys(submitData).forEach(key => {\n    if (submitData[key as keyof CargoFormData] === undefined) {\n      delete submitData[key as keyof CargoFormData];\n    }\n  });\n\n  emit('submit', submitData);\n}\n\nfunction handleClose() {\n  resetForm();\n  emit('close');\n}\n</script>\n\n<style scoped>\n.cargo-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 0.5rem;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-label {\n  font-weight: 500;\n  color: var(--text-primary, #1f2937);\n  font-size: 0.95rem;\n}\n\n.required {\n  color: var(--danger-color, #dc2626);\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n}\n\n.form-textarea {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid var(--border-color, #d1d5db);\n  border-radius: 6px;\n  font-family: inherit;\n  font-size: 0.95rem;\n  resize: vertical;\n}\n\n.form-textarea:focus {\n  outline: none;\n  border-color: var(--primary-color, #2563eb);\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--border-color, #e5e7eb);\n}\n\n@media (max-width: 768px) {\n  .form-row {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n","<template>\n  <div class=\"cargo-management\">\n    <div class=\"header\">\n      <div class=\"header-content\">\n        <h1>Cargo Management</h1>\n        <p class=\"subtitle\">Manage cargo commitments and templates.</p>\n      </div>\n      \n      <div class=\"view-toggle\">\n        <button \n          class=\"toggle-btn\" \n          :class=\"{ active: activeView === 'commitments' }\"\n          @click=\"activeView = 'commitments'\"\n        >\n          Commitments\n        </button>\n        <button \n          class=\"toggle-btn\" \n          :class=\"{ active: activeView === 'templates' }\"\n          @click=\"activeView = 'templates'\"\n        >\n          Templates\n        </button>\n      </div>\n    </div>\n\n    <!-- Commitments View -->\n    <div v-if=\"activeView === 'commitments'\">\n      <CargoList\n        :cargo=\"cargoStore.cargoList\"\n        :loading=\"cargoStore.loading\"\n        @add-cargo=\"handleAddCargo\"\n        @edit-cargo=\"handleEditCargo\"\n        @delete-cargo=\"handleDeleteCargo\"\n        @view-cargo=\"handleViewCargo\"\n      />\n    </div>\n\n    <!-- Templates View -->\n    <div v-else-if=\"activeView === 'templates'\">\n      <CargoTemplateList\n        :templates=\"cargoStore.templates\"\n        :loading=\"cargoStore.loading\"\n        @create=\"handleCreateTemplate\"\n        @edit=\"handleEditTemplate\"\n        @delete=\"handleDeleteTemplate\"\n        @apply=\"handleApplyTemplate\"\n      />\n    </div>\n\n    <!-- Cargo Form Modal -->\n    <CargoForm\n      :show=\"showCargoModal\"\n      :cargo=\"selectedCargo\"\n      :submitting=\"cargoStore.loading\"\n      @close=\"closeCargoModal\"\n      @submit=\"handleCargoSubmit\"\n    />\n\n    <!-- Template Form Modal -->\n    <CargoTemplateForm\n      :show=\"showTemplateModal\"\n      :template=\"selectedTemplate\"\n      :submitting=\"cargoStore.loading\"\n      @close=\"closeTemplateModal\"\n      @submit=\"handleTemplateSubmit\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, watch } from 'vue';\nimport { useCargoStore } from '@/stores/cargo';\nimport CargoList from '@/components/cargo/CargoList.vue';\nimport CargoTemplateList from '@/components/cargo/CargoTemplateList.vue';\nimport CargoTemplateForm from '@/components/cargo/CargoTemplateForm.vue';\nimport CargoForm from '@/components/cargo/CargoForm.vue';\nimport type { CargoCommitment, CargoTemplate, CargoTemplateFormData, CargoFormData } from '@/types/cargo.types';\n\nconst cargoStore = useCargoStore();\nconst activeView = ref<'commitments' | 'templates'>('commitments');\n\n// Cargo Modal State\nconst showCargoModal = ref(false);\nconst selectedCargo = ref<CargoCommitment | null>(null);\n\n// Template Modal State\nconst showTemplateModal = ref(false);\nconst selectedTemplate = ref<CargoTemplate | null>(null);\n\nonMounted(() => {\n  loadData();\n});\n\nwatch(activeView, () => {\n  loadData();\n});\n\nfunction loadData() {\n  if (activeView.value === 'commitments') {\n    cargoStore.fetchCargo();\n  } else {\n    cargoStore.fetchTemplates();\n  }\n}\n\n// Cargo Handlers\nfunction handleAddCargo() {\n  selectedCargo.value = null;\n  showCargoModal.value = true;\n}\n\nfunction handleEditCargo(cargo: CargoCommitment) {\n  selectedCargo.value = cargo;\n  showCargoModal.value = true;\n}\n\nasync function handleDeleteCargo(cargo: CargoCommitment) {\n  if (confirm('Are you sure you want to delete this cargo commitment?')) {\n    await cargoStore.deleteCargo(cargo.id);\n  }\n}\n\nfunction handleViewCargo(cargo: CargoCommitment) {\n  console.log('View cargo:', cargo);\n}\n\nasync function handleCargoSubmit(data: CargoFormData) {\n  let success = false;\n  \n  if (selectedCargo.value) {\n    success = !!(await cargoStore.updateCargo(selectedCargo.value.id, data));\n  } else {\n    success = !!(await cargoStore.createCargo(data));\n  }\n  \n  if (success) {\n    closeCargoModal();\n  }\n}\n\nfunction closeCargoModal() {\n  showCargoModal.value = false;\n  selectedCargo.value = null;\n}\n\n// Template Handlers\nfunction handleCreateTemplate() {\n  selectedTemplate.value = null;\n  showTemplateModal.value = true;\n}\n\nfunction handleEditTemplate(template: CargoTemplate) {\n  selectedTemplate.value = template;\n  showTemplateModal.value = true;\n}\n\nasync function handleDeleteTemplate(template: CargoTemplate) {\n  if (confirm(`Are you sure you want to delete template \"${template.name}\"?`)) {\n    await cargoStore.deleteTemplate(template.id);\n  }\n}\n\nfunction handleApplyTemplate(template: CargoTemplate) {\n  // Switch to commitments view and open add modal with template data\n  activeView.value = 'commitments';\n  \n  // Create a partial cargo object from template\n  const cargoFromTemplate: any = {\n    commodity: template.commodity,\n    quantity: template.quantity || 0,\n    loadPort: template.loadPort || '',\n    dischPort: template.dischPort || '',\n    freightRate: template.freightRate,\n    operationalCost: template.costAllocations?.operationalCost,\n    overheadCost: template.costAllocations?.overheadCost,\n    otherCost: template.costAllocations?.otherCost,\n    status: 'Pending'\n  };\n  \n  // We don't set ID so it's treated as new\n  selectedCargo.value = cargoFromTemplate;\n  showCargoModal.value = true;\n}\n\nasync function handleTemplateSubmit(data: CargoTemplateFormData) {\n  let success = false;\n  \n  if (selectedTemplate.value) {\n    success = await cargoStore.updateTemplate(selectedTemplate.value.id, data);\n  } else {\n    success = await cargoStore.createTemplate(data);\n  }\n  \n  if (success) {\n    closeTemplateModal();\n  }\n}\n\nfunction closeTemplateModal() {\n  showTemplateModal.value = false;\n  selectedTemplate.value = null;\n}\n</script>\n\n<style scoped>\n.cargo-management {\n  padding: 1.5rem;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.header-content h1 {\n  margin: 0 0 0.5rem 0;\n  color: var(--text-primary, #111827);\n  font-size: 1.875rem;\n  font-weight: 600;\n}\n\n.subtitle {\n  margin: 0;\n  color: var(--text-secondary, #6b7280);\n  font-size: 1.1rem;\n}\n\n.view-toggle {\n  display: flex;\n  background: var(--bg-secondary, #f3f4f6);\n  padding: 0.25rem;\n  border-radius: 0.5rem;\n}\n\n.toggle-btn {\n  padding: 0.5rem 1.5rem;\n  border: none;\n  background: transparent;\n  color: var(--text-secondary, #6b7280);\n  font-weight: 500;\n  cursor: pointer;\n  border-radius: 0.375rem;\n  transition: all 0.2s;\n}\n\n.toggle-btn.active {\n  background: white;\n  color: var(--primary-color, #2563eb);\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.modal-placeholder {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 100;\n}\n\n.modal-content {\n  background: white;\n  padding: 2rem;\n  border-radius: 0.5rem;\n  min-width: 400px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.modal-actions {\n  margin-top: 1.5rem;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.modal-actions button {\n  padding: 0.5rem 1rem;\n  background: var(--bg-secondary, #f3f4f6);\n  border: 1px solid var(--border-color, #e5e7eb);\n  border-radius: 0.375rem;\n  cursor: pointer;\n}\n\n@media (max-width: 640px) {\n  .header {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  \n  .view-toggle {\n    width: 100%;\n  }\n  \n  .toggle-btn {\n    flex: 1;\n  }\n}\n</style>"],"names":["props","__props","emit","__emit","selectId","computed","Math","random","toString","substring","getOptionValue","option","valueKey","handleChange","event","value","target","_createElementBlock","class","_normalizeClass","error","label","for","_createTextVNode","_toDisplayString","required","_hoisted_2","_createElementVNode","_hoisted_3","id","modelValue","disabled","onChange","placeholder","_hoisted_5","_Fragment","_renderList","options","key","labelKey","String","getOptionLabel","_hoisted_6","_cache","_hoisted_7","hint","_hoisted_8","inputId","handleInput","type","Number","handleBlur","handleFocus","prefix","_hoisted_4","readonly","min","max","step","onInput","onBlur","onFocus","suffix","buttonClasses","variant","size","loading","fullWidth","handleClick","onClick","_openBlock","icon","$slots","default","_renderSlot","_ctx","modalClasses","handleClose","handleConfirm","handleOverlayClick","closeOnOverlay","currentTarget","watch","isOpen","document","body","style","overflow","_createBlock","_Teleport","to","_createVNode","_Transition","name","role","_hoisted_1","title","closable","footer","showDefaultFooter","BaseButton","cancelText","confirmText","searchTerm","ref","filterStatus","filterPort","sortBy","sortDirection","currentPage","statusOptions","filteredCargo","filtered","cargo","term","toLowerCase","filter","c","includes","commodity","status","port","loadPort","dischPort","sort","a","b","aVal","bVal","comparison","totalPages","ceil","length","paginatedCargo","start","end","slice","field","formatDate","date","Date","toLocaleDateString","year","month","day","$event","BaseSelect","$emit","LoadingSpinner","_hoisted_9","_hoisted_10","_hoisted_11","quantity","toLocaleString","laycanStart","laycanEnd","confirm","handleDelete","_hoisted_13","_hoisted_14","formatNumber","Intl","NumberFormat","maximumFractionDigits","format","hasCostAllocation","template","operationalCost","overheadCost","otherCost","getTotalCost","message","templates","isDefault","_hoisted_12","description","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","freightRate","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","createdAt","localCosts","totalCost","errors","isValid","Object","keys","handleCostChange","validateCosts","emitUpdate","valid","resetCosts","newValue","immediate","newTotal","__expose","BaseInput","number","minimumFractionDigits","isEditMode","formData","costAllocation","costValidationState","isFormValid","trim","resetForm","handleCostValidationChange","handleSubmit","validateForm","submitData","forEach","newTemplate","BaseModal","show","onClose","onSubmit","rows","_vModelText","CostAllocationFields","onValidationChange","_vModelCheckbox","submitting","notes","newCargo","cargoStore","useCargoStore","activeView","showCargoModal","selectedCargo","showTemplateModal","selectedTemplate","loadData","fetchCargo","fetchTemplates","handleAddCargo","handleEditCargo","async","handleDeleteCargo","deleteCargo","handleViewCargo","handleCargoSubmit","data","success","updateCargo","createCargo","closeCargoModal","handleCreateTemplate","handleEditTemplate","handleDeleteTemplate","deleteTemplate","handleApplyTemplate","cargoFromTemplate","costAllocations","handleTemplateSubmit","updateTemplate","createTemplate","closeTemplateModal","onMounted","active","CargoList","_unref","cargoList","onAddCargo","onEditCargo","onDeleteCargo","onViewCargo","CargoTemplateList","onCreate","onEdit","onDelete","onApply","CargoForm","CargoTemplateForm"],"mappings":"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"}